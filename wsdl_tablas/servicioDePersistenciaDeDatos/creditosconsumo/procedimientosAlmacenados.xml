<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE sqlMap      
    PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"      
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">
    
<sqlMap namespace="creditosconsumo.procedimientosAlmacenados">

    <resultMap id="ofertaCreditoMap" class="java.util.HashMap">
   		<result property="codOfertaCredito" column="COD_OFE_CRE" jdbcType="INTEGER" javaType="java.lang.Integer"/>
        <result property="monto" column="MONTO" jdbcType="DECIMAL" javaType="java.lang.Double"/>
        <result property="plazo" column="PLAZO" jdbcType="INTEGER" javaType="java.lang.Integer"/>
        <result property="montoCuota" column="MONTO_CUOTA"  jdbcType="DECIMAL" javaType="java.lang.Double"/>
    </resultMap>

    
    <procedure id="obtenerOfertaCreditoCliente"  resultMap="ofertaCreditoMap" parameterClass="java.util.HashMap">
        {CALL sp_crd_cns_ofertas(#rutCliente#,#codigoOferta#)}
    </procedure>
    
     
    <procedure id="obtenerOfertaCredito"  resultMap="ofertaCreditoMap" parameterClass="java.util.HashMap">
        {CALL sp_crd_cns_ofe_cre(#codigoOfertaCredito#)}
    </procedure>
    
	<!-- [INI] CreditoAutomotriz Obtiene Concesionarios -->
	<resultMap id="getObtieneConcesionario" class="java.util.HashMap">
		<result property="id" 					column="Con_Aut_Id"				jdbcType="INT" 			javaType="Integer"/>
		<result property="rut" 					column="Con_Aut_Rut"			jdbcType="INT" 			javaType="Long"/>
		<result property="dv" 					column="Con_Aut_Dv"				jdbcType="CHAR"			javaType="String" />
		<result property="razonSocial" 			column="Con_Aut_Raz_Soc"		jdbcType="String" 		javaType="String" />
		<result property="numCta" 				column="Con_Aut_Num_Cta"		jdbcType="String" 		javaType="String" />
		<result property="tipoCta" 				column="Con_Aut_Tip_Cta"		jdbcType="INT" 			javaType="Integer"/>
		<result property="bcoId" 				column="Con_Aut_Bco_Id"			jdbcType="INT" 			javaType="Integer"/>
		<result property="nombreConcesionario" 	column="Con_Aut_Nom_Con"		jdbcType="String" 		javaType="String" />
		<result property="email" 				column="Con_Aut_Eml"			jdbcType="String" 		javaType="String" />
		<result property="telefono1" 			column="Con_Aut_Tel1"			jdbcType="String" 		javaType="String" />
		<result property="telefono2" 			column="Con_Aut_Tel2"			jdbcType="String" 		javaType="String" />
		<result property="celular" 				column="Con_Aut_Cel"			jdbcType="String" 		javaType="String" />
		<result property="vigente" 				column="Con_Aut_Ind_Vig"		jdbcType="String" 		javaType="String" />
		<result property="fechaIngreso" 		column="Con_Aut_Fec_Ingreso"	jdbcType="DATETIME" 	javaType="Date" />
		<result property="usuarioIngreso" 		column="Con_Aut_Usr_Ingreso"	jdbcType="String" 		javaType="String" />
		<result property="usuarioActualiza" 	column="Con_Aut_Usr_Actualiza"	jdbcType="String" 		javaType="String" />
		<result property="fechaActualiza" 		column="Con_Aut_Fec_Actualiza"	jdbcType="DATETIME" 	javaType="Date" />
		<result property="latitud" 				column="con_aut_lat"			jdbcType="decimal" 		javaType="Double" />
		<result property="longitud" 			column="con_aut_lon"			jdbcType="decimal" 		javaType="Double" />
	</resultMap>
	<procedure id="obtieneConcesionarios" parameterClass="java.util.HashMap" resultMap="getObtieneConcesionario">
		{CALL dbo.sp_cons_aut_concesionarios()}
	</procedure>
	<!-- [INI] CreditoAutomotriz Obtiene Concesionarios -->
	<procedure id="obtieneConcesionarioId" parameterClass="java.util.HashMap" resultMap="getObtieneConcesionario">
		{CALL sp_cons_aut_concesionario_id(#id_concesionario#)}
	</procedure>
	<!-- [FIN] CreditoAutomotriz Obtiene Concecionarios -->


</sqlMap>    
	
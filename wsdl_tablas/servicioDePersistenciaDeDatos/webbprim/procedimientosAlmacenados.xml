<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="webbprim.procedimientosAlmacenados">
	<resultMap id="getObtenerNoticiasFinancieras" class="java.util.HashMap">
		<result property="idNoticia"	column="ID_NOTICIA"		javaType="java.lang.Integer" />
		<result property="titulo"	column="TITULO"		javaType="String" />
		<result property="contenido"		column="CONTENIDO"			javaType="String" />
	</resultMap>
	
	<procedure id="obtenerNoticiasFinancieras" resultMap="getObtenerNoticiasFinancieras">
		{ CALL sp_obtener_noticias() }
	</procedure>
	
	<parameterMap id="setObtenerPersonalizacion" class="java.util.HashMap">
		<parameter property="llave1" jdbcType="CHAR" javaType="String"/>
		<parameter property="llave2" jdbcType="CHAR" javaType="String"/>
		<parameter property="llave3" jdbcType="CHAR" javaType="String"/>
		<parameter property="llave4" jdbcType="CHAR" javaType="String"/>
		<parameter property="llave5" jdbcType="CHAR" javaType="String"/>
		<parameter property="llave6" jdbcType="CHAR" javaType="String"/>
	</parameterMap>
	<resultMap id="getObtenerPersonalizacion" class="java.util.HashMap">
		<result property="valor" column="valor" jdbcType="VARCHAR" javaType="String"/>
	</resultMap>
	<procedure id="obtenerPersonalizacion" parameterMap="setObtenerPersonalizacion" resultMap="getObtenerPersonalizacion">		
		{ CALL sp_obt_pers( ?,?,?,?,?,?) }	
	</procedure>

    <parameterMap id="setObtenerIndicadoresTick" class="java.util.HashMap">
		<parameter property="idNotations" jdbcType="CHAR" javaType="String"/>
	<parameter property="ordenamiento" jdbcType="CHAR" javaType="String"/>
	</parameterMap>
	<resultMap id="getObtenerIndicadoresTick" class="java.util.HashMap">
		<result property="tic_id_indicador" column="tic_id_indicador" jdbcType="CHAR" javaType="String"/>
		<result property="tic_nom_indicador" column="tic_nom_indicador" jdbcType="CHAR" javaType="String"/>
        <result property="tic_mto_valor" column="tic_mto_valor" jdbcType="INT"	javaType="java.lang.Double"/>
		<result property="tic_mto_ultimo" column="tic_mto_ultimo" jdbcType="INT"	javaType="java.lang.Double"/>
		<result property="tic_mto_transado" column="tic_mto_transado" jdbcType="INT"	javaType="java.lang.Double"/>
		<result property="tic_var_dia" column="tic_var_dia" jdbcType="INT"	javaType="java.lang.Double"/>
		<result property="tic_var_mensual" column="tic_var_mensual" jdbcType="INT"	javaType="java.lang.Double"/>
		<result property="tic_var_anual" column="tic_var_anual" jdbcType="INT"	javaType="java.lang.Double"/>
		<result property="tic_var_dif_precio" column="tic_var_dif_precio" jdbcType="INT"	javaType="java.lang.Double"/>
		<result property="tic_fec_publicacion" column="tic_fec_publicacion" jdbcType="DATETIME" javaType="java.util.Date"/>
	</resultMap>
	<procedure id="obtenerIndicadoresTick" parameterMap="setObtenerIndicadoresTick" resultMap="getObtenerIndicadoresTick">		
		{ CALL sp_obt_ticks_ordenados( ?, ? ) }	
	</procedure>		
     
	<parameterMap id="setObtenerPreciosPorIndicador" class="java.util.HashMap">
		<parameter property="tipoBusqueda" jdbcType="CHAR" javaType="String"/>
		<parameter property="fechaInicio" jdbcType="DATETIME" javaType="java.util.Date"/>
		<parameter property="fechaFin" jdbcType="DATETIME" javaType="java.util.Date"/>
		<parameter property="idIndicador" jdbcType="CHAR" javaType="String"/>
	</parameterMap>
	<resultMap id="getObtenerPreciosPorIndicador" class="java.util.HashMap">
		<result property="id_notation" column="id_notation" jdbcType="CHAR" javaType="String"/>
		<result property="nombre_indicador" column="nombre_indicador" jdbcType="CHAR" javaType="String"/>
		<result property="fec_publicacion" column="fec_publicacion" jdbcType="DATETIME" javaType="java.util.Date"/>
        <result property="mto_precio" column="mto_precio" jdbcType="INT"	javaType="java.lang.Double"/>
		<result property="mto_acu_dia" column="mto_acu_dia" jdbcType="INT"	javaType="java.lang.Double"/>
		<result property="vol_acu_dia" column="vol_acu_dia" jdbcType="INT"  javaType="java.lang.Double"/>
		
</resultMap>
	<procedure id="obtenerPreciosPorIndicador" parameterMap="setObtenerPreciosPorIndicador" resultMap="getObtenerPreciosPorIndicador">		
		{ CALL sp_obt_precios_por_indicador( ?,?,?,?) }	
	</procedure>
	
	<resultMap id="getObtenerGruposIndicadores" class="java.util.HashMap">
		<result property="gru_id_grupo" column="gru_id_grupo" jdbcType="CHAR" javaType="String"/>
		<result property="gru_nom_grupo" column="gru_nom_grupo" jdbcType="CHAR" javaType="String"/>	
	</resultMap>
	<procedure id="obtenerGruposIndicadores" resultMap="getObtenerGruposIndicadores">		
		{ CALL sp_obt_todos_grupos() }	
	</procedure>
	
	<parameterMap id="setObtenerIndicadoresPorGrupo" class="java.util.HashMap">
	  <parameter property="idGrupo" jdbcType="CHAR" javaType="String"/>
	</parameterMap>
			
	<resultMap id="getObtenerIndicadoresPorGrupo" class="java.util.HashMap">
		<result property="ind_id_notation" column="ind_id_notation" jdbcType="CHAR" javaType="String"/>
		<result property="ind_nom_corto" column="ind_nom_corto" jdbcType="CHAR" javaType="String"/>
		<result property="ind_nom_largo" column="ind_nom_largo" jdbcType="CHAR" javaType="String"/>	
	</resultMap>
	<procedure id="obtenerIndicadoresPorGrupo" parameterMap="setObtenerIndicadoresPorGrupo" resultMap="getObtenerIndicadoresPorGrupo">		
		{ CALL sp_obt_ind_por_grupo( ? ) }	
	</procedure>

    <parameterMap id="setObtenerDetalleInstrumento" class="java.util.HashMap">
		<parameter property="idIndicador" jdbcType="CHAR" javaType="String"/>
	</parameterMap>	
	
	<resultMap id="getObtenerDetalleInstrumento" class="java.util.HashMap">
		<result property="tic_id_indicador" column="tic_id_indicador" jdbcType="CHAR" javaType="String"/>
		<result property="tic_nom_indicador" column="tic_nom_indicador" jdbcType="CHAR" javaType="String"/>
        <result property="tic_mto_valor" column="tic_mto_valor" jdbcType="INT"	javaType="java.lang.Double"/>
		<result property="tic_mto_ultimo" column="tic_mto_ultimo" jdbcType="INT"	javaType="java.lang.Double"/>
		<result property="tic_mto_transado" column="tic_mto_transado" jdbcType="INT"	javaType="java.lang.Double"/>
		<result property="tic_var_dia" column="tic_var_dia" jdbcType="INT"	javaType="java.lang.Double"/>
		<result property="tic_var_mensual" column="tic_var_mensual" jdbcType="INT"	javaType="java.lang.Double"/>
		<result property="tic_var_anual" column="tic_var_anual" jdbcType="INT"	javaType="java.lang.Double"/>
		<result property="tic_var_dif_precio" column="tic_var_dif_precio" jdbcType="INT"	javaType="java.lang.Double"/>
		<result property="tic_fec_publicacion" column="tic_fec_publicacion" jdbcType="DATETIME" javaType="String"/>
	</resultMap>	
	
	<procedure id="obtenerDetalleInstrumento" parameterMap="setObtenerDetalleInstrumento" resultMap="getObtenerDetalleInstrumento">		
		{ CALL sp_cns_inv_detalle( ? ) }	
	</procedure>
	
	<resultMap id="getObtenerIndicadores" class="java.util.HashMap">
		<result property="tic_id_indicador" column="tic_id_indicador" jdbcType="CHAR" javaType="String"/>
		<result property="tic_nom_indicador" column="tic_nom_indicador" jdbcType="CHAR" javaType="String"/>
        <result property="tic_mto_valor" column="tic_mto_valor" jdbcType="INT"	javaType="java.lang.Double"/>
		<result property="tic_mto_ultimo" column="tic_mto_ultimo" jdbcType="INT"	javaType="java.lang.Double"/>
		<result property="tic_mto_transado" column="tic_mto_transado" jdbcType="INT"	javaType="java.lang.Double"/>
		<result property="tic_var_dia" column="tic_var_dia" jdbcType="INT"	javaType="java.lang.Double"/>
		<result property="tic_var_mensual" column="tic_var_mensual" jdbcType="INT"	javaType="java.lang.Double"/>
		<result property="tic_var_anual" column="tic_var_anual" jdbcType="INT"	javaType="java.lang.Double"/>
		<result property="tic_var_dif_precio" column="tic_var_dif_precio" jdbcType="INT"	javaType="java.lang.Double"/>
		<result property="tic_fec_publicacion" column="tic_fec_publicacion" jdbcType="DATETIME" javaType="java.util.Date"/>
		<result property="tic_grupo" column="tic_grupo" jdbcType="CHAR" javaType="String"/>
	</resultMap>
	
	<procedure id="obtenerIndicadores" resultMap="getObtenerIndicadores">		
		{ CALL sp_inv_ind_obtc() }	
	</procedure>
	
</sqlMap>

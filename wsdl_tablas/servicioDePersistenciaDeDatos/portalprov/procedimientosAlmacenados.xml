<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE sqlMap      
    PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"      
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">
    
<sqlMap namespace="portalprov.procedimientosAlmacenados">

	<parameterMap id="setIdRut" class="java.util.HashMap">
		<parameter property="rut"   javaType="Long" />
		<parameter property="id"   javaType="Integer" />
	</parameterMap>
	<parameterMap id="setObtenerBandejaEntrada2" class="java.util.HashMap">
		<parameter property="comentarioId"   javaType="Integer" />
	</parameterMap>
	<parameterMap id="setObtenerBandejaProveedores" class="java.util.HashMap">
		<parameter property="rut"   javaType="Integer" />
	</parameterMap>
	<parameterMap id="setDocumento" class="java.util.HashMap">
        <parameter property="documento"   javaType="String" />
        <parameter property="rut"   javaType="Long" />
    </parameterMap>

	<parameterMap id="setRespuesta" class="java.util.HashMap">
		<parameter property="comentarioId"   javaType="Integer" />
		<parameter property="mensaje"   javaType="String" />
		<parameter property="esAdmin"   javaType="Boolean" />
	</parameterMap>
	<parameterMap id="setRespuestaColaborador" class="java.util.HashMap">
		<parameter property="comentarioId"   javaType="Integer" />
		<parameter property="mensaje"   javaType="String" />
		<parameter property="usuario"   javaType="String" />
		<parameter property="nombre"   javaType="String" />
	</parameterMap>
	
	<parameterMap id="setComentario" class="java.util.HashMap">
		<parameter property="rut"   javaType="Integer" />
		<parameter property="motivoId"   javaType="Integer" />
		<parameter property="mensaje"   javaType="String" />
		<parameter property="mail"   javaType="String" />
		<parameter property="departamento"   javaType="Integer" />
		<parameter property="emisor"   javaType="Boolean" />
		<parameter property="documento"   javaType="String" />
	</parameterMap>
	<parameterMap id="setFiltroAdmin" class="java.util.HashMap">
		<parameter property="rut"   javaType="Long" />
		<parameter property="nombre"   javaType="String" />
		<parameter property="desde"   javaType="Date" />
		<parameter property="hasta"   javaType="Date" />
		<parameter property="motivo"   javaType="Integer" />
		<parameter property="departamento"   javaType="Integer" />
		<parameter property="bandeja"   javaType="Integer" />
	</parameterMap>
	<parameterMap id="setId" class="java.util.HashMap">
		<parameter property="id"   javaType="Integer" />
	</parameterMap>
	<parameterMap id="setFiltroComunicados" class="java.util.HashMap">
		<parameter property="titulo"   javaType="String" />
		<parameter property="tag"   javaType="Integer" />
	</parameterMap>
	<parameterMap id="setmodificaComunicado" class="java.util.HashMap">
		<parameter property="id"   javaType="Integer" />
		<parameter property="tit"   javaType="String" />
		<parameter property="res"   javaType="String" />
		<parameter property="det"   javaType="String" />
		<parameter property="des"   javaType="Integer" />
		<parameter property="ini"   javaType="Date" />
		<parameter property="fin"   javaType="Date" />
		<parameter property="rub_id"   javaType="Integer" />
		<parameter property="tags"   javaType="String" />
		<parameter property="cmd_img"   javaType="String" />
		<parameter property="cmd_arc"   javaType="String" />
	</parameterMap>
	<parameterMap id="setAgregaTag" class="java.util.HashMap">
		<parameter property="id"   javaType="Integer" />
		<parameter property="tagId"   javaType="Integer" />
	</parameterMap>
	<parameterMap id="setmodificaEvento" class="java.util.HashMap">
		<parameter property="id"   javaType="Integer" />
		<parameter property="tit"   javaType="String" />
		<parameter property="det"   javaType="String" />
		<parameter property="lug"   javaType="String" />
		<parameter property="ini"   javaType="Date" />
		<parameter property="fin"   javaType="Date" />
		<parameter property="rub_id"   javaType="Integer" />
		<parameter property="tags"   javaType="String" />
		<parameter property="eve_img"   javaType="String" />
		<parameter property="eve_arc"   javaType="String" />
	</parameterMap>
	<parameterMap id="setmodificaEventoEstado" class="java.util.HashMap">
        <parameter property="id"   javaType="Integer" />
        <parameter property="estado"   javaType="Integer" />
    </parameterMap>
	<parameterMap id="setAgregaRubro" class="java.util.HashMap">
		<parameter property="id"   javaType="Integer" />
		<parameter property="tagRubro"   javaType="Integer" />
	</parameterMap>
	<parameterMap id="setmodificaNotificacion" class="java.util.HashMap">
		<parameter property="id"   javaType="Integer" />
		<parameter property="tit"   javaType="String" />
		<parameter property="det"   javaType="String" />
		<parameter property="ini"   javaType="Date" />
		<parameter property="fin"   javaType="Date" />
		<parameter property="ctgId"   javaType="Integer" />
	</parameterMap>
	<parameterMap id="setmodificaPregunta" class="java.util.HashMap">
		<parameter property="id"   javaType="Integer" />
		<parameter property="pre"   javaType="String" />
		<parameter property="res"   javaType="String" />
		<parameter property="pri"   javaType="Integer" />
		<parameter property="rubId"   javaType="Integer" />
		<parameter property="tags"   javaType="String" />
	</parameterMap>
	<parameterMap id="setRut" class="java.util.HashMap">
		<parameter property="rut"   javaType="Long" />
	</parameterMap>
    <parameterMap id="setRut2" class="java.util.HashMap">
		<parameter property="rutUsu"   javaType="Long" />
		<parameter property="rutPrv"   javaType="Long" />
	</parameterMap>
    <parameterMap id="setNombre" class="java.util.HashMap">
        <parameter property="nombre"   javaType="String" />
    </parameterMap>
    <parameterMap id="setCambioPagina" class="java.util.HashMap">
        <parameter property="rut"   javaType="Long" />
        <parameter property="cantidad"   javaType="Integer" />
        <parameter property="pagina"   javaType="Integer" />
    </parameterMap>
    
    <parameterMap id="setReparo" class="java.util.HashMap">
        <parameter property="rut_ppr"	javaType="Long"/>
        <parameter property="tipo_com"  javaType="String"/>
        <parameter property="resp_com" 	javaType="String"/>
        <parameter property="resp_ing" 	javaType="String"/>
        <parameter property="fecha_com"	javaType="Date"/>
        <parameter property="id_pdf" 	javaType="String"/>
    </parameterMap>
    
    <parameterMap id="setReparoEliminar" class="java.util.HashMap">
        <parameter property="rut_ppr"	javaType="Long"/>
        <parameter property="tipo_com"  javaType="String"/>
        <parameter property="resp_ing" 	javaType="String"/>
        <parameter property="id_pdf" 	javaType="String"/>
    </parameterMap>
    <parameterMap id="setAviso" class="java.util.HashMap">
        <parameter property="nom_avi"	javaType="String"/>
        <parameter property="res_avi"  	javaType="String"/>
        <parameter property="num_avi" 	javaType="Long"/>
        <parameter property="fec_avi" 	javaType="Date"/>
        <parameter property="img_avi" 	javaType="String"/>
    </parameterMap>    
    <parameterMap id="setCnsReparo" class="java.util.HashMap">
        <parameter property="rut" 	javaType="Long"/>
        <parameter property="tipo" 	javaType="String"/>
    </parameterMap>
    <parameterMap id="setArchivo" class="java.util.HashMap">
        <parameter property="id_archivo_data"		javaType="String"/>
        <parameter property="id_archivo_control"	javaType="String"/>
        <parameter property="fec_subida"			javaType="Date"/>
        <parameter property="id_ejecutivo"			javaType="String"/>
        <parameter property="tipo"					javaType="String"/>
        <parameter property="estado"				javaType="String"/>
    </parameterMap>
    <parameterMap id="setArchivo2" class="java.util.HashMap">
        <parameter property="archivo_tipo"      javaType="String"/>
        <parameter property="archivo_estado"    javaType="String"/>
    </parameterMap>
    <parameterMap id="setCnsCalificaciones" class="java.util.HashMap">
        <parameter property="cal_rut" 	javaType="Long"/>
        <parameter property="cal_tip" 	javaType="String"/>
    </parameterMap>
    <parameterMap id="setUsuario" class="java.util.HashMap">
        <parameter property="usu_rut"       javaType="Long"/>
        <parameter property="usu_dv"        javaType="String"/>
        <parameter property="usu_nom"       javaType="String"/>
        <parameter property="usu_app"       javaType="String"/>
        <parameter property="usu_apm"       javaType="String"/>
    </parameterMap>
    <resultMap id="getObtenerBandejaEntrada" class="java.util.HashMap">
        <result property="id" javaType="Integer" column="Cmt_Id"/>
        <result property="proveedorId" javaType="Integer" column="Prv_Id"/>
        <result property="proveedorNombre" javaType="String" column="Prv_Nom"/>
        <result property="fecha" javaType="String" column="Cmt_Fec"/>
        <result property="motivo" javaType="String" column="motivo"/>
        <result property="motivoId" javaType="Integer" column="Mtv_Id"/>
        <result property="mensaje" javaType="String" column="Cmt_Msg"/>
        <result property="imagen" javaType="String" column="imagen"/>
        <result property="departamento" javaType="String" column="departamento"/>
        <result property="emisor" javaType="Boolean" column="Cmt_Emi"/>
        <result property="rut" javaType="Integer" column="Prv_Rut"/>
    </resultMap>
    <resultMap id="getObtenerBandejaEntradaPag" class="java.util.HashMap">
		<result property="id" javaType="Integer" column="Cmt_Id"/>
		<result property="fecha" javaType="String" column="Cmt_Fec"/>
		<result property="mensaje" javaType="String" column="Cmt_Msg"/>
		<result property="motivo" javaType="String" column="Motivo"/>
		<result property="motivoId" javaType="Integer" column="Mtv_Id"/>
		<result property="proveedorId" javaType="Integer" column="Prv_Id"/>
		<result property="proveedorNombre" javaType="String" column="Prv_Nom"/>
		<result property="imagen" javaType="String" column="imagen"/>
		<result property="departamento" javaType="String" column="departamento"/>
		<result property="idRespuesta" javaType="Integer" column="idRespuesta"/>
		<result property="esAdmin" javaType="Boolean" column="Res_Emi"/>
		<result property="esColaborador" javaType="Boolean" column="Res_Col"/>
		<result property="usuarioColaborador" javaType="String" column="Res_Usu"/>
		<result property="nombreColaborador" javaType="String" column="Res_Nom"/>
		<result property="fechaRespuesta" javaType="String" column="Res_Fec"/>
		<result property="mensajeRespuesta" javaType="String" column="Res_Mes"/>
		<result property="cmtEsAdmin" javaType="Boolean" column="Cmt_Emi"/>
    </resultMap>
    <resultMap id="getObtenerBandejaEntradaAdm" class="java.util.HashMap">
        <result property="id" javaType="Integer" column="Cmt_Id"/>
        <result property="proveedorId" javaType="Integer" column="Prv_Id"/>
        <result property="proveedorNombre" javaType="String" column="Prv_Nom"/>
        <result property="fecha" javaType="String" column="Cmt_Fec"/>
        <result property="motivo" javaType="String" column="motivo"/>
        <result property="motivoId" javaType="Integer" column="Mtv_Id"/>
        <result property="mensaje" javaType="String" column="Cmt_Msg"/>
        <result property="imagen" javaType="String" column="imagen"/>
        <result property="departamento" javaType="String" column="departamento"/>
        <result property="mail" javaType="String" column="Cmt_Mai"/>
        <result property="emisor" javaType="Boolean" column="Cmt_Emi"/>
    </resultMap>
    
    <resultMap id="getObtenerBandejaEntrada2" class="java.util.HashMap">
        <result property="id" javaType="Integer" column="Res_Id"/>
        <result property="esAdmin" javaType="Boolean" column="Res_Emi"/>
        <result property="fecha" javaType="String" column="Res_Fec"/>
        <result property="comentarioId" javaType="Integer" column="Cmt_Id"/>
        <result property="mensaje" javaType="String" column="Res_Mes"/>
        <result property="esColaborador" javaType="Boolean" column="Res_Col"/>
        <result property="usuarioColaborador" javaType="String" column="Res_Usu"/>
		<result property="nombreColaborador" javaType="String" column="Res_Nom"/>
    </resultMap>
    <resultMap id="getDepartamentos" class="java.util.HashMap">
        <result property="id" javaType="Integer" column="Dep_Id"/>
        <result property="departamento" javaType="String" column="Dep_Des"/>
    </resultMap>
    <resultMap id="getMotivos" class="java.util.HashMap">
        <result property="id" javaType="Integer" column="Mtv_Id"/>
        <result property="motivo" javaType="String" column="Mtv_Des"/>
        <result property="activo" javaType="Boolean" column="Mtv_Act"/>
    </resultMap>
    <resultMap id="getComunicados" class="java.util.HashMap">
        <result property="id" javaType="Integer" column="Cmd_Id"/>
        <result property="titulo" javaType="String" column="Cmd_Tit"/>
        <result property="resumen" javaType="String" column="Cmd_Res"/>
        <result property="detalle" javaType="String" column="Cmd_Det"/>
        <result property="estado" javaType="Integer" column="Cmd_Est"/>
        <result property="destacado" javaType="Integer" column="Cmd_Des"/>
        <result property="inicio" javaType="Date" column="Cmd_Ini"/>
        <result property="fin" javaType="Date" column="Cmd_Fin"/>
        <result property="rubroId" javaType="Integer" column="Rub_Id"/>
        <result property="cmd_img" javaType="String" column="Cmd_Img"/>
        <result property="cmd_arc" javaType="String" column="Cmd_Arc"/>
    </resultMap>
    <resultMap id="getTags" class="java.util.HashMap">
        <result property="id" javaType="Integer" column="Tgs_Id"/>
    </resultMap>
    <resultMap id="getEstados" class="java.util.HashMap">
        <result property="id" javaType="Integer" column="Est_Id"/>
        <result property="descripcion" javaType="String" column="Est_Des"/>
    </resultMap>
    <resultMap id="getRubros" class="java.util.HashMap">
        <result property="id" javaType="Integer" column="Rub_Id"/>
    </resultMap>
    <resultMap id="getRubrosDet" class="java.util.HashMap">
        <result property="id" javaType="Integer" column="Rub_Id"/>
        <result property="descripcion" javaType="String" column="Rub_Des"/>
    </resultMap>
    <resultMap id="getTagsDet" class="java.util.HashMap">
        <result property="id" javaType="Integer" column="Tgs_Id"/>
        <result property="descripcion" javaType="String" column="Tgs_Tag"/>
    </resultMap>
    <resultMap id="getEventos" class="java.util.HashMap">
        <result property="id" javaType="Integer" column="Eve_Id"/>
        <result property="titulo" javaType="String" column="Eve_Tit"/>
        <result property="detalle" javaType="String" column="Eve_Det"/>
        <result property="lugar" javaType="String" column="Eve_Lug"/>
        <result property="estado" javaType="Integer" column="Eve_Est"/>
        <result property="inicio" javaType="Date" column="Eve_Ini"/>
        <result property="fin" javaType="Date" column="Eve_Fin"/>
        <result property="rubro" javaType="Integer" column="Rub_Id"/>
        <result property="eve_img" javaType="String" column="Eve_Img"/>
        <result property="eve_arc" javaType="String" column="Eve_Arc"/>
    </resultMap>
    <resultMap id="getNotificaciones" class="java.util.HashMap">
        <result property="id" javaType="Integer" column="Not_Id"/>
        <result property="titulo" javaType="String" column="Not_Tit"/>
        <result property="detalle" javaType="String" column="Not_Det"/>
        <result property="estado" javaType="Integer" column="Not_Est"/>
        <result property="inicio" javaType="Date" column="Not_Ini"/>
        <result property="fin" javaType="Date" column="Not_Fin"/>
        <result property="categoriaId" javaType="Integer" column="Ctg_Id"/>
        <result property="categoriDescripcion" javaType="String" column="Ctg_Des"/>
        <result property="leido" javaType="Integer" column="Npr_lei"/>
    </resultMap>
    <resultMap id="getNotificacionesPagina" class="java.util.HashMap">
        <result property="id" javaType="Integer" column="Not_Id"/>
        <result property="titulo" javaType="String" column="Not_Tit"/>
        <result property="detalle" javaType="String" column="Not_Det"/>
        <result property="estado" javaType="Integer" column="Not_Est"/>
        <result property="inicio" javaType="Date" column="Not_Ini"/>
        <result property="fin" javaType="Date" column="Not_Fin"/>
        <result property="categoriaId" javaType="Integer" column="Ctg_Id"/>
        <result property="categoriDescripcion" javaType="String" column="Ctg_Des"/>
        <result property="leido" javaType="Integer" column="Npr_lei"/>
        <result property="cantidad" javaType="Integer" column="npaginas"/>        
    </resultMap>
    <resultMap id="getProveedores" class="java.util.HashMap">
        <result property="rut" javaType="Integer" column="Prv_Rut"/>
        <result property="nombre" javaType="String" column="Prv_Nom"/>
        <result property="id" javaType="Integer" column="Prv_Id"/>
    </resultMap>
    
<resultMap id="getProveedores2" class="java.util.HashMap">
        <result property="rut" 		javaType="Integer" 	column="Prv_Rut"/>
        <result property="nombre" 	javaType="String" 	column="Prv_Nom"/>
        <result property="id"		javaType="Integer" 	column="Prv_Id"/>
        <result property="tipo"     javaType="String"	column="rel_tipo"/>
    <result property="prv_hab"  jdbcType="boolean"  column="Prv_Hab"/>
        <result property="est_rel"  jdbcType="String"   column="estado_clave"/>
    </resultMap>
    
    <resultMap id="getPreguntas" class="java.util.HashMap">
        <result property="id" javaType="Integer" column="Pre_Id"/>
        <result property="pregunta" javaType="String" column="Pre_Pre"/>
        <result property="respuesta" javaType="String" column="Pre_Res"/>
        <result property="estado" javaType="Integer" column="Pre_Est"/>
        <result property="prioridad" javaType="Integer" column="Pre_Pri"/>
        <result property="rubroId" javaType="Integer" column="Rub_Id"/>
        <result property="rubroDescripcion" javaType="String" column="Rub_Des"/>
    </resultMap>
    <resultMap id="getContador" class="java.util.HashMap">
        <result property="contador" javaType="Integer" column="contador"/>
    </resultMap>
    
    <resultMap id="getCategorias" class="java.util.HashMap">
        <result property="id" javaType="Integer" column="Ctg_Id"/>
        <result property="descripcion" javaType="String" column="Ctg_Des"/>
    </resultMap>
    <resultMap id="getNombre" class="java.util.HashMap">
        <result property="nombre" javaType="String" column="Prv_Nom"/>
    </resultMap>
    <resultMap id="getId" class="java.util.HashMap">
        <result property="id" javaType="Integer" column="Id"/>
    </resultMap>
    
    <resultMap id="getRepresentante" class="java.util.HashMap">
        <result property="rut" 			javaType="Integer" 	column="rep_rut_rep"/>
        <result property="nombres" 		javaType="String" 	column="rep_nombres"/>
        <result property="apPaterno"	javaType="String" 	column="rep_ap_ptn"/>
        <result property="apMaterno" 	javaType="String" 	column="rep_ap_mtn"/>
    </resultMap>
    
    <resultMap id="getReparo" class="java.util.HashMap">
        <result property="tip_com" 	javaType="String" 	column="rep_tip_com"/>
        <result property="resp_com" javaType="String" 	column="rep_resp_com"/>
        <result property="resp_ing"	javaType="String" 	column="rep_resp_ing"/>
        <result property="fec_com"	javaType="Date" 	column="rep_fec_com"/>
        <result property="nom_pdf" 	javaType="String" 	column="rep_nom_pdf"/>
    </resultMap>
    <resultMap id="getResumen" class="java.util.HashMap">
        <result property="num_rep"	javaType="Integer" 	column="cont_rep"/>
        <result property="num_rec"	javaType="Integer" 	column="cont_rec"/>
    </resultMap>
    <resultMap id="getAviso" class="java.util.HashMap">
        <result property="nom_avi"	javaType="String"	column="avi_nom"/>
        <result property="res_avi"  javaType="String"	column="avi_resp"/>
        <result property="num_avi" 	javaType="Long"		column="avi_num_rep"/>
        <result property="fec_avi" 	javaType="Date"		column="avi_fec"/>
    </resultMap>
    <resultMap id="getCalificacion" class="java.util.HashMap">
        <result property="rut"		javaType="Long"		column="prv_rut"/>
        <result property="servicio" javaType="String"	column="cal_serv"/>
        <result property="fecha" 	javaType="Date"		column="cal_fec"/>
        <result property="nota" 	javaType="Float"	column="cal_nota"/>
        <result property="tipo" 	javaType="String"	column="cal_tipo"/>
        <result property="archivo" 	javaType="String"	column="arc_id"/>
    </resultMap>
    <resultMap id="getArchivo" class="java.util.HashMap">
        <result property="id_arch_data" javaType="String" column="arc_id"/>
        <result property="id_arch_ctrl" javaType="String" column="arc_id_ctr"/>
        <result property="fec_subida"   javaType="Date"   column="arc_fec_sub"/>
        <result property="id_ejecutivo" javaType="String" column="arc_id_eje"/>
        <result property="tipo"         javaType="String" column="arc_tipo"/>
        <result property="estado"       javaType="String" column="arc_est"/>
    </resultMap>
    <procedure id="obtenerBandejaEntrada" resultMap="getObtenerBandejaEntrada" parameterClass="java.util.HashMap">
        {CALL ppr_resp_cmt()}
    </procedure>
    <procedure id="obtenerBandejaEntrada2" resultMap="getObtenerBandejaEntrada2" parameterMap="setObtenerBandejaEntrada2">
        {CALL ppr_obt_cmt2(?)}
    </procedure>
    
    <procedure id="obtenerBandejaEntrada3" parameterMap="setObtenerBandejaEntrada2">
        {CALL ppr_obt_cmt3(?)}
    </procedure>
    
     <procedure id="obtenerBandejaLeidos" resultMap="getObtenerBandejaEntrada" parameterClass="java.util.HashMap">
        {CALL ppr_no_resp_cmt()}
    </procedure>
    
    <procedure id="obtenerComentarios" resultMap="getObtenerBandejaEntradaAdm" parameterMap="setObtenerBandejaEntrada2">
        {CALL ppr_obt_cmt_id(?)}
    </procedure>
    
    <procedure id="comentarioDocumento" resultMap="getObtenerBandejaEntradaAdm" parameterMap="setDocumento">
        {CALL ppr_obt_cmt_doc(?,?)}
    </procedure>
    
	<procedure id="enviaRespuesta" parameterMap="setRespuesta">
        {CALL ppr_res_cmt(?,?,?)}
    </procedure>
    
    <procedure id="enviaRespuestaColaborador" parameterMap="setRespuestaColaborador">
        {CALL ppr_res_cmt_col(?,?,?,?)}
    </procedure>
    
    <procedure id="obtenerBandejaProveedores" resultMap="getObtenerBandejaEntrada" parameterMap="setObtenerBandejaProveedores">
        {CALL ppr_pro_cmt(?)}
    </procedure>
    
    <procedure id="obtenerBandejaProveedoresPag" resultMap="getObtenerBandejaEntradaPag" parameterMap="setCambioPagina">
        {CALL ppr_pro_cmt_pag(?,?,?)}
    </procedure>
	
	<procedure id="enviaComentario"  parameterMap="setComentario">
        {CALL ppr_cre_cmt(?,?,?,?,?,?,?)}
    </procedure>
    
    <procedure id="obtenerDepartamentos" resultMap="getDepartamentos">
        {CALL ppr_obt_dep()}
    </procedure>
    
    <procedure id="obtenerMotivos" resultMap="getMotivos">
        {CALL ppr_obt_mtv()}
    </procedure>
    
    <procedure id="obtenerFiltroAdmin" resultMap="getObtenerBandejaEntrada" parameterMap="setFiltroAdmin">
        {CALL ppr_obt_res_cmt(?,?,?,?,?,?,?)}
    </procedure>
    
	<procedure id="borrarComunicado" parameterMap="setId">
	    {CALL ppr_eli_com(?)}
	</procedure>
	
	<procedure id="borrarEvento" parameterMap="setId">
	    {CALL ppr_eli_eve(?)}
	</procedure>
	
	<procedure id="borrarNotificacion" parameterMap="setId">
	    {CALL ppr_eli_not(?)}
	</procedure>
	
	<procedure id="borrarPregunta" parameterMap="setId">
	    {CALL ppr_eli_prg(?)}
	</procedure>
	
	<procedure id="modificaComunicado" parameterMap="setmodificaComunicado" resultMap="getId">
	    {CALL ppr_mod_com(?,?,?,?,?,?,?,?,?,?,?)}
	</procedure>
	
	<procedure id="limpiaTagComunicado" parameterMap="setId">
	    {CALL ppr_mod_com_lim_tag(?)}
	</procedure>
	
	<procedure id="agregaTagComunicado" parameterMap="setAgregaTag">
	    {CALL ppr_mod_com_tags(?,?)}
	</procedure>
	
	<procedure id="modificaEvento" parameterMap="setmodificaEvento">
	    {CALL ppr_mod_eve(?,?,?,?,?,?,?,?,?,?)}
	</procedure>
	
	<procedure id="modificaEventoEstado" parameterMap="setmodificaEventoEstado">
        {CALL ppr_mod_eve_est(?,?)}
    </procedure>
	
	<procedure id="limpiaRubroEvento" parameterMap="setId">
	    {CALL ppr_mod_eve_lim_rub(?)}
	</procedure>
	
	<procedure id="agregaRubroEvento" parameterMap="setAgregaRubro">
	    {CALL ppr_mod_eve_tags(?,?)}
	</procedure>
	
	
	<procedure id="modificaNotificacion" parameterMap="setmodificaNotificacion">
	    {CALL ppr_mod_not(?,?,?,?,?,?)}
	</procedure>
	
	<procedure id="limpiaRubroNotificacion" parameterMap="setId">
	    {CALL ppr_mod_not_lim_rub(?)}
	</procedure>
	
	<procedure id="agregaRubroNotificacion" parameterMap="setAgregaRubro">
	    {CALL ppr_mod_not_rub(?,?)}
	</procedure>
	
	<procedure id="modificaPregunta" parameterMap="setmodificaPregunta">
	    {CALL ppr_mod_prg(?,?,?,?,?,?)}
	</procedure>
	
    <procedure id="comunicadosActivos" resultMap="getComunicados">
	    {CALL ppr_obt_act_com()}
	</procedure>
	
	<procedure id="eventosActivos" parameterMap="setRut" resultMap="getEventos">
	    {CALL ppr_obt_act_eve(?)}
	</procedure>
	
	
	<procedure id="notificacionesActivasProveedor" parameterMap="setRut" resultMap="getContador">
	    {CALL ppr_obt_act_not(?)}
	</procedure>
	
	<procedure id="obtenerComunicados" resultMap="getComunicados">
	    {CALL ppr_obt_com()}
	</procedure>
		
	<procedure id="obtenerCategorias" resultMap="getCategorias">
	    {CALL ppr_obt_ctg()}
	</procedure>
	
	<procedure id="obtenerComunicadosDestacados" resultMap="getComunicados">
	    {CALL ppr_obt_dest_com()}
	</procedure>
	
	<procedure id="obtenerEventos" resultMap="getEventos">
	    {CALL ppr_obt_eve()}
	</procedure>
	<procedure id="obtenerComunicadoId" parameterMap="setId" resultMap="getComunicados">
	    {CALL ppr_obt_id_com(?)}
	</procedure>
	
	<procedure id="obtenerComunicadoTags" parameterMap="setId" resultMap="getTagsDet">
	    {CALL ppr_obt_id_com_tags(?)}
	</procedure>
	<procedure id="obtenerEventoId" parameterMap="setId" resultMap="getEventos">
	    {CALL ppr_obt_id_eve(?)}
	</procedure>
	<procedure id="obtenerEventoRubros" parameterMap="setId" resultMap="getRubros">
	    {CALL ppr_obt_id_eve_rub(?)}
	</procedure>
	
	<procedure id="obtenerNotificacionProveedor" parameterMap="setIdRut" resultMap="getNotificaciones">
	    {CALL ppr_obt_id_not(?,?)}
	</procedure>
	<procedure id="obtenerNotificacionRubros" parameterMap="setId" resultMap="getRubros">
	    {CALL ppr_obt_id_not_rub(?)}
	</procedure>
	
	<procedure id="obtenerPreguntaId" parameterMap="setId" resultMap="getPreguntas">
	    {CALL ppr_obt_id_prg(?)}
	</procedure>
	<procedure id="obtenerNotificacionesProveedor" parameterMap="setCambioPagina" resultMap="getNotificacionesPagina">
	    {CALL ppr_obt_not(?,?,?)}
	</procedure>
	
	<procedure id="obtenerNotificaciones" resultMap="getNotificaciones">
	    {CALL ppr_obt_not_adm()}
	</procedure>
	<procedure id="obtenerPreguntas" resultMap="getPreguntas">
	    {CALL ppr_obt_prg()}
	</procedure>
	<procedure id="obtenerPreguntasProveedor" parameterMap="setRut" resultMap="getPreguntas">
        {CALL ppr_obt_prg_prv(?)}
    </procedure>
	<procedure id="obtenerProveedores" parameterMap="setNombre" resultMap="getProveedores">
	    {CALL ppr_obt_pro(?)}
	</procedure>
	<procedure id="obtenerRubros" resultMap="getRubrosDet">
	    {CALL ppr_obt_rub()}
	</procedure>
	<procedure id="obtenerTags" resultMap="getTagsDet">
	    {CALL ppr_obt_tag()}
	</procedure>
	<procedure id="obtenerNombreProveedor" resultMap="getNombre" parameterMap="setRut">
        {CALL ppr_pro_nom(?)}
    </procedure>
	<procedure id="obtenerContadorRespondidos" resultMap="getContador" parameterClass="java.util.HashMap">
        {CALL ppr_cant_resp_cmt()}
    </procedure>
	<procedure id="obtenerContadorNoRespondidos" resultMap="getContador" parameterClass="java.util.HashMap">
        {CALL ppr_cant_no_resp_cmt()}
    </procedure>
    <procedure id="obtenerPreguntaTags" parameterMap="setId" resultMap="getTagsDet">
        {CALL ppr_obt_id_prg_tags(?)}
    </procedure>
    <procedure id="obtenerTagsEvento" parameterMap="setId" resultMap="getTagsDet">
	    {CALL ppr_obt_id_eve_tags(?)}
	</procedure>
	   <procedure id="obtenerEstados" resultMap="getEstados">
        {CALL ppr_obt_est()}
    </procedure>
    <procedure id="obtenerComunicadosActivosProv" resultMap="getComunicados" parameterMap="setRut">
	    {CALL ppr_obt_com_act(?)}
	</procedure>
	
<procedure id="obtenerListadoProveedores" parameterMap="setRut" resultMap="getProveedores2">
	    {CALL sp_obt_prov_rel(?)}
	</procedure>
	<procedure id="obtenerRepresentante" parameterMap="setRut" resultMap="getRepresentante">
	    {CALL ppr_obt_rep(?)}
	</procedure>
	<procedure id="ingresaReparo" parameterMap="setReparo">
	    {CALL sp_ing_rep(?,?,?,?,?,?)}
	</procedure>
	<procedure id="consultaReparos" parameterMap="setCnsReparo" resultMap="getReparo">
	    {CALL sp_cns_rep(?,?)}
	</procedure>
	<procedure id="consultaResumenReparos" parameterMap="setRut" resultMap="getResumen">
	    {CALL sp_cns_res_rep(?)}
	</procedure>
	<procedure id="eliminaReparo" parameterMap="setReparoEliminar">
	    {CALL sp_eli_rep(?,?,?,?)}
	</procedure>
	<procedure id="obtenerInfoAviso" resultMap="getAviso">
	    {CALL sp_cns_aviso()}
	</procedure>
	<procedure id="actualizarAviso" parameterMap="setAviso">
	    {CALL sp_act_aviso(?,?,?,?,?)}
	</procedure>
	<procedure id="consultarAviso" parameterMap="setRut2" resultMap="getAviso">
	    {CALL sp_reg_vis(?,?)}
	</procedure>
	<procedure id="cargaArchivoCalificacion" parameterMap="setArchivo">
	    {CALL sp_reg_enc_cal(?,?,?,?,?,?)}
	</procedure>
	<procedure id="obtenerUltimoArchivoCalificacion" parameterMap="setArchivo2" resultMap="getArchivo">
        {CALL sp_ult_reg_cal(?,?)}
    </procedure>
	<procedure id="consultarCalificaciones" parameterMap="setCnsCalificaciones" resultMap="getCalificacion">
	    {CALL sp_cns_cal(?,?)}
	</procedure>
	
<procedure id="creaUsuario" parameterMap="setUsuario">
        {CALL sp_ing_usu(?,?,?,?,?)}
    </procedure>	
	<parameterMap id="setEliminarUsuario" class="java.util.HashMap">
        <parameter property="rel_rut_rep" javaType="int"/>
        <parameter property="Prv_Rut"     javaType="int"/>
    </parameterMap>
	<procedure id="eliminarUsuario" parameterMap="setEliminarUsuario" resultClass="int">
        {CALL sp_eliminar_usuario(?,?)}
    </procedure>
	
	<parameterMap id="setCambioEstado" class="java.util.HashMap">
        <parameter property="rel_rut_rep" javaType="int"/>
        <parameter property="estado_clave"     javaType="String"/>
    <parameter property="Prv_Rut" javaType="int"/>
    </parameterMap>
	<procedure id="cambiarEstadoClave" parameterMap="setCambioEstado" resultClass="int">
        {CALL sp_cambia_estado_clave(?,?,?)}
    </procedure>
	    
	<parameterMap id="SetEstadoClave" class="java.util.HashMap">
		<parameter property="rel_rut_rep"   javaType="Integer" />
	</parameterMap>  
     <procedure id="estadoClave" resultClass="Integer" parameterMap="SetEstadoClave">
        {CALL sp_trae_estado_clave(?)}
    </procedure>

	<parameterMap id="setConsultaProveedor" class="java.util.HashMap">
		<parameter property="Prv_Rut"   javaType="Integer" />
	</parameterMap>  
	<procedure id="consultaProveedor" resultClass="Integer" parameterMap="setConsultaProveedor">
        {CALL sp_consulta_proveedor(?)}
    </procedure>
	
	<parameterMap id="setConsultaRepresentante" class="java.util.HashMap">
		<parameter property="rel_rut_rep"   javaType="Integer" />
	</parameterMap>
	<procedure id="consultaRepresentante" resultClass="Integer" parameterMap="setConsultaRepresentante">
        {CALL sp_consulta_representante(?)}
    </procedure>
	
	<parameterMap id="setConsultarUsuario" class="java.util.HashMap">
		<parameter property="Prv_Rut"   javaType="Integer" />
	</parameterMap>  
     <procedure id="consultarUsuario" resultClass="Integer" parameterMap="setConsultarUsuario">
        {CALL sp_consulta_proveedor(?)}
    </procedure>
    
    <parameterMap id="setIngresarRelacion" class="java.util.HashMap">
        <parameter property="rel_rut_rep"        javaType="int"/>
        <parameter property="rel_dv_rep"         javaType="String"/>
        <parameter property="Prv_Rut"            javaType="int"/>
        <parameter property="rel_mail"           javaType="String"/>
        <parameter property="rel_fono"           javaType="String"/>
        <parameter property="rel_tipo"           javaType="String"/>
        <parameter property="rel_num_desp"       javaType="int"/>
        <parameter property="estado_clave"       javaType="String"/>
    </parameterMap>
    <procedure id="ingresarUsuario" resultClass="Integer" parameterMap="setIngresarRelacion">
        {CALL sp_crea_relacion(?,?,?,?,?,?,?,?)}
    </procedure>
    
    
	<parameterMap id="setObtenerFechaNotificacion" class="java.util.HashMap">
        <parameter property="documento"   javaType="String" />
        <parameter property="rut"   javaType="Long" />
    </parameterMap>
    
    <resultMap id="getObtenerFechaNotificacion" class="java.util.HashMap">
        <result property="Cmt_Fec_Not"	jdbcType="DATETIME"	javaType="java.util.Date" />  
    </resultMap>
    <procedure id="obtenerFechaNotificacion" resultMap="getObtenerFechaNotificacion" parameterMap="setObtenerFechaNotificacion">
        {CALL ppr_obt_fec_not_doc(?,?)}
    </procedure>
   	<parameterMap id="setCrearNotificacion" class="java.util.HashMap">
		<parameter property="rut"   javaType="Integer" />
		<parameter property="motivoId"   javaType="Integer" />
		<parameter property="mensaje"   javaType="String" />
		<parameter property="mail"   javaType="String" />
		<parameter property="departamento"   javaType="Integer" />
		<parameter property="emisor"   javaType="Boolean" />
		<parameter property="documento"   javaType="String" />
		<parameter property="monto"   javaType="Double" />
	</parameterMap>
	<procedure id="crearNotificacion"  parameterMap="setCrearNotificacion">
        {CALL ppr_cre_not(?,?,?,?,?,?,?,?)}
    </procedure>	
    
     <parameterMap id="setObtieneNotificacionesPendientes" class="java.util.HashMap">
		<parameter property="fechaDesde"   javaType="java.util.Date" jdbcType="DATETIME"/>
		<parameter property="fechaHasta"   javaType="java.util.Date" jdbcType="DATETIME"/>
    </parameterMap>
    <resultMap id="getObtieneNotificacionesPendientes" class="java.util.HashMap">
        <result property="Prv_Nom"			jdbcType="VARCHAR"	javaType="String" />
        <result property="Prv_Rut"  		jdbcType="INT"		javaType="int" />
        <result property="Cmt_Doc_Not"		jdbcType="VARCHAR"  javaType="String" />
        <result property="Cmt_Msg"			jdbcType="VARCHAR"  javaType="String" />
        <result property="Cmt_Monto_Doc"	jdbcType="NUMERIC"	javaType="java.lang.Long" />
        <result property="Cmt_Fec_Not"		jdbcType="DATETIME" javaType="java.util.Date" />         
    </resultMap>
    <procedure id="obtieneNotificacionesPendientes" parameterMap="setObtieneNotificacionesPendientes" resultMap="getObtieneNotificacionesPendientes">
        {CALL ppr_cons_not_pend (?, ?)}
    </procedure>
    
    
     <parameterMap id="setObtieneColaboradoresEnPortal" class="java.util.HashMap">
		<parameter property="fechaDesde"    javaType="java.util.Date" jdbcType="DATETIME"/>
		<parameter property="fechaHasta"    javaType="java.util.Date" jdbcType="DATETIME"/>
    </parameterMap>
    <resultMap id="getObtieneColaboradoresEnPortal" class="java.util.HashMap">
        <result property="Num_Usu"			jdbcType="VARCHAR"  javaType="String" />
        <result property="Id_Usu"			jdbcType="VARCHAR"  javaType="String" />
        <result property="Fec_Hor"			jdbcType="DATETIME" javaType="java.util.Date" />     
        <result property="Prv_Rut"  		jdbcType="INT"		javaType="int" />    
		 <result property="Prv_Nom"			jdbcType="VARCHAR"	javaType="String" />
    </resultMap>
    <procedure id="obtieneColaboradoresEnPortal" parameterMap="setObtieneColaboradoresEnPortal" resultMap="getObtieneColaboradoresEnPortal">
        {CALL ppr_cons_col_port (?, ?)}
    </procedure>    
    
    <parameterMap id="setBuscarProveedores" class="java.util.HashMap">
         <parameter property="Prv_Rut"  		jdbcType="INT"		javaType="Integer" />    
		 <parameter property="Prv_Nom"			jdbcType="VARCHAR"	javaType="String" />
    </parameterMap>
    <resultMap id="getBuscarProveedores" class="java.util.HashMap">
        <result property="Prv_Rut"  		jdbcType="INT"		javaType="Integer" />    
		 <result property="Prv_Nom"			jdbcType="VARCHAR"	javaType="String" />
        <result property="Prv_Id"  			jdbcType="INT"		javaType="Integer" />    
    </resultMap>
    <procedure id="buscarProveedores" parameterMap="setBuscarProveedores" resultMap="getBuscarProveedores">
        {CALL sp_buscar_proveedor (?, ?)}
    </procedure> 
    
    <parameterMap id="setRegistrarIngreso" class="java.util.HashMap">
		 <parameter property="Nom_Usu"		jdbcType="VARCHAR"	javaType="String" />
		 <parameter property="Id_Usu"		jdbcType="VARCHAR"	javaType="String" />
         <parameter property="Prv_Id"  		jdbcType="Numeric"	javaType="Integer" />    
    </parameterMap>
    <procedure id="registrarIngreso" parameterMap="setRegistrarIngreso" resultClass="Integer">
        {CALL sp_ins_colab_portal (?, ?, ?)}
    </procedure>
</sqlMap>    

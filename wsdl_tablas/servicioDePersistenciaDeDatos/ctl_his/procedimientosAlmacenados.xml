<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
    
<sqlMap namespace="ctl.procedimientosAlmacenados">
       
     <procedure id="obtenerListadoCartolasHitoricas"  parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
      {CALL sp_cns_fol_ctl_his(#numeroCuenta#, #anyo#)}
    </procedure>
    
    <select id="obtenerCartola" remapResults="true" resultClass="java.util.HashMap" parameterClass="java.util.Map">
        SELECT num_cct, num_fol, fec_mov, det_ctl, fec_prc FROM htm_$sufijoTabla$ 
            WHERE num_cct=#numeroCuenta# AND 
                  num_fol=#numeroFolio#
    </select>

<procedure id="obtenerFoliosLineaSobregiroHistorica"  parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
      {CALL sp_cns_fol_ls_his(#numeroCuenta#, #anyo#)}
    </procedure>
    
    <select id="obtenerCartolaLineaSobregiroHistorica" remapResults="true" resultClass="java.util.HashMap" parameterClass="java.util.Map">
        SELECT num_cct, num_fol, fec_mov, det_ctl, fec_prc FROM LSG_$sufijoTabla$ 
            WHERE num_cct=#numeroCuenta# AND 
                  num_fol=#numeroFolio#
    </select>   
   
</sqlMap>    
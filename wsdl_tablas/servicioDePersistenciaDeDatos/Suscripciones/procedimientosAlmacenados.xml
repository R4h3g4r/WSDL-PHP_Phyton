<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="PortalMDinero.procedimientosAlmacenados">
	
	<parameterMap id="setSuscribirClienteServicio" class="java.util.HashMap">
		<parameter property="rut" 		jdbcType="INT"		javaType="java.lang.Integer"/>
		<parameter property="dv"  		jdbcType="CHAR"  	javaType="String"/>	
		<parameter property="nombre"  		jdbcType="CHAR"  	javaType="String"/>	
		<parameter property="apellidoPaterno"	jdbcType="CHAR"  	javaType="String"/>	
		<parameter property="apellidoMaterno"	jdbcType="CHAR"  	javaType="String"/>				
		<parameter property="idServicio"	jdbcType="INT" 		javaType="java.lang.Integer"/>
		<parameter property="idMedio"  		jdbcType="CHAR"  	javaType="String"/>			
		<parameter property="numeroConvenio"	jdbcType="INT" 		javaType="java.lang.Integer"/>
		<parameter property="numeroCtaCargo"	jdbcType="CHAR" 		javaType="String"/>
	</parameterMap>
	<procedure id="suscribirClienteServicio" parameterMap="setSuscribirClienteServicio" resultClass="int">	
		{ CALL ins_sus_ser_cli(?,?,?,?,?,?,?,?,?) }
	</procedure>	
	
	<parameterMap id="setVerificarSuscripcionClienteServicio" class="java.util.HashMap">
		<parameter property="rut" 		jdbcType="INT"		javaType="java.lang.Integer"/>
		<parameter property="idServicio"	jdbcType="INT" 		javaType="java.lang.Integer"/>
		<parameter property="idMedio"  		jdbcType="CHAR"  	javaType="String"/>			
		<parameter property="numeroConvenio"	jdbcType="INT" 		javaType="java.lang.Integer"/>
	</parameterMap>
	<procedure id="verificarSuscripcionClienteServicio" parameterMap="setVerificarSuscripcionClienteServicio" resultClass="int">	
		{ CALL cns_sus_ser_cli(?,?,?,?) }	
	</procedure>
	
	<parameterMap id="setTraerServiciosDisponibles" class="java.util.HashMap">
		<parameter property="producto"  jdbcType="CHAR"	javaType="String"/>	
		<parameter property="canal"  	jdbcType="CHAR"	javaType="String"/>	
	</parameterMap>
	<resultMap id="getTraerServiciosDisponibles" class="java.util.HashMap">
			<result property="idServicio" 			column="Srv_Id" 	    		jdbcType="INT"		javaType="java.lang.Integer"/>	
			<result property="idMedio" 		    	column="Mdo_Id" 	    		jdbcType="CHAR"		javaType="String"/>	
			<result property="valor" 				column="Svm_Mto_Valor" 			jdbcType="DECIMAL"	javaType="Double"/>	
			<result property="descServicio"			column="Srv_Des" 				jdbcType="CHAR" 	javaType="String"/>
			<result property="descMedio"			column="Mdo_Des" 				jdbcType="CHAR" 	javaType="String"/>
			<result property="tieneMontoAdicional" 	column="Srv_Flg_Mto_Adicional" 	jdbcType="INT"		javaType="java.lang.Integer"/>	
			<result property="codigoSDP"			column="Srv_Cod_Sdp" 				jdbcType="CHAR" 	javaType="String"/>
	</resultMap>
	<procedure id="traerServiciosDisponibles" parameterMap="setTraerServiciosDisponibles" resultMap="getTraerServiciosDisponibles">		
	{ CALL sp_traer_serv_canal_prod(?,?) }	
	</procedure>	

	<parameterMap id="setTraerSuscripcionesServicios" class="java.util.HashMap">
		<parameter property="rut" 		jdbcType="INT"  javaType="java.lang.Integer"/>
		<parameter property="producto"  jdbcType="CHAR"	javaType="String"/>	
		<parameter property="canal"  	jdbcType="CHAR"	javaType="String"/>	
	</parameterMap>
	<resultMap id="getTraerSuscripcionesServicios" class="java.util.HashMap">
			<result property="idSuscripcion"	column="Scn_Id" 	    			jdbcType="INT"		javaType="java.lang.Integer"/>	
			<result property="estado" 		    column="Scn_Cod_Estado" 			jdbcType="CHAR"		javaType="String"/>	
			<result property="fechaAlta"		column="Scn_Fec_Alta"				jdbcType="DATETIME" javaType="java.util.Date"/>  
			<result property="fechaBaja"		column="Scn_Fec_Baja"				jdbcType="DATETIME" javaType="java.util.Date"/>  
			<result property="cuenta" 		    column="Scn_Cod_Operacion" 			jdbcType="CHAR"		javaType="String"/>	
			<result property="idServicio" 		column="Srv_Id" 	    			jdbcType="INT"		javaType="java.lang.Integer"/>	
			<result property="descServicio"		column="Srv_Des" 					jdbcType="CHAR" 	javaType="String"/>			
			<result property="idMedio" 		    column="Mdo_Id" 	    			jdbcType="CHAR"		javaType="String"/>	
			<result property="valorMedio" 	    column="Mds_Txt_Valor_Medio" 		jdbcType="CHAR"		javaType="String"/>
			<result property="estadoMedio" 	    column="Mds_Cod_Estado_Activacion" 	jdbcType="CHAR"		javaType="String"/>
			<result property="monto" 			column="Svm_Mto_Valor" 				jdbcType="DECIMAL"	javaType="Double"/>	
			<result property="descMedio"		column="Mdo_Des" 					jdbcType="CHAR" 	javaType="String"/>
			<result property="montoAdicional" 	column="Mds_Mto_Valor" 				jdbcType="DECIMAL"	javaType="Double"/>	
			<result property="idUsuarioSDP"		column="Mds_Sdp_Usr_Id" 			jdbcType="INT"		javaType="java.lang.Integer"/>	
			<result property="codigoServicioSDP" column="Srv_Cod_Sdp" 				jdbcType="CHAR" 	javaType="String"/>
	</resultMap>
	<procedure id="traerSuscripcionesServicios" parameterMap="setTraerSuscripcionesServicios" resultMap="getTraerSuscripcionesServicios">		
	{ CALL sp_traer_suscripciones(?,?,?) }	
	</procedure>
	
	<parameterMap id="setVerificarClienteEnrolado" class="java.util.HashMap">
		<parameter property="rut" 				jdbcType="INT"		javaType="java.lang.Integer"/>
		<parameter property="numeroConvenio"	jdbcType="INT" 		javaType="java.lang.Integer"/>
	</parameterMap>
	<procedure id="verificarClienteEnrolado" parameterMap="setVerificarClienteEnrolado" resultClass="int">	
		{ CALL sp_cns_exist_cli(?,?) }	
	</procedure>
	
	<parameterMap id="setDesuscribirClienteServicio" class="java.util.HashMap">
		<parameter property="idSuscripcion"	jdbcType="INT"		javaType="java.lang.Integer"/>
		<parameter property="idMedio"  		jdbcType="CHAR"  	javaType="String"/>
		<parameter property="accionTotal"	jdbcType="CHAR"		javaType="String"/>
	</parameterMap>
	<procedure id="desuscribirClienteServicio" parameterMap="setDesuscribirClienteServicio" resultClass="int">	
		{ CALL sp_desus_cli_srv(?,?,?) }	
	</procedure>	
	
	<parameterMap id="setEnrolarSuscriptor" class="java.util.HashMap">
		<parameter property="rut" 				jdbcType="INT"		javaType="java.lang.Integer"/>
		<parameter property="dv"  				jdbcType="CHAR"  	javaType="String"/>	
		<parameter property="nombre"  			jdbcType="CHAR"  	javaType="String"/>	
		<parameter property="apellidoPaterno"	jdbcType="CHAR"  	javaType="String"/>	
		<parameter property="apellidoMaterno"	jdbcType="CHAR"  	javaType="String"/>				
		<parameter property="numeroConvenio"	jdbcType="INT" 		javaType="java.lang.Integer"/>		
		<parameter property="cuentaCargo"		jdbcType="CHAR"  	javaType="String"/>				
		<parameter property="idServicio"		jdbcType="INT" 		javaType="java.lang.Integer"/>
		<parameter property="idMedio"  			jdbcType="CHAR"  	javaType="String"/>		
		<parameter property="valorMedio"  		jdbcType="CHAR"  	javaType="String"/>		
		<parameter property="idUsuario"		jdbcType="INT" 		javaType="java.lang.Integer"/>
		<parameter property="flagEmpresa" 		jdbcType="INT"		javaType="java.lang.Integer"/>
		<parameter property="rutUsuario" 		jdbcType="INT"		javaType="java.lang.Integer"/>
		<parameter property="dvUsuario"  		jdbcType="CHAR"  	javaType="String"/>	
		<parameter property="estadoActivacion"       jdbcType="CHAR"     javaType="String"/>
	</parameterMap>
	<procedure id="enrolarSuscriptor" parameterMap="setEnrolarSuscriptor" resultClass="int">	
		{ CALL sp_enrolar_suscriptor(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) }	
	</procedure>		

	<parameterMap id="setActualizarMedioSuscripcion" class="java.util.HashMap">
		<parameter property="rut" 				jdbcType="INT"		javaType="java.lang.Integer"/>
		<parameter property="idMedio"  			jdbcType="CHAR"  	javaType="String"/>		
		<parameter property="valorMedio"  		jdbcType="CHAR"  	javaType="String"/>		
	</parameterMap>
	<procedure id="actualizarMedioSuscripcion" parameterMap="setActualizarMedioSuscripcion" resultClass="int">	
		{ CALL sp_upd_mdo_sus(?,?,?) }	
	</procedure>	

		<parameterMap id="setSuscribirClienteServicioAlerta" class="java.util.HashMap">
		<parameter property="rut" 				jdbcType="INT"		javaType="java.lang.Integer"/>
		<parameter property="dv"  				jdbcType="CHAR"  	javaType="String"/>	
		<parameter property="numeroConvenio"	jdbcType="INT" 		javaType="java.lang.Integer"/>
		<parameter property="idServicio"		jdbcType="INT" 		javaType="java.lang.Integer"/>
		<parameter property="cuenta"  			jdbcType="CHAR"  	javaType="String"/>		
		<parameter property="idMedio"  			jdbcType="CHAR"  	javaType="String"/>		
		<parameter property="valorMedio"  		jdbcType="CHAR"  	javaType="String"/>		
		<parameter property="estadoMedio"  		jdbcType="CHAR"  	javaType="String"/>
		<parameter property="montoAdicional" 	jdbcType="DECIMAL"	javaType="Double"/>			
		<parameter property="idUsuario"			jdbcType="INT" 		javaType="java.lang.Integer"/>		
		<parameter property="estadoSuscrip"		jdbcType="CHAR" 	javaType="String"/>	
		<parameter property="rutUsuario"		jdbcType="INT" 		javaType="java.lang.Integer"/>		
		<parameter property="dvUsuario"			jdbcType="CHAR" 	javaType="String"/>		
	</parameterMap>
	<procedure id="suscribirClienteServicioAlerta" parameterMap="setSuscribirClienteServicioAlerta" resultClass="int">	
		{ CALL sp_susc_cli_srv(?,?,?,?,?,?,?,?,?,?,?,?,?) }
	</procedure>	
	
	<parameterMap id="setCambiarEstadoMedioSuscripcion" class="java.util.HashMap">
		<parameter property="rut" 		jdbcType="INT"		javaType="java.lang.Integer"/>
		<parameter property="estadoMedio"	jdbcType="CHAR"  	javaType="String"/>		
	</parameterMap>
	<procedure id="cambiarEstadoMedioSuscripcion" parameterMap="setCambiarEstadoMedioSuscripcion" resultClass="int">	
		{ CALL sp_upd_est_mdo_sus(?,?) }	
	</procedure>		
	
	<parameterMap id="setObtenerSuscriptorPorValorMedio" class="java.util.HashMap">
		<parameter property="valorMedio"  	jdbcType="CHAR"	javaType="String"/>	
	</parameterMap>
	<resultMap id="getObtenerSuscriptorPorValorMedio" class="java.util.HashMap">
	
		<result property="rut"		column="Sct_Rut" 	    	    jdbcType="INT"	javaType="java.lang.Long"/>	
		<result property="dv"		column="Sct_Dv" 	    	    jdbcType="CHAR"	javaType="String"/>	
		<result property="nombre"	column="Sct_Nom_Nombre" 	    jdbcType="CHAR"	javaType="String"/>
		<result property="apePaterno"	column="Sct_Nom_Apellido_Paterno"   jdbcType="CHAR"	javaType="String"/>
		<result property="apeMaterno"	column="Sct_Nom_Apellido_Materno"   jdbcType="CHAR"	javaType="String"/>
		<result property="fechaAlta"	column="Sct_Fec_Alta"		    jdbcType="DATETIME" javaType="java.util.Date"/>  
		<result property="codEstado"	column="Sct_Cod_Estado" 	    jdbcType="CHAR"	javaType="String"/>
		<result property="idConvenio"	column="Sct_Id_Convenio" 	    jdbcType="INT"	javaType="java.lang.Integer"/>	
	</resultMap>
	<procedure id="obtenerSuscriptorPorValorMedio" parameterMap="setObtenerSuscriptorPorValorMedio" resultMap="getObtenerSuscriptorPorValorMedio">
	{ CALL sp_cns_sct_mdo(?) }	
	</procedure>	
	
	<parameterMap id="setConsultarTodasAlertasCliente" class="java.util.HashMap">
        <parameter property="rut"       jdbcType="INT"  javaType="java.lang.Integer"/>
    </parameterMap>
    <resultMap id="getConsultarTodasAlertasCliente" class="java.util.HashMap">
            <result property="idSuscripcion"    column="Scn_Id"                 jdbcType="INT"      javaType="java.lang.Integer"/>  
            <result property="fechaAlta"        column="Scn_Fec_Alta"           jdbcType="DATETIME" javaType="java.util.Date"/>
            <result property="cuenta"           column="Scn_Cod_Operacion"      jdbcType="String"   javaType="String"/> 
            <result property="descServicio"     column="Srv_Des"                jdbcType="String"   javaType="String"/>         
            <result property="canal"            column="Srv_Cod_Canal"          jdbcType="String"   javaType="String"/>
            <result property="codigoProducto"   column="Srv_Gls_Producto"       jdbcType="String"   javaType="String"/>
            <result property="descMedio"        column="Mdo_Des"                jdbcType="String"   javaType="String"/>
            <result property="cuentaCargo"      column="Sct_Num_Cuenta_Cargo"   jdbcType="String"   javaType="String"/>
            <result property="idMedio"          column="Mdo_Id"                 jdbcType="CHAR"     javaType="String"/> 
            <result property="codigoServicioSDP" column="Srv_Cod_Sdp"           jdbcType="CHAR"     javaType="String"/>
            <result property="idServicio"       column="Srv_Id"                 jdbcType="INT"      javaType="java.lang.Integer"/>
            <result property="codigoServicioSDP" column="Srv_Cod_Sdp"           jdbcType="CHAR"     javaType="String"/>
            <result property="codEstado"        column="Scn_Cod_Estado"         jdbcType="CHAR"     javaType="String"/>  
    </resultMap>
    <procedure id="consultarTodasAlertasCliente" parameterMap="setConsultarTodasAlertasCliente" resultMap="getConsultarTodasAlertasCliente">        
    { CALL sp_cns_todas_susc_cli(?) }   
    </procedure>
	
    <parameterMap id="setObtenerUCEEnrolados" class="java.util.HashMap">
        <parameter property="rutEmpresa" 	jdbcType="INT" javaType="INTEGER" />
        <parameter property="convenio"  	jdbcType="INT" javaType="INTEGER" />
    </parameterMap>
    
    <resultMap id="getObtenerUCEEnrolados" class="java.util.HashMap">
        <result  property="mds_rut" 	column="Mds_Rut"	jdbcType="CHAR"  javaType="String" />
        <result  property="estado_SUS"  column="estado_SUS"   	jdbcType="CHAR"  javaType="String" />
    </resultMap>
    
    <procedure id="obtenerUCEEnrolados" parameterMap="setObtenerUCEEnrolados" resultMap="getObtenerUCEEnrolados">
       {CALL sp_obtenerUsuariosDeConvenio (?,?)}
    </procedure>

  <parameterMap id="setTraerSuscripcionesServiciosUCE" class="java.util.HashMap">
		<parameter property="rutEmpresa" 		jdbcType="INT"  javaType="java.lang.Integer"/>
		<parameter property="numConvenio" 		jdbcType="INT" 	javaType="java.lang.Integer"/>
		<parameter property="idProducto"  		jdbcType="CHAR"	javaType="String"/>	
		<parameter property="canal"  			jdbcType="CHAR"	javaType="String"/>	
		<parameter property="rutUsuario"  		jdbcType="INT"  javaType="java.lang.Integer"/>
		
		
	</parameterMap>
	<resultMap id="getTraerSuscripcionesServiciosUCE" class="java.util.HashMap">
		<result property="idSuscripcion"		column="idSuscripcion" 	    jdbcType="INT"		javaType="java.lang.Integer"/>	
		<result property="fechaAlta"			column="fechaAlta"			jdbcType="DATETIME" javaType="java.util.Date"/>  
		<result property="fechaBaja"			column="fechaBaja"			jdbcType="DATETIME" javaType="java.util.Date"/>  
		<result property="estadoSuscripcion" 	column="estadoSuscripcion" 	jdbcType="CHAR"		javaType="String"/>	
		<result property="usuarioSDP"			column="usuarioSDP" 			jdbcType="INT"		javaType="java.lang.Integer"/>	
		<result property="idServicio" 			column="idServicio" 	    jdbcType="INT"		javaType="java.lang.Integer"/>	
		<result property="desServicio"			column="desServicio" 		jdbcType="CHAR" 	javaType="String"/>			
		<result property="idMedio" 		    	column="idMedio" 	    	jdbcType="CHAR"		javaType="String"/>	
		<result property="desMedio"				column="desMedio" 					jdbcType="CHAR" 	javaType="String"/>
		<result property="montoMedio" 			column="montoMedio" 				jdbcType="DECIMAL"	javaType="Double"/>	
		<result property="montoAdicional" 		column="montoAdicional" 				jdbcType="DECIMAL"	javaType="Double"/>	
		<result property="estadoMedio" 	    	column="estadoMedio" 	jdbcType="CHAR"		javaType="String"/>
		<result property="valorMedio" 	    	column="valorMedio" 		jdbcType="CHAR"		javaType="String"/>
		<result property="codigoOperacion" 		column="codigoOperacion" 	jdbcType="CHAR" 	javaType="String"/>
		<result property="codigoSDP" 			column="codigoSDP" 			jdbcType="CHAR" 	javaType="String"/>
		<result property="cuentaCargo" 		   	column="cuentaCargo" 			jdbcType="CHAR"		javaType="String"/>	
	
	
	</resultMap>
	<procedure id="traerSuscripcionesServiciosUCE" parameterMap="setTraerSuscripcionesServiciosUCE" resultMap="getTraerSuscripcionesServiciosUCE">		
	{ CALL sp_trae_suscripciones_UCE(?,?,?,?,?) }	
	</procedure>
	<resultMap id="getTraerServiciosVigentes" class="java.util.HashMap">
            <result property="idServicio"    column="Srv_Id"                 jdbcType="INT"      javaType="java.lang.Integer"/>  
			<result property="idMedio" 		    	column="Mdo_Id" 	    	jdbcType="CHAR"		javaType="String"/>	
			<result property="valor" 			column="Svm_Mto_Valor" 		jdbcType="DECIMAL"	javaType="Double"/>	
			<result property="descServicio"			column="Srv_Des" 		jdbcType="CHAR" 	javaType="String"/>
			<result property="descMedio"			column="Mdo_Des" 		jdbcType="CHAR" 	javaType="String"/>
			<result property="tieneMontoAdicional" 		column="Srv_Flg_Mto_Adicional" 	jdbcType="INT"		javaType="java.lang.Integer"/>	
			<result property="codigoSDP"			column="Srv_Cod_Sdp" 		jdbcType="CHAR" 	javaType="String"/>
	</resultMap>
	<procedure id="traerServiciosVigentes"  parameterClass="java.util.HashMap" resultMap="getTraerServiciosVigentes">		
	{ CALL sp_cns_lst_srv() }	
	</procedure>	
	
	<parameterMap id="setObtenerSuscripcionCliente" class="java.util.HashMap">
		<parameter property="rut" 		    jdbcType="INT"  javaType="java.lang.Integer"/>
		<parameter property="idServicio"    jdbcType="INT" 	    javaType="java.lang.Integer"/>
		
	</parameterMap>
    <resultMap id="getObtenerSuscripcionCliente" class="java.util.HashMap">
			<result property="cuentaCargo" 		    column="Scn_Cod_Operacion" 			jdbcType="CHAR"		javaType="String"/>
	</resultMap>
	<procedure id="obtenerSuscripcionCliente" parameterMap="setObtenerSuscripcionCliente" resultMap="getObtenerSuscripcionCliente">		
	{ CALL cns_sus_serv_cli(?,?) }
	</procedure>

    
	<parameterMap id="setObtenerValorSuscripcion" class="java.util.HashMap">
		<parameter property="idServicio"    jdbcType="INT" 	    javaType="java.lang.Integer"/>
        <parameter property="idMedio"  		jdbcType="CHAR"  	javaType="String"/>
	</parameterMap>
    <resultMap id="getObtenerValorSuscripcion" class="java.util.HashMap">
			<result property="monto" 				column="Svm_Mto_Valor" 			jdbcType="DECIMAL"	javaType="Double"/>	
	</resultMap>
	<procedure id="obtenerValorSuscripcion" parameterMap="setObtenerValorSuscripcion" resultMap="getObtenerValorSuscripcion">		
	{ CALL cns_mto_sus_cli(?,?) }
	</procedure>

    <parameterMap id="setObtenerMovimientosServicios" class="java.util.HashMap">
        <parameter property="rut"            jdbcType="INT"   javaType="java.lang.Integer"/>
        <parameter property="convenio"       jdbcType="INT"   javaType="java.lang.Integer"/>
        <parameter property="rutUsuario"     jdbcType="INT"   javaType="java.lang.Integer"/>
    </parameterMap>
    <resultMap id="getObtenerMovimientosServicios" class="java.util.HashMap">
            <result property="Cbr_Fec_Alerta"       jdbcType="DATETIME" javaType="java.util.Date"/> 
            <result property="Cbr_Txt_Valor_Medio"  jdbcType="String"   javaType="String"/>
            <result property="Srv_Gls_Producto"     jdbcType="String"   javaType="String"/>
            <result property="Cbr_Gls_Alerta"       jdbcType="String"   javaType="String"/> 
            <result property="Ctl_Num_Cuenta_Cargo" jdbcType="String"   javaType="String"/>         
            <result property="Cbr_Mto_Cobrado"      jdbcType="long"   javaType="Long"/>
    </resultMap>
    <procedure id="obtenerMovimientosServicios" parameterMap="setObtenerMovimientosServicios" resultMap="getObtenerMovimientosServicios">        
    { CALL cns_mov_ale(?,?,?) }   
    </procedure>  
    

	<!--Transaciones SMS -->
	<procedure id="obtenerEstadoEnrolamiento" parameterClass="java.util.HashMap" resultClass="java.util.HashMap"> 
		{CALL sp_cns_suscripcion(#rutCliente#)}
    </procedure>

	<procedure id="actualizarMedioYCuentaSuscripcion" parameterClass="java.util.HashMap" resultClass="int">	
		{ CALL sp_upd_datos_sus(#rut#, #idMedio#, #valorMedio#, #numeroCuenta#) }	
	</procedure>
	
	<procedure id="obtenerBancoCliente" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">	
		{ CALL sp_cns_canal_sus(#rutCliente#, #idServicio#) }	
	</procedure>
	
	<resultMap id="getObtenerServiciosDisponiblesProducto" class="java.util.HashMap">
		<result property="idServicio"			column="Srv_Id" 	    		jdbcType="INT"		javaType="java.lang.Integer"/>	
		<result property="idMedio" 		    	column="Mdo_Id" 	    		jdbcType="CHAR"		javaType="String"/>
		<result property="valor" 				column="Svm_Mto_Valor" 			jdbcType="DECIMAL"	javaType="Double"/>	
		<result property="descServicio"			column="Srv_Des"	 			jdbcType="CHAR" 	javaType="String"/>
		<result property="descMedio"			column="Mdo_Des" 				jdbcType="CHAR" 	javaType="String"/>
		<result property="tieneMontoAdicional" 	column="Srv_Flg_Mto_Adicional" 	jdbcType="INT"		javaType="java.lang.Integer"/>	
		<result property="codigoSDP"			column="Srv_Cod_Sdp" 			jdbcType="CHAR" 	javaType="String"/>
	</resultMap>
	<procedure id="obtenerServiciosDisponiblesProducto" parameterClass="java.util.HashMap" resultMap="getObtenerServiciosDisponiblesProducto">
	{CALL sp_cns_serv_disp_prod(#rutCliente#,#producto#,#canal#,#tipoProducto#)}
	</procedure>
	
    <parameterMap id="setObtenerEstadoSMS" class="java.util.HashMap">
       <parameter property="rut"  jdbcType="INT"  javaType="java.lang.Integer"/>
    </parameterMap>
    <resultMap id="getObtenerEstadoSMS" class="java.util.HashMap">
            <result property="Sct_Cod_Estado"  jdbcType="char"  javaType="java.lang.String"/>
    </resultMap>
    <procedure id="obtenerEstadoSMS" parameterMap="setObtenerEstadoSMS" resultMap="getObtenerEstadoSMS">        
    { CALL sp_obt_est_sms(?) }   
    </procedure>
    

    <parameterMap id="setModificaEstadoSMS" class="java.util.HashMap">
       <parameter property="rut"  jdbcType="INT"  javaType="java.lang.Integer"/>
    </parameterMap>
    <resultMap id="getModificaEstadoSMS" class="java.util.HashMap">
            <result property="error"  jdbcType="INT"  javaType="java.lang.Integer"/>
    </resultMap>
    <procedure id="modificaEstadoSMS" parameterMap="setModificaEstadoSMS" resultMap="getModificaEstadoSMS">        
    { CALL sp_des_sms(?) }
    </procedure>
		
		
    <parameterMap id="setExisteCelularEnrolado" class="java.util.HashMap">
        <parameter property="celular"  jdbcType="CHAR"  javaType="java.lang.String"/>
    </parameterMap>
    <procedure id="existeCelularEnrolado" parameterMap="setExisteCelularEnrolado" resultClass="java.lang.Integer">        
        { CALL sp_existe_celular_enrolado(?) }
    </procedure>
    
    <parameterMap id="setObtenerAlertasPendientesCnvEmpresa" class="java.util.HashMap">
        <parameter property="rutEmpresa"          jdbcType="INT"  javaType="java.lang.Long"/>
        <parameter property="numConvenio"         jdbcType="INT"  javaType="java.lang.Integer"/>
    </parameterMap>
    <resultMap id="getObtenerAlertasPendientesCnvEmpresa" class="java.util.HashMap">
            <result property="rutUsuario"         column="Mds_Rut"              jdbcType="INT"         javaType="Long"/>  
            <result property="dvUsuario"          column="Mds_Dv"               jdbcType="CHAR"        javaType="String"/>
            <result property="numCuentaCargo"     column="Sct_Num_Cuenta_Cargo" jdbcType="CHAR"        javaType="String"/> 
            <result property="idSuscripcion"      column="Scn_Id"               jdbcType="NUMERIC"     javaType="Long"/>  
            <result property="idServicio"         column="Srv_Id"               jdbcType="NUMERIC"     javaType="Long"/>       
            <result property="descServicio"       column="Srv_Des"              jdbcType="VARCHAR"     javaType="String"/>
            <result property="idMedio"            column="Mdo_Id"               jdbcType="CHAR"        javaType="String"/>
            <result property="fechaContratacion"  column="Scn_Fec_Alta"         jdbcType="DATETIME"    javaType="java.util.Date"/>
            <result property="valorMedio"         column="Mds_Txt_Valor_Medio"  jdbcType="CHAR"        javaType="String"/>
            <result property="montoServicio"      column="valor_servicio"       jdbcType="DECIMAL"     javaType="java.math.BigDecimal"/>
            <result property="montoAdicional"     column="mto_adicional"        jdbcType="DECIMAL"     javaType="java.math.BigDecimal"/>
            <result property="idUsrLatinia"       column="Mds_Sdp_Usr_Id"       jdbcType="NUMERIC"     javaType="Long"/>
            <result property="codServLatinia"     column="Srv_Cod_Sdp"          jdbcType="VARCHAR"     javaType="String"/>
    <result property="codEstadoMedio"     column="Mds_Cod_Estado_Activacion" jdbcType="CHAR"        javaType="String"/>
            
    </resultMap>
    <procedure id="obtenerAlertasPendientesCnvEmpresa" parameterMap="setObtenerAlertasPendientesCnvEmpresa" resultMap="getObtenerAlertasPendientesCnvEmpresa">        
        { CALL sp_cnsAlertasPendientes(?,?) }   
    </procedure>  
    
    <parameterMap id="setModificarServicioAlerta" class="java.util.HashMap">
        <parameter property="idSuscripcion"        jdbcType="INT"      javaType="java.lang.Long"/>
        <parameter property="rutUsuario"           jdbcType="INT"      javaType="java.lang.Long"/>
        <parameter property="dvUsuario"            jdbcType="CHAR"     javaType="String"/>
        <parameter property="valorMedio"           jdbcType="CHAR"     javaType="String"/>
        <parameter property="rutReceptorAnterior"  jdbcType="INT"      javaType="java.lang.Long"/>
    </parameterMap>
    <procedure id="modificarServicioAlerta" parameterMap="setModificarServicioAlerta" resultClass="int">        
        { CALL sp_mod_susc_recmed(?,?,?,?,?) }   
    </procedure>  
    
     <parameterMap id="setEliminarSuscripcionPendiente" class="java.util.HashMap">
        <parameter property="idSuscripcion"  jdbcType="INT"  javaType="java.lang.Long"/>
        <parameter property="rutEmpresa"     jdbcType="INT"  javaType="java.lang.Long"/>
        <parameter property="convenio"       jdbcType="INT"  javaType="java.lang.Integer"/>
        <parameter property="rutUsuario"     jdbcType="INT"  javaType="java.lang.Long"/>
    </parameterMap>
    <procedure id="eliminarSuscripcionPendiente" parameterMap="setEliminarSuscripcionPendiente" resultClass="int">        
        { CALL sp_eli_scn_pen(?,?,?,?) }   
    </procedure> 
    
    <parameterMap id="setObtenerSuscripcionInsSusReceptorMedio" class="java.util.HashMap">
        <parameter property="rutEmpresa"     jdbcType="INT"  javaType="java.lang.Long"/>
        <parameter property="convenio"       jdbcType="INT"  javaType="java.lang.Integer"/>
        <parameter property="idServicio"     jdbcType="INT"  javaType="java.lang.Long"/>
    </parameterMap>
        <resultMap id="getObtenerSuscripcionInsSusReceptorMedio" class="java.util.HashMap">
            <result property="rutUsuario"          column="Mds_Rut"                    jdbcType="INT"         javaType="Long"/>  
            <result property="dvUsuario"           column="Mds_Dv"                     jdbcType="CHAR"        javaType="String"/>
            <result property="codOperacion"        column="Scn_Cod_Operacion"          jdbcType="CHAR"        javaType="String"/>   
            <result property="estadoSuscripcion"   column="Scn_Cod_Estado"             jdbcType="CHAR"        javaType="String"/>      
            <result property="codEstadoMedio"      column="Mds_Cod_Estado_Activacion"  jdbcType="CHAR"        javaType="String"/>
    </resultMap>
    <procedure id="obtenerSuscripcionInsSusReceptorMedio" parameterMap="setObtenerSuscripcionInsSusReceptorMedio" resultMap="getObtenerSuscripcionInsSusReceptorMedio">        
        { CALL sp_cns_scn_scrs(?,?,?) }   
    </procedure> 
    
<parameterMap id="setObtenerAlertasSuscritasConvenioEmpresa" class="java.util.HashMap">
		<parameter property="rutEmpresa"  	jdbcType="INT"	javaType="Long"/>
		<parameter property="numConvenio"  	jdbcType="INT"	javaType="Integer"/>
		
	</parameterMap>
	<resultMap id="getObtenerAlertasSuscritasConvenioEmpresa" class="java.util.HashMap">
	
		<result property="rutEmpresa"			column="Mds_Rut" 	    	    	jdbcType="INT"		javaType="java.lang.Integer"/>	
		<result property="dv"					column="Mds_Dv" 	    	    	jdbcType="CHAR"		javaType="String"/>	
		<result property="rutSuscriptor"		column="Sct_Rut" 	    			jdbcType="INT"		javaType="java.lang.Integer"/>
		<result property="idConvenio"			column="Sct_Id_Convenio"   			jdbcType="INT"		javaType="java.lang.Integer"/>
		<result property="numCuentaCargoSct" 	column="Sct_Num_Cuenta_Cargo"   	jdbcType="CHAR"		javaType="String"/>
		<result property="idSuscripcion"		column="Scn_Id"		    			jdbcType="NUMERIC" 	javaType="java.math.BigDecimal"/>  
		<result property="codEstado"			column="Scn_Cod_Estado" 	    	jdbcType="CHAR"		javaType="String"/>
		<result property="codOperac"			column="Scn_Cod_Operacion" 	    	jdbcType="CHAR"		javaType="String"/>
		<result property="fechaAlta"			column="Scn_Fec_Alta"				jdbcType="DATETIME" javaType="java.util.Date"/>  
		<result property="fechaBaja"			column="Scn_Fec_Baja"				jdbcType="DATETIME" javaType="java.util.Date"/> 
		<result property="idServicio" 			column="Srv_Id" 	    			jdbcType="INT"		javaType="java.lang.Integer"/>
		<result property="descServicio"			column="Srv_Des" 					jdbcType="CHAR" 	javaType="String"/>	
		<result property="idMedio" 		    	column="Mdo_Id" 	    			jdbcType="CHAR"		javaType="String"/>	
		<result property="valorMedio" 	    	column="Mds_Txt_Valor_Medio" 		jdbcType="CHAR"		javaType="String"/>
		<result property="estadoMedio" 	    	column="Mds_Cod_Estado_Activacion" 	jdbcType="CHAR"		javaType="String"/>
		<result property="monto" 				column="Svm_Mto_Valor" 				jdbcType="DECIMAL"	javaType="Double"/>	
		<result property="descMedio"			column="Mdo_Des" 					jdbcType="CHAR" 	javaType="String"/>
		<result property="montoAdicional" 		column="Mds_Mto_Valor" 				jdbcType="DECIMAL"	javaType="Double"/>	
		<result property="idUsuarioSDP"			column="Mds_Sdp_Usr_Id" 			jdbcType="INT"		javaType="java.lang.Integer"/>
		<result property="codigoServSDP" 		column="Srv_Cod_Sdp" 				jdbcType="CHAR" 	javaType="String"/>
			
	</resultMap>
	<procedure id="obtenerAlertasSuscritasConvenioEmpresa" parameterMap="setObtenerAlertasSuscritasConvenioEmpresa" resultMap="getObtenerAlertasSuscritasConvenioEmpresa">
	{ CALL sp_cnsAlertasSuscritasCnvEmp(?,?) }	
	</procedure>
	
	<parameterMap id="setVerificarConvenioEmpresaEnrolado" class="java.util.HashMap">
		<parameter property="rutEmpresa"  	jdbcType="INT"	javaType="Long"/>
		<parameter property="numConvenio"  	jdbcType="INT"	javaType="Integer"/>
	</parameterMap>
	<resultMap id="getVerificarConvenioEmpresaEnrolado" class="java.util.HashMap">
		<result property="rut"		column="Sct_Rut" 	    	    jdbcType="INT"	javaType="java.lang.Long"/>	
		<result property="dv"		column="Sct_Dv" 	    	    jdbcType="CHAR"	javaType="String"/>	
		<result property="nombre"	column="Sct_Nom_Nombre" 	    jdbcType="CHAR"	javaType="String"/>
		<result property="apePaterno"	column="Sct_Nom_Apellido_Paterno"   jdbcType="CHAR"	javaType="String"/>
		<result property="apeMaterno"	column="Sct_Nom_Apellido_Materno"   jdbcType="CHAR"	javaType="String"/>
		<result property="idConvenio"	column="Sct_Id_Convenio" 	    jdbcType="INT"	javaType="java.lang.Integer"/>	
		<result property="codEstado"	column="Sct_Cod_Estado" 	    jdbcType="CHAR"	javaType="String"/>
		<result property="fechaAlta"	column="Sct_Fec_Alta"		    jdbcType="DATETIME" javaType="java.util.Date"/>  
		<result property="cuentaCargo"      column="Sct_Num_Cuenta_Cargo"   jdbcType="String"   javaType="String"/>
		<result property="esEmpresa"      column="Sct_Flg_Es_Empresa"   jdbcType="INT"	javaType="java.lang.Integer"/>	
	</resultMap>
	<procedure id="verificarConvenioEmpresaEnrolado" parameterMap="setVerificarConvenioEmpresaEnrolado" resultMap="getVerificarConvenioEmpresaEnrolado">
	{ CALL sp_cnsConvenioEmpresaEnrolado(?, ?) }	
	</procedure>

        <!--Alertas Webcorp -->
	<parameterMap id="setBuscarAlertasContratadas" class="java.util.HashMap">
        <parameter property="rutEmpresa"             jdbcType="INT"  javaType="java.lang.Long"/>
        <parameter property="convenioBusqueda"       jdbcType="INT"  javaType="java.lang.Integer"/>
        <parameter property="rutDestinatario"        jdbcType="INT"  javaType="java.lang.Long"/>
        <parameter property="paginaBusqueda"         jdbcType="INT"  javaType="java.lang.Integer"/>
        <parameter property="desplazamiento"         jdbcType="INT"  javaType="java.lang.Integer"/>
    </parameterMap>
    <resultMap id="getBuscarAlertasContratadas" class="java.util.HashMap">
        <result property="servicio"           column="Srv_Des"              jdbcType="CHAR"      javaType="String"/>  
        <result property="convenio"           column="Sct_Id_Convenio"      jdbcType="INT"       javaType="Integer"/>
        <result property="rutDestinatario"    column="Mds_Rut"              jdbcType="INT"       javaType="Long"/> 
        <result property="fechaAlta"          column="Scn_Fec_Alta"         jdbcType="DATETIME"  javaType="java.util.Date"/>         
        <result property="celular"            column="Mds_Txt_Valor_Medio"  jdbcType="CHAR"      javaType="String"/>
        <result property="monto"              column="Svm_Mto_Valor"        jdbcType="DECIMAL"   javaType="Long"/>
    </resultMap>
    <procedure id="buscarAlertasContratadas" parameterMap="setBuscarAlertasContratadas" resultMap="getBuscarAlertasContratadas">
    { CALL sp_cns_alerta_cont(?, ?, ?, ?, ?) }   
    </procedure>
    
    <parameterMap id="setBuscarUltimasAlertasEnviadas" class="java.util.HashMap">
        <parameter property="rutEmpresa"             jdbcType="INT"  javaType="java.lang.Long"/>
        <parameter property="convenioBusqueda"       jdbcType="INT"  javaType="java.lang.Integer"/>
        <parameter property="rutDestinatario"        jdbcType="INT"  javaType="java.lang.Long"/>
        <parameter property="paginaBusqueda"         jdbcType="INT"  javaType="java.lang.Integer"/>
        <parameter property="desplazamiento"         jdbcType="INT"  javaType="java.lang.Integer"/>
    </parameterMap>
    <resultMap id="getBuscarUltimasAlertasEnviadas" class="java.util.HashMap">
        <result property="fechaAlta"         column="Cbr_Fec_Alerta"         jdbcType="DATETIME" javaType="java.util.Date"/>  
        <result property="glosaProducto"     column="Srv_Gls_Producto"       jdbcType="CHAR"     javaType="String"/>
        <result property="servicio"          column="Srv_Des"                jdbcType="CHAR"     javaType="String"/> 
        <result property="rutDestinatario"   column="Cbr_Rut_Usuario"        jdbcType="INT"      javaType="Long"/>         
        <result property="celular"           column="Cbr_Txt_Valor_Medio"    jdbcType="CHAR"     javaType="String"/>
        <result property="convenio"          column="Sct_Id_Convenio"        jdbcType="INT"      javaType="Integer"/>
        <result property="monto"             column="Cbr_Mto_Cobrado"        jdbcType="DECIMAL"  javaType="Long"/>
    </resultMap>
    <procedure id="buscarUltimasAlertasEnviadas" parameterMap="setBuscarUltimasAlertasEnviadas" resultMap="getBuscarUltimasAlertasEnviadas">
    { CALL sp_cns_ult_alerta_env(?, ?, ?, ?, ?) }   
    </procedure>

    <parameterMap id="setObtenerAlertasPendientesAut" class="java.util.HashMap">
        <parameter property="rutEmpresa"          jdbcType="INT"  javaType="java.lang.Long"/>
        <parameter property="convenio"            jdbcType="INT"  javaType="java.lang.Integer"/>
        <parameter property="rutDestinatario"     jdbcType="INT"  javaType="java.lang.Long"/>
    </parameterMap>
    <resultMap id="getObtenerAlertasPendientesAut" class="java.util.HashMap">
        <result property="servicio"            column="Srv_Des"            jdbcType="CHAR"         javaType="String"/>
        <result property="rutDestinatario"     column="Mds_Rut"            jdbcType="INT"          javaType="Long"/>
        <result property="convenio"            column="Sct_Id_Convenio"    jdbcType="INT"          javaType="Integer"/>
        <result property="fechaAlta"           column="Scn_Fec_Alta"       jdbcType="DATETIME"     javaType="java.util.Date"/>
        <result property="monto"               column="Svm_Mto_Valor"      jdbcType="DECIMAL"          javaType="Long"/>
    </resultMap>
    <procedure id="obtenerAlertasPendientesAut" parameterMap="setObtenerAlertasPendientesAut" resultMap="getObtenerAlertasPendientesAut">        
        { CALL sp_cns_alerta_pnd_aut(?,?,?) }
    </procedure>
    
    <parameterMap id="setObtenerIdSuscripcion" class="java.util.HashMap">
        <parameter property="rutEmpresa"          jdbcType="INT"  javaType="java.lang.Long"/>
        <parameter property="numConvenio"         jdbcType="INT"  javaType="java.lang.Integer"/>
        <parameter property="servicio"            jdbcType="INT"  javaType="java.lang.Integer"/>
        <parameter property="rutUsuario"          jdbcType="INT"  javaType="java.lang.Long"/>
    </parameterMap>
    <procedure id="obtenerIdSuscripcion" parameterMap="setObtenerIdSuscripcion" resultClass="int">        
        { CALL sp_cns_id_scn(?,?,?,?) }
    </procedure>
    
    <parameterMap id="setObtenerCelularEnrolamiento" class="java.util.HashMap">
        <parameter property="rut"          jdbcType="INT"  javaType="java.lang.Long"/>
    </parameterMap>
    <procedure id="obtenerCelularEnrolamiento" parameterMap="setObtenerCelularEnrolamiento" resultClass="String">        
        { CALL sp_cns_cel_enr(?) }
    </procedure>
    
    <parameterMap id="setObtenerEstadoEnrolamientoMulticanal" class="java.util.HashMap">
        <parameter property="rut"          jdbcType="INT"  javaType="java.lang.Long"/>
    </parameterMap>
    <procedure id="obtenerEstadoEnrolamientoMulticanal" parameterMap="setObtenerEstadoEnrolamientoMulticanal" resultClass="String">        
        { CALL sp_obt_est_enr_mltcnl(?) }
    </procedure>
    
    <parameterMap id="setActualizarMedioSuscripcionAdv" class="java.util.HashMap">
        <parameter property="rut"               jdbcType="INT"      javaType="java.lang.Long"/>
        <parameter property="idMedio"           jdbcType="CHAR"     javaType="String"/>     
        <parameter property="valorMedio"        jdbcType="CHAR"     javaType="String"/>     
    </parameterMap>
    <procedure id="actualizarMedioSuscripcionAdv" parameterMap="setActualizarMedioSuscripcionAdv" resultClass="int">  
        { CALL sp_upd_mdo_sus_adv(?,?,?) }  
    </procedure>    

	<parameterMap id="setAgregarMedioNotificacion" class="java.util.HashMap">
		<parameter property="identificador"		jdbcType="INT" 		javaType="java.lang.Integer"/>	
		<parameter property="rut" 				jdbcType="INT"		javaType="java.lang.Integer"/>
		<parameter property="dv"			    jdbcType="CHAR" 	javaType="String"/>	
		<parameter property="idMedio"  			jdbcType="CHAR"  	javaType="String"/>	
		<parameter property="valorMedio"  		jdbcType="CHAR"  	javaType="String"/>
	</parameterMap>
	<procedure id="agregarMedioNotificacion" parameterMap="setAgregarMedioNotificacion" resultClass="int">	
		{ CALL sp_ins_medio_notif(?,?,?,?,?) }
	</procedure>

	<parameterMap id="setObtenerServiciosNotificacion" class="java.util.HashMap">
		<parameter property="productoNotificaciones" jdbcType="CHAR" javaType="String" />
		<parameter property="canal" jdbcType="CHAR" javaType="String" />
		<parameter property="medio" jdbcType="CHAR" javaType="String" />
	</parameterMap>
	<resultMap id="getObtenerServiciosNotificacion" class="java.util.HashMap">
		<result property="idServicio" column="Srv_Id" jdbcType="INT" javaType="java.lang.Integer" />
	</resultMap>
	<procedure id="obtenerServiciosNotificacion" parameterMap="setObtenerServiciosNotificacion" resultMap="getObtenerServiciosNotificacion"> { CALL
		sp_cns_servicios_notificacion(?,?,?) }
	</procedure>

	<parameterMap id="setIngresarSuscripcionNotificacion" class="java.util.HashMap">
		<parameter property="idServicio"		jdbcType="INT" 		javaType="java.lang.Integer"/>
		<parameter property="rut" 				jdbcType="INT"		javaType="java.lang.Integer"/>
		<parameter property="dv"  				jdbcType="CHAR"  	javaType="String"/>	
		<parameter property="numeroConvenio"	jdbcType="INT" 		javaType="java.lang.Integer"/>
		<parameter property="idMedio"  			jdbcType="CHAR"  	javaType="String"/>		
		<parameter property="numeroCuenta"			jdbcType="CHAR" 	javaType="String"/>	
		<parameter property="numeroTarjeta"			jdbcType="CHAR" 	javaType="String"/>	
		<parameter property="servicioInicial"	jdbcType="INT" 		javaType="java.lang.Integer"/>
		<parameter property="tipoTarjeta"		jdbcType="CHAR" 	javaType="String"/>
	</parameterMap>
	<procedure id="ingresarSuscripcionNotificacion" parameterMap="setIngresarSuscripcionNotificacion" resultClass="int">	
		{ CALL sp_ins_susc_notif(?,?,?,?,?,?,?,?,?) }
	</procedure>

	<parameterMap id="setEliminarSuscripcionNotificacion" class="java.util.HashMap">
		<parameter property="rut" 				jdbcType="INT"		javaType="java.lang.Integer"/>
		<parameter property="numeroConvenio"	jdbcType="INT" 		javaType="java.lang.Integer"/>
		<parameter property="numeroCuenta"			jdbcType="CHAR" 	javaType="String"/>	
		<parameter property="numeroTarjeta"			jdbcType="CHAR" 	javaType="String"/>	
		<parameter property="producto"	jdbcType="CHAR" 		javaType="String"/>
	</parameterMap>
	<procedure id="eliminarSuscripcionNotificacion" parameterMap="setEliminarSuscripcionNotificacion" resultClass="int">	
		{ CALL sp_del_susc_notif(?,?,?,?,?) }
	</procedure>

	<parameterMap id="setObtenerClienteEnroladoNotificaciones" class="java.util.HashMap">
		<parameter property="rut" 			jdbcType="INT"  javaType="java.lang.Long"/>
		<parameter property="idConvenio"	jdbcType="INT"	javaType="java.lang.Integer"/>
		<parameter property="rutUsuario" 	jdbcType="INT"  javaType="java.lang.Long"/>	
	</parameterMap>
	<resultMap id="getObtenerClienteEnroladoNotificaciones" class="java.util.HashMap">
		<result property="rut"				column="Sct_Rut"					jdbcType="INT"		javaType="Long"/>
		<result property="dv"				column="Sct_Dv" 					jdbcType="CHAR"		javaType="String"/>
		<result property="idConvenio"		column="Sct_Id_Convenio"			jdbcType="INT"		javaType="Integer"/>
		<result property="cuentaCargo"		column="Sct_Num_Cuenta_Cargo"		jdbcType="CHAR"		javaType="String"/>
		<result property="tipoCuentaCargo"	column="Sct_Cod_Tipo_Cuenta_Cargo"	jdbcType="CHAR" 	javaType="String"/>
		<result property="idSuscripcion" 	column="Scn_Id" 					jdbcType="INT"		javaType="Integer"/>
		<result property="idServicio" 		column="Srv_Id" 					jdbcType="INT"		javaType="Integer"/>
		<result property="glosaServicio"	column="Srv_Des"					jdbcType="CHAR" 	javaType="String"/>
		<result property="rutUsuario"		column="Mds_Rut"					jdbcType="INT"		javaType="Long"/>
		<result property="dvUsuario"		column="Mds_Dv" 					jdbcType="CHAR"		javaType="String"/>
		<result property="idMedio"			column="Mdo_Id"						jdbcType="CHAR" 	javaType="String"/>
		<result property="valorMedio"		column="Mds_Txt_Valor_Medio"		jdbcType="CHAR" 	javaType="String"/>
	</resultMap>
	<procedure id="obtenerClienteEnroladoNotificacion" parameterMap="setObtenerClienteEnroladoNotificaciones"
		resultMap="getObtenerClienteEnroladoNotificaciones">		
		{ CALL sp_cns_cliente_enrolado_notif(?,?,?) }	
	</procedure>

	<parameterMap id="setObtenerSuscripcionesProductoNotificacion" class="java.util.HashMap">
		<parameter property="rutCliente"	jdbcType="INT"	javaType="Long"/>
		<parameter property="convenio"		jdbcType="INT" 	javaType="Integer"/>
		<parameter property="rutUsuario"	jdbcType="INT" 	javaType="Long"/>
		<parameter property="canal"			jdbcType="CHAR" 	javaType="String"/>
		<parameter property="producto"		jdbcType="CHAR" 	javaType="String"/>
		<parameter property="numeroCuenta"	jdbcType="CHAR" 	javaType="String"/>
		<parameter property="numeroTarjeta"	jdbcType="CHAR" 	javaType="String"/>
	</parameterMap>
	<resultMap id="getObtenerSuscripcionesProductoNotificacion" class="java.util.HashMap">
		<result property="rutCliente" column="Sct_Rut" jdbcType="INT" javaType="Long" />
		<result property="dvCliente" column="Sct_Dv" jdbcType="CHAR" javaType="String" />
		<result property="convenio" column="Sct_Id_Convenio" jdbcType="INT" javaType="Integer" />
		<result property="idSuscripcion" column="Scn_Id" jdbcType="INT" javaType="Integer" />
		<result property="estadoSuscripcion" column="Scn_Cod_Estado" jdbcType="CHAR" javaType="String" />
		<result property="idServicio" column="Srv_Id" jdbcType="INT" javaType="Integer" />
		<result property="glosaServicio" column="Srv_Des" jdbcType="CHAR" javaType="String" />
		<result property="glosaProducto" column="Srv_Gls_Producto" jdbcType="CHAR" javaType="String" />
		<result property="rutUsuario" column="Mds_Rut" jdbcType="INT" javaType="Long" />
		<result property="dvUsuario" column="Mds_Dv" jdbcType="CHAR" javaType="String" />
		<result property="idMedio" column="Mdo_Id" jdbcType="CHAR" javaType="String" />
		<result property="valorMedio" column="Mds_Txt_Valor_Medio" jdbcType="CHAR" javaType="String" />
	</resultMap>
	<procedure id="obtenerSuscripcionesProductoNotificacion" parameterMap="setObtenerSuscripcionesProductoNotificacion"
		resultMap="getObtenerSuscripcionesProductoNotificacion">
		{ CALL sp_cns_sus_notif_producto(?,?,?,?,?,?,?) }  
	</procedure>

	<parameterMap id="setObtenerMedioEnvio" class="java.util.HashMap">
		<parameter property="rutCliente"	    jdbcType="INT"	  javaType="java.lang.Long"/>	
		<parameter property="numeroTarjeta"		jdbcType="CHAR"   javaType="String"/>
		<parameter property="numeroCuenta"		jdbcType="CHAR"   javaType="String"/>
		<parameter property="glosaProducto"		jdbcType="CHAR"   javaType="String"/>
	</parameterMap>
	<resultMap id="getobtenerMedioEnvio" class="java.util.HashMap">
		<result property="codEstado"     column="Scn_Cod_Estado"	  jdbcType="CHAR" 	javaType="String" />
		<result property="idMedio" 		 column="Mdo_Id" 			  jdbcType="CHAR" 	javaType="String" />
		<result property="codProducto"   column="Srv_Cod_Sdp" 		  jdbcType="CHAR" 	javaType="String" />
		<result property="codCanal"      column="Srv_Cod_Canal" 	  jdbcType="CHAR" 	javaType="String" />
		<result property="valorMedio"    column="Mds_Txt_Valor_Medio" jdbcType="CHAR" 	javaType="String" />
	</resultMap>
	<procedure id="obtenerMedioEnvio" parameterMap="setObtenerMedioEnvio"
		resultMap="getobtenerMedioEnvio">
		{ CALL sp_obt_med_notif(?,?,?,?) }  
	</procedure>
	
	<parameterMap id="setObtenerRutCliente" class="java.util.HashMap">
		<parameter property="idSuscripcion"  	jdbcType="INT"	javaType="Integer"/>
	</parameterMap>
	<resultMap id="getObtenerRutCliente" class="java.util.HashMap">
		<result property="rut"   column="Sct_Rut"  jdbcType="INT"	javaType="java.lang.Long"/>	
		<result property="dv"    column="Sct_Dv"   jdbcType="CHAR" 	javaType="String" />
	</resultMap>
	<procedure id="obtenerRutCliente" parameterMap="setObtenerRutCliente" resultMap="getObtenerRutCliente">
	{ CALL sp_cns_rut_sct(?) }	
	</procedure>
	
	<parameterMap id="setObtenerSuscripcionNotif" class="java.util.HashMap">
		<parameter property="numeroTarjeta"  	jdbcType="CHAR"	javaType="String"/>	
	</parameterMap>
	<resultMap id="getObtenerSuscripcionNotif" class="java.util.HashMap">
		<result property="numeroCuenta"		column="Rlc_Nro_Cuenta"  jdbcType="INT"	javaType="java.lang.Long"/>	
		<result property="idSuscripcion"    column="Scn_Id" jdbcType="INT" javaType="Integer" />
	</resultMap>
	<procedure id="obtenerSuscripcionNotif" parameterMap="setObtenerSuscripcionNotif" resultMap="getObtenerSuscripcionNotif">
	{ CALL sp_cns_susc(?) }	
	</procedure>
  </sqlMap>

<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE sqlMap      
    PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"      
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">
    
<sqlMap namespace="succorporativa.procedimientosAlmacenados">

<!-- RESULT MAP -->
    
    <resultMap id="comportamientoCliente" class="java.util.HashMap">
        <result property="probabilidadIncumplimiento"  javaType="double"  column="probabilidadIncumplimiento" jdbcType="decimal" />
        <result property="tipoCliente"  javaType="String"  column="tipoCliente" jdbcType="char"/>
               
    </resultMap>

    <procedure id="consultarComportamientoCliente" parameterClass="java.util.HashMap" resultMap="comportamientoCliente">
        {CALL sp_cns_datos_comportamiento( #rut# )}
    </procedure>

    <resultMap id="scoreComportamental" class="java.util.HashMap">
        <result property="score_comportamental"  javaType="Integer"  column="score_comportamental" jdbcType="int" />
    </resultMap>
        
    <procedure id="consultarScoreComportamental" parameterClass="java.util.HashMap" resultMap="scoreComportamental">
        {CALL sp_cda_cns_score_comp( #rut# )}
    </procedure>
    
</sqlMap>

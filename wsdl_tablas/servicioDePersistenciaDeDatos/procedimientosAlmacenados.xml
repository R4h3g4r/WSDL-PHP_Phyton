<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE sqlMap      
    PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"      
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">
    
<sqlMap namespace="succorporativa.procedimientosAlmacenados">

<!-- RESULT MAP -->

    <!-- Comienzo Resultados Análisis Solicitud -->
    <resultMap id="detalleAnalisisActivosRelevantes" class="java.util.HashMap">
        <result property="idDetalle"        javaType="Long"     column="id_det_act_rel"     jdbcType="int" />
        <result property="idAnalisis"       javaType="Long"     column="id_analisis"        jdbcType="int" />
        <result property="tipoBien"         javaType="String"   column="tipo_bien"          jdbcType="varchar" />
        <result property="caracteristica"   javaType="String"   column="caracteristica"     jdbcType="varchar" />
        <result property="valor"            javaType="Double"   column="valor"              jdbcType="decimal"/>
        <result property="comentarios"      javaType="String"   column="comentario"         jdbcType="varchar"/>
    </resultMap>

    <resultMap id="detalleAnalisisCargaFinanciera" class="java.util.HashMap">
        <result property="idDetalle"        javaType="Long"     column="id_det_carga_finan"     jdbcType="int" />
        <result property="idAnalisis"       javaType="Long"     column="id_analisis"            jdbcType="int" />
        <result property="tipoDeuda"        javaType="String"   column="tipo_deuda"             jdbcType="varchar" />
        <result property="banco"            javaType="String"   column="banco"                  jdbcType="varchar" />
        <result property="saldoInsoluto"    javaType="Double"   column="saldo_insoluto"         jdbcType="decimal"/>
        <result property="plazoTotal"       javaType="Integer"  column="plazo_total"            jdbcType="numeric"/>
        <result property="cuotaActual"      javaType="Integer"  column="cuota_actual"           jdbcType="numeric"/>
        <result property="destino"          javaType="String"   column="destino"                jdbcType="varchar"/>
        <result property="tipoGarantia"     javaType="String"   column="tipo_garantia"          jdbcType="varchar"/>
        <result property="valorGarantia"    javaType="Double"   column="valor_garantia"         jdbcType="decimal"/>
        <result property="valorCuota"       javaType="Double"   column="valor_cuota"            jdbcType="decimal"/>
    </resultMap>

    <resultMap id="analisisSolicitud" class="java.util.HashMap">
        <result property="idAnalisis"                   javaType="Long"     column="id_analisis"            jdbcType="int" />
        <result property="idSolicitud"                  javaType="Long"     column="nro_solicitud"          jdbcType="int" />
        <result property="detalleActividad"             javaType="String"   column="detalle_actividad"      jdbcType="varchar" />
        <result property="fundadaAnyo"                  javaType="Integer"  column="fundada_anno"           jdbcType="varchar"/>
        <result property="aperturaCC"                   javaType="String"   column="apertura_cc"            jdbcType="varchar"/>
        <result property="nuevaCarga"                   javaType="Double"   column="nueva_carga_fin"        jdbcType="decimal"/>
        <result property="totalCargaFinancieraAnual"    javaType="Double"   column="total_carga_fin_anual"  jdbcType="decimal"/>
        <result property="generacionGOB"                javaType="Double"   column="generacion_gob"         jdbcType="decimal"/>
        <result property="ingresosExogenos"             javaType="Double"   column="ingreso_exogeno"        jdbcType="decimal"/>
        <result property="excedenteDeficit"             javaType="Double"   column="excedente_deficit"      jdbcType="decimal"/>
    </resultMap>

    <resultMap id="observacionAnalisis" class="java.util.HashMap">
        <result property="idObservacion"        javaType="Long"     column="id_analisis_obs"    jdbcType="int" />
        <result property="idSolicitud"          javaType="Long"     column="id_analisis"        jdbcType="int" />
        <result property="observacion"          javaType="String"   column="observacion"        jdbcType="varchar" />
        <result property="codigoObservacion"    javaType="String"   column="tipo_obs"           jdbcType="varchar"/>
        <result property="descripcionCodigo"    javaType="String"   column="descripcionCod"     jdbcType="varchar"/>
    </resultMap>
    <!-- Fin Resultados Análisis Solicitud -->

    <!-- Resultados Parámetros -->
    <resultMap id="parametro" class="java.util.HashMap">
        <result property="codigo"       javaType="String"   column="codigo"         jdbcType="varchar" />
        <result property="descripcion"  javaType="String"   column="descripcion"    jdbcType="varchar" />
    </resultMap> 
    <!-- Fin Resultados Parámetros -->

    <!-- Comienzo Resultados Estado Situación -->
    <resultMap id="estadoSituacion" class="java.util.HashMap">
        <result property="activo"           javaType="Long"     column="activo"         jdbcType="int" />
        <result property="pasivo"           javaType="Long"     column="pasivo"         jdbcType="int" />
        <result property="patrimonio"       javaType="Long"     column="patrimonio"     jdbcType="int" />
        <result property="codigoItem"       javaType="String"   column="codigoItem"     jdbcType="varchar" />
        <result property="glosa"            javaType="String"   column="glosa"          jdbcType="varchar"/>
        <result property="cantidadItem"     javaType="Long"     column="cantidad_item"  jdbcType="int"/>
        <result property="monto"            javaType="Double"   column="monto"          jdbcType="decimal"/>
    </resultMap>

    <resultMap id="detalleItemEstadoSituacion" class="java.util.HashMap">
        <result property="id"                   javaType="Long"     column="id"                 jdbcType="int" />
        <result property="rutCliente"           javaType="Long"     column="rut"                jdbcType="int" />
        <result property="idSolicitud"          javaType="Long"     column="nro_solicitud"      jdbcType="int" />
        <result property="tipo"                 javaType="String"   column="tipo"               jdbcType="varchar" />
        <result property="subtipo"              javaType="String"   column="subtipo"            jdbcType="varchar" />
        <result property="monto"                javaType="Double"   column="monto"              jdbcType="decimal" />
        <result property="institucion"          javaType="String"   column="institucion"        jdbcType="varchar" />
        <result property="rutSociedad"          javaType="Long"     column="rut_sociedad"       jdbcType="int"/>
        <result property="dvSociedad"           javaType="String"   column="dv_sociedad"        jdbcType="varchar"/>
        <result property="nombre"               javaType="String"   column="nombre"             jdbcType="varchar"/>
        <result property="porcentaje"           javaType="Double"   column="porcentaje"         jdbcType="decimal"/>
        <result property="anyo"                 javaType="Long"     column="anno"               jdbcType="int"/>
        <result property="marca"                javaType="String"   column="marca"              jdbcType="varchar"/>
        <result property="placa"                javaType="String"   column="placa"              jdbcType="varchar"/>
        <result property="cuotasPendientes"     javaType="Long"     column="cuota_pendiente"    jdbcType="int"/>
        <result property="totalCuotas"          javaType="Long"     column="total_cuota"        jdbcType="int"/>
        <result property="plazo"                javaType="Long"     column="plazo"              jdbcType="int"/>
        <result property="descripcion"          javaType="String"   column="descripcion"        jdbcType="varchar"/>
    </resultMap>

    <resultMap id="fechaAteriorEstadoSituacion" class="java.util.HashMap">
        <result property="fechaAnterior"            javaType="Date"     column="fechaAnterior"      jdbcType="DATE" />
    </resultMap>
    <!-- FIN Resultados Estado Situación -->

    <!-- Resultados Estado Financiero Y Ventas -->
    <resultMap id="estadoFinancieroSolicitante" class="java.util.HashMap">
        <result property="cod_err"                      column="cod_err"/>
        <result property="des_err"                      column="des_err"/>
        <result property="rutSolicitante"               column="rut"/>
        <result property="nroSolicitud"                 column="nro_solicitud"/>
        <result property="periodo"                      column="periodo"/>
        <result property="ingresos"                     column="ingresos"/>
        <result property="resultFinal"                  column="result_final"/>
        <result property="resultFinalIngresos"          column="result_final_ingresos"/>
        <result property="liquidezCorriente"            column="liquidez_corriente"/>
        <result property="permanenciaCredito"           column="permanencia_credito"/>
        <result property="permanenciaInventario"        column="permanencia_inventario"/>
        <result property="totalActivos"                 column="total_act"/>
        <result property="totalActivosFijos"            column="total_act_fijos"/>
        <result property="totalPasivoExigible"          column="total_pas_exigible"/>
        <result property="totalPasivoNoExigible"        column="total_pas_no_exigible"/>
        <result property="leverage"                     column="leverage"/>
        <result property="usuarioCreador"               column="usuario_creador"/>
        <result property="usuarioModifica"              column="usuario_modifica"/>
        <result property="fechaCreacion"                column="fecha_creacion"/>
        <result property="fechaModifica"                column="fecha_modifica"/>
    </resultMap>

    <resultMap id="ventasDelPeriodo" class="java.util.HashMap">
        <result property="cod_err"                      column="cod_err"/>
        <result property="des_err"                      column="des_err"/>
        <result property="rutSolicitante"               column="rut"/>
        <result property="nroSolicitud"                 column="nro_solicitud"/>
        <result property="periodo"                      column="periodo"/>
        <result property="ventas_enero"                 column="ventas_enero"/>
        <result property="ventas_febrero"               column="ventas_febrero"/>
        <result property="ventas_marzo"                 column="ventas_marzo"/>
        <result property="ventas_abril"                 column="ventas_abril"/>
        <result property="ventas_mayo"                  column="ventas_mayo"/>
        <result property="ventas_junio"                 column="ventas_junio"/>
        <result property="ventas_julio"                 column="ventas_julio"/>
        <result property="ventas_agosto"                column="ventas_agosto"/>
        <result property="ventas_septiembre"            column="ventas_septiembre"/>
        <result property="ventas_octubre"               column="ventas_octubre"/>
        <result property="ventas_noviembre"             column="ventas_noviembre"/>
        <result property="ventas_diciembre"             column="ventas_diciembre"/>
        <result property="total_ventas"                 column="total_ventas"/>
        <result property="usuarioCreador"               column="usuario_creador"/>
        <result property="usuarioModifica"              column="usuario_modifica"/>
        <result property="fechaCreacion"                column="fecha_creacion"/>
        <result property="fechaModifica"                column="fecha_modifica"/>
    </resultMap>
    <!-- Fin Resultados Estado Financiero Y Ventas -->


    <!-- Resolucion Solicitud -->
    <resultMap id="cuadroDeMando" class="java.util.HashMap">
        <result property="rut"                          column="rut"/>
        <result property="dv"                           column="dv"/>
        <result property="nro_solicitud"                column="nro_solicitud"/>
        <result property="sem_patrimonio"               column="sem_patrimonio"/>
        <result property="sem_carga_financiera"         column="sem_carga_financiera"/>
        <result property="sem_icr"                      column="sem_icr"/>
        <result property="puntaje_creditdesk"           column="puntaje_creditdesk"/>
        <result property="ajuste_garantia"              column="ajuste_garantia"/>
        <result property="monto_max_pesos"              column="monto_max_pesos"/>
        <result property="cic"                          column="cic"/>
        <result property="nombres"                      column="nombres"/>
        <result property="apellidos"                    column="apellidos"/>
        <result property="fecha_nacimiento"             column="fecha_nacimiento"/>
        <result property="edad"                         column="edad"/>
        <result property="id_banca"                     column="id_banca"/>
        <result property="descripcion_Banca"            column="descripcion_Banca"/>
        <result property="fecha_cta_cte_vig"            column="fecha_cta_cte_vig"/>
        <result property="id_actividad"                 column="id_actividad"/>
        <result property="descripcion_actividad"        column="descripcion_actividad"/>
        <result property="renta_cliente"                column="renta_cliente"/>
        <result property="est_civil"                    column="est_civil"/>
        <result property="descripcion_est_civil"        column="descripcion_est_civil"/>
        <result property="total_ventas"                 column="total_ventas"/>
        <result property="utilidad"                     column="utilidad"/>
        <result property="usuario_creador"              column="usuario_creador"/>
        <result property="usuario_modifica"             column="usuario_modifica"/>
        <result property="fecha_creacion"               column="fecha_creacion"/>
        <result property="fecha_modifica"               column="fecha_modifica"/>
        <result property="id_estado"                    column="id_estado"/>
    </resultMap>

    <resultMap id="evaluacionSolicitud" class="java.util.HashMap">
        <result property="nro_solicitud"    column="nro_solicitud"/>
        <result property="id_estado"        column="id_estado"/>
        <result property="glosa_estado"     column="glosa_estado"/>
        <result property="traspaso_banca"   column="traspaso_banca"/>
        <result property="grupo_economico"  column="grupo_economico"/>
        <result property="presentacion"     column="presentacion"/>
        <result property="perspectiva"      column="perspectiva"/>
        <result property="tipo_resolucion"  column="tipo_resolucion"/>
        <result property="resolutor"        column="resolutor"/>
        <result property="renegociado"      column="renegociado"/>
        <result property="ingreso_lob"      column="ingreso_lob"/>
    </resultMap>

    <resultMap id="politicasSolicitud" class="java.util.HashMap">
        <result property="nro_solicitud"        column="nro_solicitud"/>
        <result property="codigo_politica"      column="codigo_politica"/>
        <result property="usuario_creador"      column="usuario_creador"/>
        <result property="usuario_modifica"     column="usuario_modifica"/>
        <result property="fecha_creacion"       column="fecha_creacion"/>
        <result property="fecha_modifica"       column="fecha_modifica"/>
    </resultMap>

    <resultMap id="sem_icr" class="java.util.HashMap">
        <result property="sem_icr"        column="sem_icr"/>
    </resultMap>

    <resultMap id="observacionesSolicitud" class="java.util.HashMap">
        <result property="nro_solicitud"        column="nro_solicitud"/>
        <result property="id_estado"            column="id_estado"/>
        <result property="glosa_estado"         column="glosa_estado"/>
        <result property="observacion"          column="observacion"/>
        <result property="fecha"                column="fecha"/>
        <result property="usuario"              column="usuario"/>
    </resultMap>
    <!-- Fin Resolucion Solicitud -->

    <!-- Comienzo Result Ciclo Solicitudes -->
    <resultMap id="cicloSolicitudes" class="java.util.HashMap">
        <result property="rutCliente"           javaType="Long"     column="rut"                jdbcType="int" />
        <result property="dvCliente"            javaType="String"   column="digitoVerificador"  jdbcType="varchar" />
        <result property="idSolicitud"          javaType="Long"     column="nro_solicitud"      jdbcType="int" />
        <result property="nombreCliente"        javaType="String"   column="nombre"             jdbcType="varchar" />
        <result property="estado"               javaType="String"   column="estado"             jdbcType="varchar" />
        <result property="codigoEstado"         javaType="Long"     column="codigoEstado"       jdbcType="int" />
        <result property="fechaIngreso"         javaType="Date"     column="fechaIngreso"       jdbcType="DATE" />
        <result property="fechaCreacion"        javaType="Date"     column="fecha_creacion"     jdbcType="DATE" />
        <result property="fechaActualizacion"   javaType="Date"     column="fecha_modifica"     jdbcType="DATE"/>
        <result property="enviadoA"             javaType="String"   column="enviado_a"          jdbcType="varchar"/>
        <result property="recibidoDe"           javaType="String"   column="recibido_de"        jdbcType="varchar"/>
        <result property="bandeja"              javaType="Long"     column="bandeja"            jdbcType="int"/>
        <result property="ejecutivoSolicitante" javaType="String"   column="ejecutivoSolicitante" jdbcType="varchar"/>
    </resultMap>
    <!-- Fin Result Ciclo Solicitudes -->

    <!-- Grupo Economico -->
    <resultMap id="grupoEconomico" class="java.util.HashMap">
        <result property="rut_asociado"     javaType="Long"     column="rut_asociado"   jdbcType="int"/>
        <result property="dv_asociado"      javaType="String"   column="dv_asociado"    jdbcType="char"/>
        <result property="tipo_relacion"    javaType="String"   column="tipo_relacion"  jdbcType="char"/>
        <result property="nombres"          javaType="String"   column="nombres"        jdbcType="char"/>
        <result property="tipo_persona"     javaType="String"   column="tipo_persona"   jdbcType="varchar"/>
        <result property="ingresos"         javaType="Double"   column="ingresos"       jdbcType="decimal"/>
        <result property="fuente_ingreso"   javaType="String"   column="fuente_ingreso" jdbcType="varchar"/>
        <result property="participacion"    javaType="Double"   column="participacion"  jdbcType="decimal" />
        <result property="evaluado"         javaType="Long"     column="evaluado"       jdbcType="int" />
    </resultMap>
    <!-- Fin Grupo Economico -->

    <!-- Documentos Solicitud -->
    <resultMap id="documento" class="java.util.HashMap">
        <result property="idDocumento"  javaType="Long"     column="id_documento"   jdbcType="int"/>
        <result property="idSolicitud"  javaType="Long"     column="nro_solicitud"  jdbcType="int"/>
        <result property="nombre"       javaType="String"   column="nombre_archivo" jdbcType="varchar"/>
        <result property="descripcion"  javaType="String"   column="descripcion"    jdbcType="varchar"/>
        <result property="ruta"         javaType="String"   column="ruta"           jdbcType="varchar"/>
        <result property="fecha"        javaType="Date"     column="fecha"          jdbcType="DATE"/>
        <result property="usuario"      javaType="String"   column="usuario"        jdbcType="varchar" />
    </resultMap>
    <!-- Fin Documentos Solicitud -->

    <!-- Linea de Credito -->
    <resultMap id="idlineaVigente" class="java.util.HashMap">
        <result property="id_lin_vig"       javaType="Long"     column="id_lin_vig" jdbcType="numeric" />
    </resultMap>

    <resultMap id="LGCVigente" class="java.util.HashMap">
        <result property="id_cab_lcg_vig"       javaType="Long"     column="id_cab_lcg_vig" jdbcType="numeric" />
        <result property="moneda"               javaType="String"   column="moneda" jdbcType="varchar"/>
        <result property="monto_max_pesos"      javaType="Double"   column="monto_max_pesos"    jdbcType="numeric"/>
        <result property="monto_max_uf"         javaType="Double"   column="monto_max_uf"   jdbcType="numeric"/>
        <result property="vencimiento"          javaType="Date"     column="vencimiento" jdbcType="datetime"/>
        <result property="total_garantia"       javaType="Double"   column="total_garantia" jdbcType="numeric"/>
        <result property="rel_deuda_garantia"   javaType="Double"   column="rel_deuda_garantia" jdbcType="decimal"/>
        <result property="deficit"              javaType="Double"   column="deficit" jdbcType="numeric"/>
        <result property="ind_creditdesk"       javaType="Double"   column="ind_creditdesk" jdbcType="numeric"/>
        <result property="glosa_moneda"         javaType="String"   column="glosa_moneda" jdbcType="varchar"/>
    </resultMap>

    <resultMap id="LGCSolicitada" class="java.util.HashMap">
        <result property="id_cab_lcg_sol"       javaType="Long"     column="id_cab_lcg_sol" jdbcType="numeric" />
        <result property="moneda"               javaType="String"   column="moneda" jdbcType="varchar"/>
        <result property="monto_max_pesos"      javaType="Double"     column="monto_max_pesos"    jdbcType="numeric"/>
        <result property="monto_max_uf"         javaType="Double"     column="monto_max_uf"   jdbcType="numeric"/>
        <result property="vencimiento"          javaType="Date"     column="vencimiento" jdbcType="datetime"/>
        <result property="total_garantia"       javaType="Double"     column="total_garantia" jdbcType="numeric"/>
        <result property="rel_deuda_gtia"       javaType="Double"   column="rel_deuda_gtia" jdbcType="decimal"/>
        <result property="deficit"              javaType="Double"     column="deficit" jdbcType="numeric"/>
        <result property="ind_creditdesk"       javaType="Double"     column="ind_creditdesk" jdbcType="numeric"/>
    </resultMap>

    <resultMap id="DetalleLineaVigente" class="java.util.HashMap">
        <result property="id_detalle_linea"     javaType="Long"       column="id_detalle_linea"         jdbcType="numeric"/>
        <result property="tipo_linea"           javaType="String"       column="tipo_linea"             jdbcType="varchar"/>
        <result property="moneda"               javaType="String"       column="moneda"                 jdbcType="varchar"/>
        <result property="tipo_garantia"        javaType="String"       column="tipo_garantia"          jdbcType="varchar"/>
        <result property="sub_tipo_gar"         javaType="String"       column="sub_tipo_gar"           jdbcType="varchar"/>
        <result property="monto_max"            javaType="Double"       column="monto_max"              jdbcType="decimal"/>
        <result property="monto_cont"           javaType="Double"       column="monto_cont"             jdbcType="decimal"/>
        <result property="vencimiento"          javaType="Date"         column="vencimiento"            jdbcType="datetime"/>
        <result property="cobertura"            javaType="Double"       column="cobertura"              jdbcType="decimal"/>
        <result property="cond_garantia"        javaType="String"       column="cond_garantia"          jdbcType="varchar"/>
        <result property="glosa_tipo_linea"     javaType="String"       column="glosa_tipo_linea"       jdbcType="varchar"/>
        <result property="glosa_moneda"         javaType="String"       column="glosa_moneda"           jdbcType="varchar"/>
        <result property="glosa_tipo_garantia"  javaType="String"       column="glosa_tipo_garantia"    jdbcType="varchar"/>
        <result property="glosa_sub_tipo_gar"   javaType="String"       column="glosa_sub_tipo_gar"     jdbcType="varchar"/>
        <result property="glosa_cond_garantia"  javaType="String"       column="glosa_cond_garantia"    jdbcType="varchar"/>
    </resultMap>

    <resultMap id="DetalleLineaSolicitada" class="java.util.HashMap">
        <result property="id_detalle_linea"     javaType="Long"     column="id_detalle_linea"       jdbcType="numeric"/>
        <result property="tipo_linea"           javaType="String"   column="tipo_linea"             jdbcType="varchar"/>
        <result property="moneda"               javaType="String"   column="moneda"                 jdbcType="varchar"/>
        <result property="tipo_garantia"        javaType="String"   column="tipo_garantia"          jdbcType="varchar"/>
        <result property="sub_tipo_garantia"    javaType="String"   column="sub_tipo_garantia"      jdbcType="varchar"/>
        <result property="monto_max"            javaType="Double"   column="monto_max"              jdbcType="decimal"/>
        <result property="vencimiento"          javaType="Date"     column="vencimiento"            jdbcType="datetime"/>
        <result property="cobertura"            javaType="Double"   column="cobertura"              jdbcType="decimal"/>
        <result property="cond_garantia"        javaType="String"   column="cond_garantia"          jdbcType="varchar"/>
        <result property="vigencia"             javaType="String"   column="vigencia"               jdbcType="varchar"/>
        <result property="glosa_tipo_linea"     javaType="String"   column="glosa_tipo_linea"       jdbcType="varchar"/>
        <result property="glosa_moneda"         javaType="String"   column="glosa_moneda"           jdbcType="varchar"/>
        <result property="glosa_tipo_garantia"  javaType="String"   column="glosa_tipo_garantia"    jdbcType="varchar"/>
        <result property="glosa_sub_tipo_gar"   javaType="String"   column="glosa_sub_tipo_gar"     jdbcType="varchar"/>
        <result property="glosa_cond_garantia"  javaType="String"   column="glosa_cond_garantia"    jdbcType="varchar"/>
        <result property="glosa_vigencia"       javaType="String"   column="glosa_vigencia"         jdbcType="varchar"/>
    </resultMap>

    <resultMap id="DetalleLineaHipotecario" class="java.util.HashMap">
        <result property="id_detalle_linea"     javaType="Long"     column="id_detalle_linea"       jdbcType="numeric"/>
        <result property="tipo_linea"           javaType="String"   column="tipo_linea"             jdbcType="varchar"/>
        <result property="moneda"               javaType="String"   column="moneda"                 jdbcType="varchar"/>
        <result property="tipo_garantia"        javaType="String"   column="tipo_garantia"          jdbcType="varchar"/>
        <result property="sub_tipo_garantia"    javaType="String"   column="sub_tipo_garantia"      jdbcType="varchar"/>
        <result property="monto_max"            javaType="Double"   column="monto_max"              jdbcType="decimal"/>
        <result property="vencimiento"          javaType="Date"     column="vencimiento"            jdbcType="datetime"/>
        <result property="cobertura"            javaType="Double"   column="cobertura"              jdbcType="decimal"/>
        <result property="cond_garantia"        javaType="String"   column="cond_garantia"          jdbcType="varchar"/>
        <result property="vigencia"             javaType="String"   column="vigencia"               jdbcType="varchar"/>
        <result property="glosa_tipo_linea"     javaType="String"   column="glosa_tipo_linea"       jdbcType="varchar"/>
        <result property="glosa_moneda"         javaType="String"   column="glosa_moneda"           jdbcType="varchar"/>
        <result property="glosa_tipo_garantia"  javaType="String"   column="glosa_tipo_garantia"    jdbcType="varchar"/>
        <result property="glosa_sub_tipo_gar"   javaType="String"   column="glosa_sub_tipo_gar"     jdbcType="varchar"/>
        <result property="glosa_cond_garantia"  javaType="String"   column="glosa_cond_garantia"    jdbcType="varchar"/>
        <result property="glosa_vigencia"       javaType="String"   column="glosa_vigencia"         jdbcType="varchar"/>
        <result property="renta_dividendo"      javaType="Double"   column="renta_dividendo"        jdbcType="numeric"/>
        <result property="valor_vivienda_uf"    javaType="Double"   column="valor_vivienda_uf"      jdbcType="numeric"/>
        <result property="plazo_maximo"         javaType="Long"     column="plazo_maximo"           jdbcType="numeric"/>
        <result property="antiguedad_vivienda"  javaType="String"   column="antiguedad_vivienda"    jdbcType="varchar"/>
        <result property="comuna"               javaType="String"   column="comuna"                 jdbcType="varchar"/>
        <result property="ciudad"               javaType="String"   column="ciudad"                 jdbcType="varchar"/>
        <result property="tipo_bien"            javaType="String"   column="tipo_bien"              jdbcType="varchar"/>
        <result property="pie"                  javaType="String"   column="pie"                    jdbcType="varchar"/>
        <result property="objetivo"             javaType="String"   column="objetivo"               jdbcType="varchar"/>
        <result property="dividendo_uf"         javaType="Double"   column="dividendo_uf"           jdbcType="numeric"/>
        <result property="credito_compl"        javaType="String"   column="credito_compl"          jdbcType="varchar"/>
        <result property="porcentaje_finan"     javaType="Double"   column="porcentaje_finan"       jdbcType="numeric"/>
        <result property="tasacion_uf"          javaType="Double"   column="tasacion_uf"            jdbcType="numeric"/>
        <result property="monto_credito_uf"     javaType="Double"   column="monto_credito_uf"       jdbcType="numeric"/>
        <result property="tipo_credito"         javaType="String"   column="tipo_credito"           jdbcType="varchar"/>
        <result property="tipo_finan"           javaType="String"   column="tipo_financiamiento"    jdbcType="varchar"/>
        <result property="glosa_ant_viv"        javaType="String"   column="glosa_ant_vivienda"     jdbcType="varchar"/>
        <result property="glosa_comuna"         javaType="String"   column="glosa_comuna"           jdbcType="varchar"/>
        <result property="glosa_ciudad"         javaType="String"   column="glosa_ciudad"           jdbcType="varchar"/>
        <result property="glosa_tipo_bien"      javaType="String"   column="glosa_tipo_bien"        jdbcType="varchar"/>
        <result property="glosa_pie"            javaType="String"   column="glosa_pie"              jdbcType="varchar"/>
        <result property="glosa_objetivo"       javaType="String"   column="glosa_objetivo"         jdbcType="varchar"/>
        <result property="glosa_credito_comp"   javaType="String"   column="glosa_credito_comp"     jdbcType="varchar"/>
        <result property="glosa_tipo_credito"   javaType="String"   column="glosa_tipo_credito"     jdbcType="varchar"/>
        <result property="glosa_tipo_finan"     javaType="String"   column="glosa_tipo_finan"       jdbcType="varchar"/>
    </resultMap>

    <resultMap id="DetalleLineaPregrado" class="java.util.HashMap">
        <result property="id_detalle_linea"     javaType="Long"     column="id_detalle_linea"       jdbcType="numeric"/>
        <result property="tipo_linea"           javaType="String"   column="tipo_linea"             jdbcType="varchar"/>
        <result property="moneda"               javaType="String"   column="moneda"                 jdbcType="varchar"/>
        <result property="tipo_garantia"        javaType="String"   column="tipo_garantia"          jdbcType="varchar"/>
        <result property="sub_tipo_garantia"    javaType="String"   column="sub_tipo_garantia"      jdbcType="varchar"/>
        <result property="monto_max"            javaType="Double"   column="monto_max"              jdbcType="decimal"/>
        <result property="vencimiento"          javaType="Date"     column="vencimiento"            jdbcType="datetime"/>
        <result property="cobertura"            javaType="Double"   column="cobertura"              jdbcType="decimal"/>
        <result property="cond_garantia"        javaType="String"   column="cond_garantia"          jdbcType="varchar"/>
        <result property="vigencia"             javaType="String"   column="vigencia"               jdbcType="varchar"/>
        <result property="glosa_tipo_linea"     javaType="String"   column="glosa_tipo_linea"       jdbcType="varchar"/>
        <result property="glosa_moneda"         javaType="String"   column="glosa_moneda"           jdbcType="varchar"/>
        <result property="glosa_tipo_garantia"  javaType="String"   column="glosa_tipo_garantia"    jdbcType="varchar"/>
        <result property="glosa_sub_tipo_gar"   javaType="String"   column="glosa_sub_tipo_gar"     jdbcType="varchar"/>
        <result property="glosa_cond_garantia"  javaType="String"   column="glosa_cond_garantia"    jdbcType="varchar"/>
        <result property="glosa_vigencia"       javaType="String"   column="glosa_vigencia"         jdbcType="varchar"/>
        <result property="tipoDeFinan"          javaType="String"   column="tipoDeFinanciamiento"   jdbcType="varchar"/>
        <result property="universidad"          javaType="String"   column="universidad"            jdbcType="varchar"/>
        <result property="carrera"              javaType="String"   column="carrera"                jdbcType="varchar"/>
        <result property="plazoEnCuotaAnyos"    javaType="Integer"  column="plazoEnCuotaAnyos"      jdbcType="int"/>
        <result property="plazoDeGraciaAnyos"   javaType="Integer"  column="plazoDeGraciaAnyos"     jdbcType="int"/>
        <result property="anyoEnCurso"          javaType="Integer"  column="anyoEnCurso"            jdbcType="int"/>
        <result property="anyoIngresoCarrera"   javaType="Integer"  column="anyoIngresoCarrera"     jdbcType="int"/>
        <result property="anyoAFinanciar"       javaType="Integer"  column="anyoAFinanciar"         jdbcType="int"/>
        <result property="duracionCarrera"      javaType="Integer"  column="duracionCarrera"        jdbcType="int"/>
        <result property="montoMatriculaUF"     javaType="Double"   column="montoMatriculaUF"       jdbcType="numeric"/>
        <result property="montoTotalFinanUF"    javaType="Double"   column="montoTotalFinanciarUF"  jdbcType="numeric"/>
        <result property="rentaFamBrutaUF"      javaType="Double"   column="rentaFamBrutaUF"        jdbcType="numeric"/>
        <result property="rentaFamBrutaPesos"   javaType="Double"   column="rentaFamBrutaPesos"     jdbcType="numeric"/>
        <result property="montoGastosAsocUF"    javaType="Double"   column="montoGastosAsociadosUF" jdbcType="numeric"/>
        <result property="patAvalEnPesos"       javaType="Double"   column="patrimonioAvalEnPesos"  jdbcType="numeric"/>
        <result property="glosa_tipoDeFinan"    javaType="String"   column="glosa_tipoDeFinan"      jdbcType="varchar"/>
        <result property="glosa_universidad"    javaType="String"   column="glosa_universidad"      jdbcType="varchar"/>
        <result property="glosa_carrera"        javaType="String"   column="glosa_carrera"          jdbcType="varchar"/>
    </resultMap>

    <resultMap id="DetalleLineaPostgrado" class="java.util.HashMap">
        <result property="id_detalle_linea"     javaType="Long"     column="id_detalle_linea"       jdbcType="numeric"/>
        <result property="tipo_linea"           javaType="String"   column="tipo_linea"             jdbcType="varchar"/>
        <result property="moneda"               javaType="String"   column="moneda"                 jdbcType="varchar"/>
        <result property="tipo_garantia"        javaType="String"   column="tipo_garantia"          jdbcType="varchar"/>
        <result property="sub_tipo_garantia"    javaType="String"   column="sub_tipo_garantia"      jdbcType="varchar"/>
        <result property="monto_max"            javaType="Double"   column="monto_max"              jdbcType="decimal"/>
        <result property="vencimiento"          javaType="Date"     column="vencimiento"            jdbcType="datetime"/>
        <result property="cobertura"            javaType="Double"   column="cobertura"              jdbcType="decimal"/>
        <result property="cond_garantia"        javaType="String"   column="cond_garantia"          jdbcType="varchar"/>
        <result property="vigencia"             javaType="String"   column="vigencia"               jdbcType="varchar"/>
        <result property="glosa_tipo_linea"     javaType="String"   column="glosa_tipo_linea"       jdbcType="varchar"/>
        <result property="glosa_moneda"         javaType="String"   column="glosa_moneda"           jdbcType="varchar"/>
        <result property="glosa_tipo_garantia"  javaType="String"   column="glosa_tipo_garantia"    jdbcType="varchar"/>
        <result property="glosa_sub_tipo_gar"   javaType="String"   column="glosa_sub_tipo_gar"     jdbcType="varchar"/>
        <result property="glosa_cond_garantia"  javaType="String"   column="glosa_cond_garantia"    jdbcType="varchar"/>
        <result property="glosa_vigencia"       javaType="String"   column="glosa_vigencia"         jdbcType="varchar"/>
        <result property="pais"                 javaType="String"   column="pais"                   jdbcType="varchar"/>
        <result property="grado"                javaType="String"   column="grado"                  jdbcType="varchar"/>
        <result property="universidad"          javaType="String"   column="universidad"            jdbcType="varchar"/>
        <result property="tipoDeFinanciamiento" javaType="String"   column="tipoDeFinanciamiento"   jdbcType="varchar"/>
        <result property="montoMatriculaUF"     javaType="Double"   column="montoMatriculaUF"       jdbcType="decimal"/>
        <result property="montoTotalAFinanUF"   javaType="Double"   column="montoTotalAFinanciarUF" jdbcType="decimal"/>
        <result property="montoGastosAsocUF"    javaType="Double"   column="montoGastosAsociadosUF" jdbcType="decimal"/>
        <result property="garantias"            javaType="Double"   column="garantias"              jdbcType="decimal"/>
        <result property="plazoCuotaEnAnyos"    javaType="Integer"  column="plazoCuotaEnAnyos"      jdbcType="int"/>
        <result property="plazoGraciaEnAnyos"   javaType="Integer"  column="plazoGraciaEnAnyos"     jdbcType="int"/>
        <result property="glosa_pais"           javaType="String"   column="glosa_pais"             jdbcType="varchar"/>
        <result property="glosa_grado"          javaType="String"   column="glosa_grado"            jdbcType="varchar"/>
        <result property="glosa_universidad"    javaType="String"   column="glosa_universidad"      jdbcType="varchar"/>
        <result property="glosa_tipoDeFinan"    javaType="String"   column="glosa_tipoDeFinan"      jdbcType="varchar"/>
    </resultMap>
    <!-- Fin Linea de Credito -->

    <!-- Carga Financiera-->
    <resultMap id="cargaFinanciera" class="java.util.HashMap">
        <result property="rut"  column="rut"/>
        <result property="dv"  column="dv"/>
        <result property="nombres"  column="nombres"/>
        <result property="apellidos"  column="apellidos"/>
        <result property="tipo_relacion"  column="tipo_relacion"/>
        <result property="nro_solicitud"  column="nro_solicitud"/>
        <result property="renta_fija"  column="renta_fija"/>
        <result property="renta_variable"  column="renta_variable"/>
        <result property="renta_lm_pesos"  column="renta_lm_pesos"/>
        <result property="renta_lm_uf"  column="renta_lm_uf"/>
        <result property="uf"  column="uf"/>
        <result property="fecha_uf"  column="fecha_uf"/>
        <result property="consumo"  column="consumo"/>
        <result property="comercial"  column="comercial"/>
        <result property="hipotecario"  column="hipotecario"/>
        <result property="tipo_calculo"  column="tipo_calculo"/>
        <result property="carga_maxima"  column="carga_maxima"/>
        <result property="carga_actual"  column="carga_actual"/>
        <result property="carga_futura"  column="carga_futura"/>
        <result property="periodo"  column="periodo"/>
        <result property="error_deuda_bci"  column="error_deuda_bci"/>
        <result property="error_informacion_de_credito"  column="error_informacion_de_credito"/>
        <result property="colorSemaforo"  javaType="String" column="sem_carga_financiera"  jdbcType="char"/>
    </resultMap>

    <resultMap id="detalleCalculoCargaFinanciera" class="java.util.HashMap">
        <result property="deuda_bci"  column="deuda_bci"/>
        <result property="deuda_no_bci"  column="deuda_no_bci"/>
        <result property="deuda_total"  column="deuda_total"/>
        <result property="carga_mensual"  column="carga_mensual"/>
        <result property="conoce_carga_real"  column="conoce_carga_real"/>
        <result property="inc_deuda"  column="inc_deuda"/>
        <result property="inc_carga"  column="inc_carga"/>
    </resultMap>
    <!-- Fin Carga Financiera-->

    <!-- Creacion de la solicitud -->
    <resultMap id="nuevaSolicitud" class="java.util.HashMap">
        <result property="nro_solicitud"            javaType="Long"     column="nro_solicitud"          jdbcType="numeric" />
        <result property="nombres"                  javaType="String"   column="nombres"                jdbcType="varchar" />
        <result property="apellidos"                javaType="String"   column="apellidos"              jdbcType="varchar" />
        <result property="rut"                      javaType="Long"     column="rut"                    jdbcType="integer" />
        <result property="dv"                       javaType="String"   column="dv"                     jdbcType="varchar" />
        <result property="oficina"                  javaType="String"   column="oficina"                jdbcType="varchar" />
        <result property="fecha_llegada"            javaType="Date"     column="fecha_llegada"          jdbcType="datetime" />
        <result property="fecha_creacion"           javaType="Date"     column="fecha_creacion"         jdbcType="datetime" />
        <result property="estado"                   javaType="String"   column="estado"                 jdbcType="varchar" />
        <result property="recibido_de"              javaType="String"   column="recibido_de"            jdbcType="varchar" />
        <result property="ejecutivo_solicitante"    javaType="String"   column="ejecutivo_solicitante"  jdbcType="varchar" />
        <result property="telefono_solicitante"     javaType="Long"     column="telefono_solicitante"   jdbcType="numeric" />
        <result property="monbre_solicitante"       javaType="String"   column="monbre_solicitante"     jdbcType="varchar" />
    </resultMap>

    <resultMap id="obtenerSolicitud" class="java.util.HashMap">
        <result property="ID_SOLICITUD"     javaType="Long"     column="ID_SOLICITUD"       jdbcType="numeric" />
        <result property="NOM_TITULAR"      javaType="String"   column="NOM_TITULAR"        jdbcType="varchar" />
        <result property="APE_TITULAR"      javaType="String"   column="APE_TITULAR"        jdbcType="varchar" />
        <result property="RUT_TITULAR"      javaType="Long"     column="RUT_TITULAR"        jdbcType="integer" />
        <result property="DV_TITULAR"       javaType="String"   column="DV_TITULAR"         jdbcType="varchar" />
        <result property="COD_OFICINA_SOL"  javaType="String"   column="COD_OFICINA_SOL"    jdbcType="varchar" />
        <result property="FEC_LLEGADA"      javaType="Date"     column="FEC_LLEGADA"        jdbcType="datetime" />
        <result property="FEC_CREACION"     javaType="Date"     column="FEC_CREACION"       jdbcType="datetime" />
        <result property="FEC_ACTUALIZACION" javaType="Date"    column="FEC_ACTUALIZACION"  jdbcType="datetime" />
        <result property="EJE_ORIGEN"       javaType="String"   column="EJE_ORIGEN"         jdbcType="varchar" />
        <result property="EJE_ACTUALIZO"    javaType="String"   column="EJE_ACTUALIZO"      jdbcType="varchar" />
        <result property="COD_EJECUTIVO_SOL" javaType="String"  column="COD_EJECUTIVO_SOL"  jdbcType="varchar" />
        <result property="DES_OFICINA_SOL"  javaType="String"   column="DES_OFICINA_SOL"    jdbcType="varchar" />
        <result property="ESTADO_SOL"       javaType="String"   column="ESTADO_SOL"         jdbcType="varchar" />
        <result property="COD_ESTADO_SOL"   javaType="int"      column="COD_ESTADO_SOL"     jdbcType="int" />
        <result property="TELEFONO_SOL"     javaType="Long"     column="TELEFONO_SOL"       jdbcType="numeric" />
        <result property="NOM_EJECUTIVO_SOL" javaType="String"  column="NOM_EJECUTIVO_SOL"  jdbcType="varchar" />
    </resultMap>
    <!-- Fin Creacion de la solicitud -->

    <!-- Solicitantes -->
    <resultMap id="grupoClienteSolicitud" class="java.util.HashMap">
        <result property="rut" javaType="Long"  column="rut" jdbcType="numeric"/>
        <result property="dv"  javaType="String" column="dv" jdbcType="char"/>
        <result property="nombres"  javaType="String" column="nombres" jdbcType="varchar"/>
    </resultMap>

    <resultMap id="grupoSolicitud" class="java.util.HashMap">
        <result property="rut" javaType="Long"  column="rut" jdbcType="numeric"/>
        <result property="dv"  javaType="String" column="dv" jdbcType="char"/>
        <result property="nombres"  javaType="String" column="nombres" jdbcType="char"/>
        <result property="evaluacion"  javaType="String" column="evaluacion" jdbcType="char"/>
    </resultMap>
    <!-- Fin Solicitantes -->

    <!-- Datos Basicos cliente -->
    <resultMap id="datosBasicosClientePersona" class="java.util.HashMap">
        <result property="rut"                      column="rut"/>
        <result property="digito"                   column="digito"/>
        <result property="cic"                      column="cic"/>
        <result property="nombres"                  column="nombres"/>
        <result property="apellidos"                column="apellidos"/>
        <result property="edad"                     column="edad"/>
        <result property="nro_hijos"                column="nro_hijos"/>
        <result property="nro_cargas"               column="nro_cargas"/>
        <result property="antiguedad_emp_trab"      column="antiguedad_emp_trab"/>
        <result property="renta_fija"               column="renta_fija"/>
        <result property="renta_variable"           column="renta_variable"/>
        <result property="periodo_renta_fija"       column="periodo_renta_fija"/>
        <result property="periodo_renta_variable"   column="periodo_renta_variable"/>
        <result property="rut_emp_trab"             column="rut_emp_trab"/>
        <result property="digito_emp_trab"          column="digito_emp_trab"/>
        <result property="nombre_emp_trab"          column="nombre_emp_trab"/>
        <result property="nombre_emp_trab_ant"      column="nombre_emp_trab_ant"/>
        <result property="anno_ing_res_act"         column="anno_ing_res_act"/>
        <result property="anno_ing_universidad"     column="anno_ing_universidad"/>
        <result property="meses_trab_emp_ant"       column="meses_trab_emp_ant"/>
        <result property="fecha_cta_cte_vig"        column="fecha_cta_cte_vig"/>
        <result property="fecha_nacimiento"         column="fecha_nacimiento"/>
        <result property="banca"                    column="banca"/>
        <result property="tipo_cliente"             column="tipo_cliente"/>
        <result property="estado_civil"             column="estado_civil"/>
        <result property="nivel_educacional"        column="nivel_educacional"/>
        <result property="situacion_viv"            column="situacion_viv"/>
        <result property="oficina"                  column="oficina"/>
        <result property="segmento"                 column="segmento"/>
        <result property="nacionalidad"             column="nacionalidad"/>
        <result property="tipo_plan"                column="tipo_plan"/>
        <result property="sexo"                     column="sexo"/>
        <result property="actividad"                column="actividad"/>
        <result property="universidad"              column="universidad"/>
        <result property="carrera"                  column="carrera"/>
        <result property="situacion_laboral"        column="situacion_laboral"/>
        <result property="desc_banca"               column="desc_banca"/>
        <result property="desc_tipo_cli"            column="desc_tipo_cli"/>
        <result property="desc_estado_civil"        column="desc_estado_civil"/>
        <result property="desc_nivel_educ"          column="desc_nivel_educ"/>
        <result property="desc_situacion_viv"       column="desc_situacion_viv"/>
        <result property="desc_oficina"             column="desc_oficina"/>
        <result property="desc_segmento"            column="desc_segmento"/>
        <result property="desc_nacionalidad"        column="desc_nacionalidad"/>
        <result property="desc_tipo_plan"           column="desc_tipo_plan"/>
        <result property="desc_sexo"                column="desc_sexo"/>
        <result property="desc_actividad"           column="desc_actividad"/>
        <result property="desc_universidad"         column="desc_universidad"/>
        <result property="desc_carrera"             column="desc_carrera"/>
        <result property="desc_sit_laboral"         column="desc_sit_laboral"/>
        <result property="rut_conyuge"              column="rut_conyuge"/>
        <result property="dv_conyuge"               column="dv_conyuge"/>
        <result property="renta_conyuge"            column="renta_conyuge"/>
        <result property="nombre_completo_conyuge"  column="nombre_completo_conyuge"/>
        <result property="regimen_conyugal"         column="regimen_conyugal"/>
        <result property="id_act_conyuge"           column="id_act_conyuge"/>
        <result property="desc_regimen_cony"        column="desc_regimen_cony"/>
        <result property="desc_act_cony"            column="desc_act_cony"/>
    </resultMap>

    <resultMap id="datosBasicosClienteEmpresa" class="java.util.HashMap">
        <result property="rut"                      column="rut"/>
        <result property="digito"                   column="digito"/>
        <result property="cic"                      column="cic"/>
        <result property="razonSocial"              column="razonSocial"/>
        <result property="ejecutivoDestino"         column="ejecutivoDestino"/>
        <result property="nombrejecutivoDestino"    column="nombrejecutivoDestino"/>
        <result property="operaOtraOficina"         column="operaOtraOficina"/>
        <result property="fecha_inicio"             column="fecha_inicio"/>
        <result property="fecha_cta_cte_vig"        column="fecha_cta_cte_vig"/>
        <result property="clasificacion"            column="clasificacion"/>
        <result property="oficinaEjecutivoDestino"  column="oficinaEjecutivoDestino"/>
        <result property="banca"                    column="banca"/>
        <result property="actividad"                column="actividad"/>
        <result property="matriz_sucursal"          column="matriz_sucursal"/>
        <result property="categoriaEmpresa"         column="categoriaEmpresa"/>
        <result property="sector_economico"         column="sector_economico"/>
        <result property="desc_oficinaEjecutivo"    column="desc_oficinaEjecutivo"/>
        <result property="desc_banca"               column="desc_banca"/>
        <result property="desc_actividad"           column="desc_actividad"/>
        <result property="desc_matriz_sucursal"     column="desc_matriz_sucursal"/>
        <result property="desc_categoriaEmpresa"    column="desc_categoriaEmpresa"/>
        <result property="desc_sector_economico"    column="desc_sector_economico"/>
    </resultMap>

    <!-- Fin Datos Basicos cliente -->

    <!-- Otros. No pertenecen a algún modulo en particular. -->
    <resultMap id="estadoSolicitud" class="java.util.HashMap">
        <result property="codigo"                       column="codigo"/>
        <result property="descripcion"                  column="descripcion"/>
    </resultMap>

    <resultMap id="opcionesSolicitud" class="java.util.HashMap">
        <result property="codigo"       column="codigo"/>
        <result property="glosa"        column="glosa"/>
    </resultMap>
    <!-- Fin Otros. No pertenecen a algún modulo en particular. -->

    <!-- Comienzo Result Asignación de Solicitudes -->
    <resultMap id="asignacionSolicitudes" class="java.util.HashMap">
        <result property="rutCliente"           javaType="Long"     column="rut"                jdbcType="int" />
        <result property="dvCliente"            javaType="String"   column="digitoVerificador"  jdbcType="varchar" />
        <result property="idSolicitud"          javaType="Long"     column="nro_solicitud"      jdbcType="int" />
        <result property="nombreCliente"        javaType="String"   column="nombre"             jdbcType="varchar" />
        <result property="banca"                javaType="String"   column="banca"             jdbcType="varchar" />
        <result property="oficina"              javaType="String"   column="oficina"             jdbcType="varchar" />
        <result property="regional"             javaType="String"   column="regional"             jdbcType="varchar" />
        <result property="fechaCreacion"        javaType="Date"     column="fecha_creacion"     jdbcType="DATE" />
    </resultMap>
    <!-- Fin Result Asignación de Solicitudes -->
    
    <!-- Garantias -->
    <resultMap id="detalleGarantia" class="java.util.HashMap">
        <result property="id_garantia"         	javaType="Long"     column="id_garantia"                jdbcType="numeric" />
        <result property="tipo_gtia"            javaType="String"   column="tipo_gtia"  				jdbcType="varchar" />
        <result property="tipo_bien"          	javaType="String"   column="tipo_bien"      			jdbcType="varchar" />
        <result property="valor_tasacion"       javaType="Double"   column="valor_tasacion"             jdbcType="numeric" />
        <result property="valor_liquidacion"    javaType="Double"   column="valor_liquidacion"          jdbcType="numeric" />
        <result property="fecha_tasacion"       javaType="Date"   	column="fecha_tasacion"             jdbcType="datetime" />
        <result property="cobertura"            javaType="String"   column="cobertura"             		jdbcType="varchar" />
        <result property="situacion_tasacion"   javaType="String"   column="situacion_tasacion"     	jdbcType="char" />
        <result property="vigencia"        		javaType="String"   column="vigencia"     				jdbcType="varchar" />
    </resultMap>
    
    <resultMap id="detalleGarantiaExterna" class="java.util.HashMap">
        <result property="id_garantia"         	javaType="Long"     column="id_garantia"                jdbcType="numeric" />
        <result property="tipo_gtia"            javaType="String"   column="tipo_gtia"  				jdbcType="varchar" />
        <result property="estado"            	javaType="String"   column="estado"  					jdbcType="varchar" />
        <result property="valor_comercial"       javaType="Double"   column="valor_comercial"             jdbcType="numeric" />
        <result property="valor_liquidacion"    javaType="Double"   column="valor_liquidacion"          jdbcType="numeric" />
        <result property="cobertura"            javaType="String"   column="cobertura"             		jdbcType="varchar" />
        <result property="vigencia"        		javaType="String"   column="vigencia"     				jdbcType="varchar" />
    </resultMap>
    <!-- FIN GARANTIAS -->

<!-- FIN RESULT MAP -->

<!-- PROCEDIMIENTOS ALMACENADOS -->

    <!-- Comienzo SP Análisis Solicitud -->
    <procedure id="obtenerListadoDetallesAnalisisActivosRelevantes" resultMap="detalleAnalisisActivosRelevantes" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_cns_lis_act_relev (#idAnalisis#)}
    </procedure>    
    <procedure id="obtenerListadoDetallesAnalisisCargaFinanciera" resultMap="detalleAnalisisCargaFinanciera" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_cns_lis_carg_fin (#idAnalisis#)}
    </procedure>
    <procedure id="obtenerDetalleAnalisisActivosRelevantes" resultMap="detalleAnalisisActivosRelevantes" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_cns_det_act_relev (#idAnalisis#, #idDetalle#)}
    </procedure>    
    <procedure id="obtenerDetalleAnalisisCargaFinanciera" resultMap="detalleAnalisisCargaFinanciera" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_cns_det_carg_fin (#idAnalisis#, #idDetalle#)}
    </procedure>
    <procedure id="agregaDetalleAnalisiCargaFinanciera" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_ins_det_carg_fin (#idAnalisis#, #tipoDeuda#, #banco#, #saldoInsoluto#, #plazoTotal#, #cuotaActual#, #valorCuota#, #destino#, #tipoGarantia#, #valorGarantia#, #usuRegistro#)}
    </procedure>    
    <procedure id="agregarDetalleAnalisisActivoRelevante" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_ins_det_act_relev(#idAnalisis#, #tipoBien#, #caracteristica#, #valor#, #comentario#, #usuRegistro#)}
    </procedure>
    <procedure id="modificaDetalleAnalisiCargaFinanciera" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_upt_det_carg_fin (#idAnalisis#, #idDetalle#, #tipoDeuda#, #banco#, #saldoInsoluto#, #plazoTotal#, #cuotaActual#, #valorCuota#, #destino#, #tipoGarantia#, #valorGarantia#, #usuRegistro#)}
    </procedure>    
    <procedure id="modificarDetalleAnalisisActivoRelevante" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_upt_det_act_relev (#idAnalisis#, #idDetalle#, #tipoBien#, #caracteristica#, #valor#, #comentario#, #usuRegistro#)}
    </procedure>
    <procedure id="eliminarDetalleAnalisisActivoRelevante" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_del_det_act_relev (#idAnalisis#, #idDetalle#, #usuRegistro#)}
    </procedure>    
    <procedure id="eliminaDetalleAnalisiCargaFinanciera" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_del_det_carg_fin (#idAnalisis#, #idDetalle#, #usuRegistro#)}
    </procedure>
    <procedure id="obtenerAnalisisSolicitud" resultMap="analisisSolicitud" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_cns_analisis (#idSolicitud#, #usuario#)}
    </procedure>
    <procedure id="obtenerCrearAnalisisSolicitudAnterior" resultMap="analisisSolicitud" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_ins_als_ant (#rutCliente#, #idSolicitudActual#, #usuario#)}
    </procedure>
    <procedure id="obtenerListadoObservacionesAnalisis" resultMap="observacionAnalisis" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_cns_obs_als (#idAnalisis#)}
    </procedure>
    <procedure id="modificarObservacionAnalisis" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_upt_obs_als (#codigoObservacion#, #idAnalisis#, #observacion#, #usuario#)}
    </procedure>
    <procedure id="modificarAnalisisSolicitud" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_upt_analisis (#idAnalisis#,#idSolicitud#, #excedenteDeficit#, #generacionGOB#, #ingresosExogenos#, #nuevaCarga#, #totalCargaFinancieraAnual#, #usuario#)}
    </procedure>
    <!-- Fin SP Análisis Solicitud -->

    <!-- Comienzo SP Parámetro -->
    <procedure id="obtenerParametrosXGrupo" resultMap="parametro" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_cns_param_grp (#grupo#, <isNull property="codigo">NULL</isNull><isNotNull property="codigo">#codigo#</isNotNull>)}
    </procedure>

    <procedure id="obtenerListadoBancos" resultMap="parametro" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_cns_bancos (<isNull property="codigoBanco">NULL</isNull><isNotNull property="codigoBanco">#codigoBanco#</isNotNull>)}
    </procedure>

    <procedure id="obtenerEstados" resultMap="parametro" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_cns_est_sol(<isNull property="numeroSolicitud">NULL</isNull><isNotNull property="numeroSolicitud">#numeroSolicitud#</isNotNull>)}
    </procedure>

    <procedure id="obtenerListadoBancas" resultMap="parametro" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_cns_bancas(<isNull property="codigodeBanca">NULL</isNull><isNotNull property="codigodeBanca">#codigodeBanca#</isNotNull>)}
    </procedure>

    <procedure id="obtenerTiposDeResolucion" resultMap="parametro" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_cns_tpo_res(<isNull property="tipoDeResolucion">NULL</isNull><isNotNull property="tipoDeResolucion">#tipoDeResolucion#</isNotNull>)}
    </procedure>

    <procedure id="obtenerPoliticas" resultMap="parametro" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_cns_politicas(<isNull property="codigo_tip_res">NULL</isNull><isNotNull property="codigo_tip_res">#codigo_tip_res#</isNotNull>)}
    </procedure>

    <procedure id="obtenerUniversidades" resultMap="parametro" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_cns_univ(<isNotNull property="id_universidad">#id_universidad#</isNotNull><isNull property="id_universidad">NULL</isNull>)}
    </procedure>

    <procedure id="obtenerOficinas" resultMap="parametro" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_cns_oficinas(<isNotNull property="codigoDeOficina">#codigoDeOficina#</isNotNull><isNull property="codigoDeOficina">NULL</isNull>)}
    </procedure>

    <procedure id="obtenerNacionalidades" resultMap="parametro" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_cns_nac_cli(<isNotNull property="codigoDeNacionalidad">#codigoDeNacionalidad#</isNotNull><isNull property="codigoDeNacionalidad">NULL</isNull>)}
    </procedure>

    <procedure id="obtenerActividadesCliente" resultMap="parametro" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_cns_act_cli(<isNotNull property="codigoDeActividad">#codigoDeActividad#</isNotNull><isNull property="codigoDeActividad">NULL</isNull>)}
    </procedure>
    <!-- Fin SP Parámetro -->

    <!-- Comienzo SP Estado Situación -->
    <procedure id="obtenerResumenEstadoSituacion" resultMap="estadoSituacion" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_cns_est_sit (#idSolicitud#, #rutCliente#)}
    </procedure>
    <procedure id="crearEstadoSituacionPorAnterior" resultMap="fechaAteriorEstadoSituacion" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_ins_est_sit_ant (#idSolicitud#, #rutCliente#, #usuario#)}
    </procedure>
    <procedure id="obtenerListadoItemDetalleEstadoSituacion" resultMap="detalleItemEstadoSituacion" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_cns_list_destsit (#idSolicitud#, #rutCliente#, #item#)}
    </procedure>
    <procedure id="obtenerDetalleEstadoSituacion" resultMap="detalleItemEstadoSituacion" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_cns_item_est_sit (#idDetalle#, #idSolicitud#, #rutCliente#, #item#)}
    </procedure>
    <procedure id="agregarItemDetalleEstadoSituacion" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_ins_item_est_sit (
            #idSolicitud#, #rutCliente#, #item#, #subtipo#, 
            <isNotNull property="institucion">#institucion#</isNotNull>
            <isNull property="institucion">NULL</isNull>,
            #monto#, #rutSociedad#, 
            <isNotNull property="dvSociedad">#dvSociedad#</isNotNull>
            <isNull property="dvSociedad">NULL</isNull>,
            <isNotNull property="nombre">#nombre#</isNotNull>
            <isNull property="nombre">NULL</isNull>,
            #porcentaje#, #anyo#, 
            <isNotNull property="marca">#marca#</isNotNull>
            <isNull property="marca">NULL</isNull>,
            <isNotNull property="placa">#placa#</isNotNull>
            <isNull property="placa">NULL</isNull>,
            #cuotaPendiente#, #totalCuota#, #plazo#, 
            <isNotNull property="descripcion">#descripcion#</isNotNull>
            <isNull property="descripcion">NULL</isNull>,
            #usuarioRegistro#)}
    </procedure>
    <procedure id="modificarItemDetalleEstadoSituacion" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_upt_item_est_sit (
            #idDetalle#, #idSolicitud#, #rutCliente#, #item#, #subtipo#, 
            <isNotNull property="institucion">#institucion#</isNotNull>
            <isNull property="institucion">NULL</isNull>,
            #monto#, #rutSociedad#, 
            <isNotNull property="dvSociedad">#dvSociedad#</isNotNull>
            <isNull property="dvSociedad">NULL</isNull>,
            <isNotNull property="nombre">#nombre#</isNotNull>
            <isNull property="nombre">NULL</isNull>,
            #porcentaje#, #anyo#, 
            <isNotNull property="marca">#marca#</isNotNull>
            <isNull property="marca">NULL</isNull>,
            <isNotNull property="placa">#placa#</isNotNull>
            <isNull property="placa">NULL</isNull>,
            #cuotaPendiente#, #totalCuota#, #plazo#, 
            <isNotNull property="descripcion">#descripcion#</isNotNull>
            <isNull property="descripcion">NULL</isNull>,
            #usuarioRegistro#)}
    </procedure>
    <procedure id="eliminarItemDetalleEstadoSituacion" resultMap="detalleItemEstadoSituacion" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_del_item_est_sit (#idSolicitud#, #rutCliente#, #item#, #idDetalle#, #usuarioRegistro#)}
    </procedure>
    <!-- Fin SP Estado Situación -->

    <!-- Estado Financiero Y Ventas -->
    <procedure id="obtenerEstadoFinanciero" parameterClass="java.util.HashMap" resultMap="estadoFinancieroSolicitante">
        {CALL sp_solicitud_cns_est_finan(
            #rut#,
            #numeroSolicitud#,
            #anioConsulta#
        )}
    </procedure>

    <procedure id="guardarEstadoFinanciero" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_ins_est_finan (
            #rut#,
            #nro_solicitud#,
            #periodo#,
            #ingresos#,
            #result_final#,
            #result_final_ingresos#,
            #liquidez_corriente#,
            #permanencia_credito#,
            #permanencia_inventario#,
            #total_act#,
            #total_act_fijos#,
            #total_pas_exigible#,
            #total_pas_no_exigible#,
            #leverage#,
            #usuario_creador#
        )}
    </procedure>

    <procedure id="obtenerVentasDelPeriodo" parameterClass="java.util.HashMap" resultMap="ventasDelPeriodo">
        {CALL sp_solicitud_cns_ventas(
            #rut#,
            #numeroSolicitud#,
            #anioConsulta#
        )}
    </procedure>

    <procedure id="guardarVentasDelPeriodo" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_ins_ventas (
            #rut#,
            #nro_solicitud#,
            #periodo#,
            #ventas_enero#,
            #ventas_febrero#,
            #ventas_marzo#,
            #ventas_abril#,
            #ventas_mayo#,
            #ventas_junio#,
            #ventas_julio#,
            #ventas_agosto#,
            #ventas_septiembre#,
            #ventas_octubre#,
            #ventas_noviembre#,
            #ventas_diciembre#,
            #total_ventas#,
            #usuario_creador#
        )}
    </procedure>
    <!-- Fin Estado Financiero Y Ventas -->

    <!-- Resolucion Solicitud -->
    <procedure id="obtenerCuadroMando" parameterClass="java.util.HashMap" resultMap="cuadroDeMando">
        {CALL sp_solicitud_cns_cuadro_mando(
            #numeroSolicitud#
        )}
    </procedure>

    <procedure id="guardarAjusteGarantias" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_ins_ajuste_gar(
            #nro_solicitud#,
            #rut#,
            #usuario_creador#,
            #monto_garantias#
        )}
    </procedure>

    <procedure id="obtenerEstadoEvaluacionSolicitud" parameterClass="java.util.HashMap" resultMap="evaluacionSolicitud">
        {CALL sp_solicitud_cns_est_evl_sol(
            #numeroSolicitud#
        )}
    </procedure>

    <procedure id="obtenerPoliticasSolicitud" parameterClass="java.util.HashMap" resultMap="politicasSolicitud">
        {CALL sp_solicitud_cns_politicas_sol(
            #numeroSolicitud#
        )}
    </procedure>

    <procedure id="guardarEstadoEvaluacion" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_ins_est_eval_sol(
            #nro_solicitud#,
            #usuario#,
            #presentacion#,
            #perspectiva#,
            #traspaso_banca#,
            #resolutor#,
            #tipo_resolucion#,
            #renegociado#,
            #ingresoLob#,
            #grupoEconomico#,
            <isNull property="politicas">NULL</isNull><isNotNull property="politicas">#politicas#</isNotNull>
        )}
    </procedure>

    <procedure id="obtenerColorSemaforoICR" parameterClass="java.util.HashMap" resultMap="sem_icr">
        {CALL sp_solicitud_cns_sem_icr(
            #rut#,
            #cantidad_dias#
        )}
    </procedure>

    <procedure id="guardarColorSemaforoICR" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_ins_sem_icr(
            #rut#,
            #nro_solicitud#,
            #color_icr#,
            #usuario#
        )}
    </procedure>

    <procedure id="obtenerObservaciones" parameterClass="java.util.HashMap" resultMap="observacionesSolicitud">
        {CALL sp_solicitud_cns_obs_sol(
            #nro_solicitud#
        )}
    </procedure>

    <procedure id="cambiarEstadoSolicitud" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_act_est_sol(
            #nro_solicitud#,
            #id_estado#,
            <isNotNull property="observacion">#observacion#</isNotNull>
            <isNull property="observacion">NULL</isNull>,
            #recibido_de#,
            <isNull property="enviado_a">NULL</isNull><isNotNull property="enviado_a">#enviado_a#</isNotNull>
        )}
    </procedure>

    <!-- Fin Resolucion Solicitud -->

    <!-- Linea de Credito -->
    <procedure id="obtenerLGCVigente" resultMap="LGCVigente" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_cns_lgc_vig(#nro_solicitud#,#rut_cliente#)}
    </procedure>

    <procedure id="obtenerLGCSolicitada" resultMap="LGCSolicitada" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_cns_lgc_sol(#nro_solicitud#,#rut_cliente#,#ejecutivo#)}
    </procedure>

    <procedure id="obtenerDetalleLineaVigente" resultMap="DetalleLineaVigente" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_cns_dlc_vig(#id_lgc#)}
    </procedure>

    <procedure id="obtenerDetalleLineaSolicitada" resultMap="DetalleLineaSolicitada" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_cns_dlc_sol(
            #id_lgc#,
            <isNull property="id_detalle_linea">NULL</isNull><isNotNull property="id_detalle_linea">#id_detalle_linea#</isNotNull>
        )}
    </procedure>

    <procedure id="obtenerDetalleLineaCreditoHipotecario" resultMap="DetalleLineaHipotecario" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_cns_dlc_sol_hip(
            #id_lgc#,
            <isNull property="id_detalle_linea">NULL</isNull><isNotNull property="id_detalle_linea">#id_detalle_linea#</isNotNull>
        )}
    </procedure>

    <procedure id="obtenerDetalleLineaCreditoPregrado" resultMap="DetalleLineaPregrado" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_cns_dlc_sol_pre(
            #id_lgc#,
            <isNull property="id_detalle_linea">NULL</isNull><isNotNull property="id_detalle_linea">#id_detalle_linea#</isNotNull>
        )}
    </procedure>

    <procedure id="obtenerDetalleLineaCreditoPostgrado" resultMap="DetalleLineaPostgrado" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_cns_dlc_sol_post(
            #id_lgc#,
            <isNull property="id_detalle_linea">NULL</isNull><isNotNull property="id_detalle_linea">#id_detalle_linea#</isNotNull>
        )}
    </procedure>

    <procedure id="agregarDetalleLineaHipotecario" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_ins_dlc_hip(
            #id_cab_lcg_sol#, 
            #tipo_linea#,
            #moneda#,
            #tipo_garantia#,
            #sub_tipo_garantia#,
            #monto_max#,
            #vencimiento#,
            #cobertura#,
            #cond_garantia#,
            #vigencia#,
            #renta_dividendo#,
            #valor_vivienda_uf#,
            #plazo_maximo#,
            #antiguedad_vivienda#,
            #comuna#,
            #ciudad#,
            #tipo_bien#,
            #pie#,
            #objetivo#,
            #dividendo_uf#,
            <isNotNull property="credito_complementario">#credito_complementario#</isNotNull>
            <isNull property="credito_complementario">NULL</isNull>,
            #porcentaje_financiamiento#,
            #tasacion_uf#,
            #monto_credito_uf#,
            #tipo_credito#,
            #tipo_financiamiento#,
            #ejecutivo#
        )}
    </procedure>

    <procedure id="agregarDetalleLinea" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_ins_dlc_sol (
            #id_cab_lcg_sol#, 
            #tipo_linea#,
            #moneda#,
            #tipo_garantia#,
            #sub_tipo_garantia#,
            #monto_max#,
            #vencimiento#,
            #cobertura#,
            #cond_garantia#,
            #vigencia#,
            #ejecutivo#
        )}
    </procedure>

    <procedure id="agregarDetalleLineaPregrado" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_ins_dlc_pre (
            #id_cab_lcg_sol#, 
            #tipo_linea#,
            #moneda#,
            #tipo_garantia#,
            #sub_tipo_garantia#,
            #monto_max#,
            #vencimiento#,
            #cobertura#,
            #cond_garantia#,
            #vigencia#,
            #tipoDeFinanciamiento#,
            #universidad#,
            #carrera#,
            #plazoEnCuotaAnyos#,
            #plazoDeGraciaAnyos#,
            #anyoEnCurso#,
            #anyoIngresoCarrera#,
            #anyoAFinanciar#,
            #duracionCarrera#,
            #montoMatriculaUF#,
            #montoTotalFinanciarUF#,
            #rentaFamiliarBrutaUF#,
            #rentaFamiliarBrutaPesos#,
            #montoGastosAsociadosUF#,
            #patrimonioAvalEnPesos#,
            #ejecutivo#
        )}
    </procedure>

    <procedure id="agregarDetalleLineaPostgrado" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_ins_dlc_post (
            #id_cab_lcg_sol#, 
            #tipo_linea#,
            #moneda#,
            #tipo_garantia#,
            #sub_tipo_garantia#,
            #monto_max#,
            #vencimiento#,
            #cobertura#,
            #cond_garantia#,
            #vigencia#,
            #pais#,
            #grado#,
            #universidad#,
            #tipoDeFinanciamiento#,
            #montoMatriculaUF#,
            #montoTotalAFinanciarUF#,
            #montoGastosAsociadosUF#,
            #garantias#,
            #plazoCuotaEnAnyos#,
            #plazoGraciaEnAnyos#,
            #ejecutivo#
        )}
    </procedure>

    <procedure id="eliminarDetalleLineaCreditoSolicitada" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_del_dlc_sol (
            #idDetalleLineaCredito#
        )}
    </procedure>

    <procedure id="eliminarDetalleLineaCreditoVigente" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_del_dlc_vig (
            #idDetalleLineaVigente#
        )}
    </procedure>

    <procedure id="modificarDetalleLinea" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_upt_dlc_sol (
            #id_cab_lcg_sol#,
            #id_det_linea_cred#,
            #tipo_linea#,
            #moneda#,
            #tipo_garantia#,
            #sub_tipo_garantia#,
            #monto_max#,
            #vencimiento#,
            #cobertura#,
            #cond_garantia#,
            #vigencia#,
            #ejecutivo#
        )}
    </procedure>

    <procedure id="modificarDetalleLineaHipotecario" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_upt_dlc_hip (
            #id_cab_lcg_sol#,
            #id_det_linea_cred#,
            #tipo_linea#,
            #moneda#,
            #tipo_garantia#,
            #sub_tipo_garantia#,
            #monto_max#,
            #vencimiento#,
            #cobertura#,
            #cond_garantia#,
            #vigencia#,
            #renta_dividendo#,
            #valor_vivienda_uf#,
            #plazo_maximo#,
            #antiguedad_vivienda#,
            #comuna#,
            #ciudad#,
            #tipo_bien#,
            #pie#,
            #objetivo#,
            #dividendo_uf#,
            <isNotNull property="credito_complementario">#credito_complementario#</isNotNull>
            <isNull property="credito_complementario">NULL</isNull>,
            #porcentaje_financiamiento#,
            #tasacion_uf#,
            #monto_credito_uf#,
            #tipo_credito#,
            #tipo_financiamiento#,
            #ejecutivo#
        )}
    </procedure>

    <procedure id="modificarDetalleLineaPregrado" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_upt_dlc_pre (
            #id_cab_lcg_sol#,
            #id_det_linea_cred#, 
            #tipo_linea#,
            #moneda#,
            #tipo_garantia#,
            #sub_tipo_garantia#,
            #monto_max#,
            #vencimiento#,
            #cobertura#,
            #cond_garantia#,
            #vigencia#,
            #tipoDeFinanciamiento#,
            #universidad#,
            #carrera#,
            #plazoEnCuotaAnyos#,
            #plazoDeGraciaAnyos#,
            #anyoEnCurso#,
            #anyoIngresoCarrera#,
            #anyoAFinanciar#,
            #duracionCarrera#,
            #montoMatriculaUF#,
            #montoTotalFinanciarUF#,
            #rentaFamiliarBrutaUF#,
            #rentaFamiliarBrutaPesos#,
            #montoGastosAsociadosUF#,
            #patrimonioAvalEnPesos#,
            #ejecutivo#
        )}
    </procedure>

    <procedure id="modificarDetalleLineaPostgrado" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_upt_dlc_post (
            #id_cab_lcg_sol#, 
            #id_det_linea_cred#,
            #tipo_linea#,
            #moneda#,
            #tipo_garantia#,
            #sub_tipo_garantia#,
            #monto_max#,
            #vencimiento#,
            #cobertura#,
            #cond_garantia#,
            #vigencia#,
            #pais#,
            #grado#,
            #universidad#,
            #tipoDeFinanciamiento#,
            #montoMatriculaUF#,
            #montoTotalAFinanciarUF#,
            #montoGastosAsociadosUF#,
            #garantias#,
            #plazoCuotaEnAnyos#,
            #plazoGraciaEnAnyos#,
            #ejecutivo#
        )}
    </procedure>

    <procedure id="ingresarLineaCreditoVigente" parameterClass="java.util.HashMap" resultMap="idlineaVigente">
        {CALL sp_solicitud_ins_lcg_vig (
            #usuario#,
            #idSolicitud#,
            #rutCliente#,
            #moneda#,
            #deficit#,
            #indicadorMD#,
            #montoMaximo#,
            #montoManximoUf#,
            #relacionDeudaGar#,
            #totalgarantias#,
            #vencimiento#
        )}
    </procedure>

    <procedure id="agregarDetalleLineaVigente" parameterClass="java.util.HashMap" resultMap="idlineaVigente">
        {CALL sp_solicitud_ins_dlc_vig (
            #id_cab_lcg_sol#,
            #tipo_linea#,
            #moneda#,
            <isNull property="tipo_garantia">NULL</isNull><isNotNull property="tipo_garantia">#tipo_garantia#</isNotNull>,
            <isNull property="sub_tipo_garantia">NULL</isNull><isNotNull property="sub_tipo_garantia">#sub_tipo_garantia#</isNotNull>,
            #monto_max#,
            #monto_cont#,
            #vencimiento#,
            #cobertura#,
            <isNull property="cond_garantia">NULL</isNull><isNotNull property="cond_garantia">#cond_garantia#</isNotNull>,
            #ejecutivo#
        )}
    </procedure>
    <!-- Fin Linea de Credito -->

    <!-- Comienzo SP Ciclo Solicitudes -->
    <procedure id="obtenerSolicitudesCiclo" resultMap="cicloSolicitudes" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_cns_sol_cicl (
            #usuarioConsulta#, 
            <isNotNull property="idSolicitud">#idSolicitud#</isNotNull>
            <isNull property="idSolicitud">NULL</isNull>,
            <isNotNull property="estado">#estado#</isNotNull>
            <isNull property="estado">NULL</isNull>,
            <isNotNull property="fechaIngreso">#fechaIngreso#</isNotNull>
            <isNull property="fechaIngreso">NULL</isNull>,
            <isNotNull property="rutCliente">#rutCliente#</isNotNull>
            <isNull property="rutCliente">NULL</isNull>,
            <isNotNull property="ultimosDias">#ultimosDias#</isNotNull>
            <isNull property="ultimosDias">NULL</isNull>,
            #tipoBandeja#)}
    </procedure>
    <procedure id="moverSolicitudBandeja" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_upd_bdj_sol (#idSolicitud#, #idBandeja#, #usuarioOrigen#, #usuarioDestino#,
        <isNotNull property="estado">#estado#</isNotNull>
            <isNull property="estado">NULL</isNull>)
        }
    </procedure>
    <!-- Fin SP Ciclo Solicitudes -->

    <!-- Grupo Economico -->
    <procedure id="consultarGrupoEconomico" resultMap="grupoEconomico" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_cns_grupo_econ(
            #nro_solicitud#,
            #rut#
        )}
    </procedure>

    <procedure id="eliminarGrupoEconomico" parameterClass="java.util.HashMap">
    {CALL sp_solicitud_elim_grupo_econ(
            #nro_solicitud#,
            #rut_cliente#,
            #rut_relacionado#
        )}
    </procedure>

    <procedure id="agregarIntegranteGrupo" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_ins_grp_econ(
            #rut_solicitante#,
            #id_solicitud#,
            #rut_relacionado#,
            #dv#,
            #tipo_relacion#,
            #nombre_relacionado#,
            #tipo_persona#,
            #ingresos#,
            #fuente_ingreso#,
            #participacion#,
            #id_ejecutivo#
        )}
    </procedure>

    <procedure id="obtenerIntegranteGrupo" resultMap="grupoEconomico" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_cns_int_gecon(
            #nro_solicitud#,
            #rut_cliente#,
            #rut_relacioando#
        )}
    </procedure>

    <procedure id="modificarIntegranteGrupoEconomico" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_upd_grupo_econ(
                   #nro_solicitud#,
                   #rut_titular#,
                   #rut_asociado#,
                   #dv_asociado#,
                   #tipo_relacion#,
                   #nombres#,
                   #tipo_persona#,
                   #ingresos#,
                   #fuente_ingreso#,
                   #participacion#,
                   #ejecutivo#
        )}
    </procedure>
    <!-- Fin Grupo Economico -->

    <!-- Documentos Solicitud -->
    <procedure id="obtenerDocumentoSolicitud" resultMap="documento" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_cns_docs(#idSolicitud#)}
    </procedure>
    <procedure id="agregarDocumento" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_ins_doc(#idSolicitud#, #nombreArchivo#, #descripcion#, #ruta#, #usuario#)}
    </procedure>
    <procedure id="eliminarDocumento" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_del_doc(#idDocumento#, #idSolicitud# )}
    </procedure>
    <!-- FIN Documentos Solicitud -->

    <!-- Carga Financiera-->
    <procedure id="resumenCargaFinanciera" resultMap="cargaFinanciera" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_cns_car_finan( #rutCliente#, #numeroSolicitud# )}
    </procedure>

    <procedure id="obtenerDetalleCargaFinanciera" resultMap="detalleCalculoCargaFinanciera" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_cns_det_car_finan( #rutCliente#, #numeroSolicitud#, #codigoSeccion# )}
    </procedure>

     <procedure id="guardarCargaFinanciera" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_ins_car_finan( #rutCliente#, #numeroSolicitud#, #rentaFija#, #rentaVariable#, #rentaLiquidaPesos#, 
        #rentaLiquidaUF#, #UF#, #fechaUF#, #consumo#, #comercial#, #hipotecario#, #tipoCalculo#, #cargaMaxima#, 
        #cargaActual#, #cargaFutura#, #periodo#, #errorDeudaBCI#, #errorInformacionDeCredito# )}
    </procedure>

    <procedure id="guardarDetalleCargaFinanciera" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_ins_det_car_finan( #rutCliente#, #numeroSolicitud#, #codigoSeccion#, #deudaBCI#, #deudaNoBci#,
        #deudaTotal#, #cargaMensual#, #conoceCargaReal#, #incrementaDeuda#, #incrementaCarga#  )}
    </procedure>
    <!-- Fin Carga Financiera-->


    <!-- Creacion de la solicitud -->
    <procedure id="ingresarNuevaSolicitud" resultMap="nuevaSolicitud" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_ins_sol(
            #ejecutivo#,
            #rut_cliente#,
            #dv_rut#,
            #oficina#,
            #banca#,
            #nombre_cliente#,
            #apellido_cliente#,
            #cic_cliente#,
            <isNull property="telefonoSolicitante">NULL</isNull><isNotNull property="telefonoSolicitante">#telefonoSolicitante#</isNotNull>,
            <isNull property="monbre_solicitante">NULL</isNull><isNotNull property="monbre_solicitante">#monbre_solicitante#</isNotNull>,
            <isNull property="canal_solicitud">NULL</isNull><isNotNull property="canal_solicitud">#canal_solicitud#</isNotNull>
        )}
    </procedure>

    <procedure id="obtenerSolicitud" resultMap="obtenerSolicitud" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_cns_sol(#id_solicitud#)}
    </procedure>
    <!-- Fin Creacion de la solicitud -->

    <!-- Solicitantes -->
    <procedure id="ingresarRelacionados" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_ins_relaciones(
            #id_solicitud#,
            #nombre_relacionado#,
            #rut_relacionado#,
            #dv#,
            #id_ejecutivo#,
            #tipo_relacion#,
            #participacion#,
            #tipo_participacion#,
            #rut_solicitante#)}
    </procedure>

    <procedure id="obtenerGrupoClienteSolicitud" resultMap="grupoClienteSolicitud" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_cns_gru_cli_sol(
            #nro_solicitud#
        )}
    </procedure>
    
    <procedure id="obtenerGrupoEvaluacionSolicitud" resultMap="grupoSolicitud" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_cns_eval_sol(
            #nro_solicitud#,
            #rut_titular#
        )}
    </procedure>
    
    <procedure id="modificarClienteSolicitud" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_ins_cli_sol(
            #nro_solicitud#,
            #rut_cliente#,
            #dv_cliente#,
            #nombre_cliente#,
            #evaluacion#,
            #ejecutivo#
        )}
    </procedure>
    <!-- Fin Solicitantes -->

    <!-- Datos Basicos cliente -->
    <procedure id="obtenerCientePersona" parameterClass="java.util.HashMap" resultMap="datosBasicosClientePersona">
        {CALL sp_solicitud_cns_cli_per(
            #nro_solicitud#,
            #rut_cliente#
        )}
    </procedure>

    <procedure id="consultarDatosClienteEmpresa" parameterClass="java.util.HashMap" resultMap="datosBasicosClienteEmpresa">
        {CALL sp_solicitud_cns_cli_emp(
            #nro_solicitud#,
            #rut_cliente#
        )}
    </procedure>

    <procedure id="guardarDatosClientePersona" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_ins_cli_per(
            #codigoEjecutivo#,
            #nro_solicitud#,
            #rut#,
            #cic#,
            #digito#,
            #nombres#,
            #apellidos#,
            #edad#,
            #nro_hijos#,
            #nro_cargas#,
            #antiguedad_emp_trab#,
            #renta_fija#,
            #renta_variable#,
            <isNull property="periodo_renta_fija">NULL</isNull><isNotNull property="periodo_renta_fija">#periodo_renta_fija#</isNotNull>,
            <isNull property="periodo_renta_variable">NULL</isNull><isNotNull property="periodo_renta_variable">#periodo_renta_variable#</isNotNull>,
            <isNull property="rut_emp_trab">NULL</isNull><isNotNull property="rut_emp_trab">#rut_emp_trab#</isNotNull>,
            <isNull property="digito_emp_trab">NULL</isNull><isNotNull property="digito_emp_trab">#digito_emp_trab#</isNotNull>,
            <isNull property="nombre_emp_trab">NULL</isNull><isNotNull property="nombre_emp_trab">#nombre_emp_trab#</isNotNull>,
            #nombre_emp_trab_ant#,
            #anno_ing_res_act#,
            #anno_ing_universidad#,
            #meses_trab_emp_ant#,
            #fecha_cta_cte_vig#,
            #fecha_nacimiento#,
            #banca#,
            #tipo_cliente#,
            #estado_civil#,
            #nivel_educacional#,
            #situacion_viv#,
            #oficina#,
            <isNull property="segmento">NULL</isNull><isNotNull property="segmento">#segmento#</isNotNull>,
            #nacionalidad#,
            <isNull property="tipo_plan">NULL</isNull><isNotNull property="tipo_plan">#tipo_plan#</isNotNull>,
            #sexo#,
            #actividad#,
            <isNull property="universidad">NULL</isNull><isNotNull property="universidad">#universidad#</isNotNull>,
            #carrera#,
            #situacion_laboral#,
            <isNull property="rut_conyuge">NULL</isNull><isNotNull property="rut_conyuge">#rut_conyuge#</isNotNull>,
            <isNull property="dv_conyuge">NULL</isNull><isNotNull property="dv_conyuge">#dv_conyuge#</isNotNull>,
            <isNull property="renta_conyuge">NULL</isNull><isNotNull property="renta_conyuge">#renta_conyuge#</isNotNull>,
            <isNull property="nombre_completo_conyuge">NULL</isNull><isNotNull property="nombre_completo_conyuge">#nombre_completo_conyuge#</isNotNull>,
            <isNull property="regimen_conyugal">NULL</isNull><isNotNull property="regimen_conyugal">#regimen_conyugal#</isNotNull>,
            <isNull property="id_act_conyuge">NULL</isNull><isNotNull property="id_act_conyuge">#id_act_conyuge#</isNotNull>
        )}
    </procedure>

    <procedure id="guardarDatosBasicosClienteEmpresa"  parameterClass="java.util.HashMap">
        {CALL sp_solicitud_ins_cli_emp(
            #codigoEjecutivo#,
            #nro_solicitud#,
            <isNull property="ejecutivoDestino">NULL</isNull><isNotNull property="ejecutivoDestino">#ejecutivoDestino#</isNotNull>,
            <isNull property="nombrejecutivoDestino">NULL</isNull><isNotNull property="nombrejecutivoDestino">#nombrejecutivoDestino#</isNotNull>,
            <isNull property="oficinaEjecutivoDestino">NULL</isNull><isNotNull property="oficinaEjecutivoDestino">#oficinaEjecutivoDestino#</isNotNull>,
            #rut#,
            #digito#,
            #cic#,
            #banca#,
            #operaOtraOficina#,
            <isNull property="razonSocial">NULL</isNull><isNotNull property="razonSocial">#razonSocial#</isNotNull>,
            <isNull property="actividad">NULL</isNull><isNotNull property="actividad">#actividad#</isNotNull>,
            <isNull property="matriz_sucursal">NULL</isNull><isNotNull property="matriz_sucursal">#matriz_sucursal#</isNotNull>,
            <isNull property="categoriaEmpresa">NULL</isNull><isNotNull property="categoriaEmpresa">#categoriaEmpresa#</isNotNull>,
            <isNull property="clasificacion">NULL</isNull><isNotNull property="clasificacion">#clasificacion#</isNotNull>,
            <isNull property="fecha_inicio">NULL</isNull><isNotNull property="fecha_inicio">#fecha_inicio#</isNotNull>,
            <isNull property="fecha_apertura_cta_cte">NULL</isNull><isNotNull property="fecha_apertura_cta_cte">#fecha_apertura_cta_cte#</isNotNull>,
            <isNull property="sector_economico">NULL</isNull><isNotNull property="sector_economico">#sector_economico#</isNotNull>
        )}
    </procedure>

    <!-- Fin Datos Basicos cliente -->

    <!-- Asignacion de Solicitudes -->
    <procedure id="obtenerBancasXSolicitudes" resultMap="parametro" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_cns_bca_asig }
    </procedure>
    <procedure id="obtenerRegionalesXBancaSolicitud" resultMap="parametro" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_cns_reg_asig (#banca#)}
    </procedure>
    <procedure id="obtenerOficinasXRegionalSolicitud" resultMap="parametro" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_cns_ofi_asig (#regional#)}
    </procedure>
    <procedure id="obtenerSolicitudesAsignacion" resultMap="asignacionSolicitudes" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_cns_sol_asig (
            <isNotNull property="banca">#banca#</isNotNull>
            <isNull property="banca">NULL</isNull>,
            <isNotNull property="regional">#regional#</isNotNull>
            <isNull property="regional">NULL</isNull>,
            <isNotNull property="oficina">#"oficina"#</isNotNull>
            <isNull property="oficina">NULL</isNull>)}
    </procedure>
    <!-- FIN Asignacion de Solicitudes -->
    
    <!-- Garantias -->
    <procedure id="obtenerGarantias" resultMap="detalleGarantia" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_cns_gtias (#rut#,#nro_solicitud#)}
    </procedure>
    
    <procedure id="obtenerGarantiasExterna" resultMap="detalleGarantiaExterna" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_cns_gti_reg (#rut#,#nro_solicitud#)}
    </procedure>
    
    
    <procedure id="agregarGarantia" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_ins_gtias (#rut#,
        							  #nro_solicitud#,
        							  #tipo_gtia#,
        							  #tipo_bien#,
        							  #valor_tasacion#,
        							  #valor_liquidacion#,
        							  #fecha_tasacion#,
        							  #cobertura#,
        							  #situacion_tasacion#,
        							  #vigencia#,
        							  #ejecutivo#
        							  )}
    </procedure>
    
     <procedure id="agregarGarantiaExterna" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_ins_gti_reg (#id_garantia#,
        							  #rut#,
        							  #nro_solicitud#,
        							  #tipo_gtia#,
        							  #estado#,
        							  #valor_comercial#,
        							  #valor_liquidacion#,
        							  #cobertura#,
        							  #vigencia#,
        							  #ejecutivo#
        							  )}
    </procedure>
    
    <procedure id="modificarGarantia" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_upt_gtias (#id_garantia#,
        							  #tipo_gtia#,
        							  #tipo_bien#,
        							  #valor_tasacion#,
        							  #valor_liquidacion#,
        							  #fecha_tasacion#,
        							  #cobertura#,
        							  #situacion_tasacion#,
        							  #vigencia#,
        							  #ejecutivo#
        							  )}
    </procedure>
    
    <procedure id="modificarGarantiaExterna" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_upt_gti_reg (#id_garantia#,
        							  #vigencia#,
        							  #ejecutivo#
        							  )}
    </procedure>
    
    <procedure id="eliminarGarantia" resultMap="detalleGarantia" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_del_gtias (#id_garantia#)}
    </procedure>
    
    
    <!-- FIN GARANTIAS -->
    
     <procedure id="modificarLineaDeCreditoSolicitada" parameterClass="java.util.HashMap">
        {CALL sp_solicitud_upt_lgc_sol (
                                        #usuario_modifica#, 
                                        #id_cab_lcg_sol#, 
                                        #moneda#, 
                                        #monto_max_pesos#, 
                                        #monto_max_uf#, 
                                        #vencimiento#, 
                                        #total_garantia#, 
                                        #rel_deuda_gtia#, 
                                        #deficit#
                                      )}
     </procedure>

<!-- FIN PROCEDIMIENTOS ALMACENADOS -->
</sqlMap>

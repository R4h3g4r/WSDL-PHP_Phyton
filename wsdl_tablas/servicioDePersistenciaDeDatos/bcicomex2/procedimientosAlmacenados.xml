<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE sqlMap      
    PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"      
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">
    
<sqlMap namespace="bcicomex1.procedimientosAlmacenados">
	<!-- CVD::Obtener Tasa de Cambio -->
	<parameterMap id="setConsultaTasaMonto" class="java.util.HashMap">
		<parameter property="fld_cvd_rut_ord" jdbcType="VARCHAR" javaType="String"/>
		<parameter property="fld_cvd_ncm_mmy" jdbcType="INTEGER" javaType="java.lang.Integer"/>
		<parameter property="fld_cvd_mda_orf" jdbcType="CHAR" javaType="String"/>
		<parameter property="fld_cvd_mto_orf" jdbcType="NUMERIC" javaType="java.math.BigDecimal"/>
		<parameter property="fld_cvd_mda_dtf" jdbcType="CHAR" javaType="String"/>
		<parameter property="fld_cvd_mto_dtf" jdbcType="NUMERIC" javaType="java.math.BigDecimal"/>	
	</parameterMap>
	<resultMap id="getConsultaTasaMonto" class="java.util.HashMap">
		<result property="resultadoOperacion" column="wss_result_sw" javaType="java.lang.Integer"/>
		<result property="mensajeResultadoOperacion" column="wss_result_msg" javaType="String"/>
		<result property="monedaOrigen" column="fld_cvd_mda_orf" javaType="String"/>
		<result property="montoOrigen" column="fld_cvd_mto_orf" javaType="java.math.BigDecimal"/>
		<result property="monedaDestino" column="fld_cvd_mda_dtf" javaType="String"/>
		<result property="montoDestino" column="fld_cvd_mto_dtf" javaType="java.math.BigDecimal"/>
		<result property="tasaCambio" column="fld_cvd_exc_rar" javaType="java.math.BigDecimal"/>
		<result property="llaveConfirmacionMesaDinero" column="fld_cvd_key_mmy" javaType="String"/>
	</resultMap>
	<procedure id="consultaTasaMonto" parameterMap="setConsultaTasaMonto" resultMap="getConsultaTasaMonto">
		{ CALL CVDsrv_exc_rat_req ( ?, ?, ?, ?, ?, ? ) }
	</procedure> 
</sqlMap>
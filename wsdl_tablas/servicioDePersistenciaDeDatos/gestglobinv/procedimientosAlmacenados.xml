<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE sqlMap
    PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="gestglobinv.procedimientosAlmacenados">

  <procedure id="consultarSegmentoInversion" parameterClass="java.util.HashMap" resultClass="java.util.HashMap" >
    {call sp_select_segmentotipo(#p_seg_cod#)}
  </procedure>

  <procedure id="consultarPerfilInversion" parameterClass="java.util.HashMap" resultClass="java.util.HashMap" >
    {call sp_select_perfiltipo(#p_per_cod#)}
  </procedure>
  
  
   <procedure id="obtieneCuestionarioPerfilador" parameterClass="java.util.HashMap" resultClass="java.util.HashMap" >
    {call sp_cns_cst_prf()} 
  </procedure>
  
   <procedure id="obtienePerfilesInversion" parameterClass="java.util.HashMap" resultClass="java.util.HashMap" >
    {call sp_cns_prfls()} 
  </procedure>  
  
      <procedure id="obtienePerfilCliente" parameterClass="java.util.HashMap" resultClass="java.util.HashMap" >
    {call sp_cns_prlf_cli(#rut_cliente#)}
  </procedure>  

  <procedure id="insertaPerfilCliente" parameterClass="java.util.HashMap" resultClass="java.util.HashMap" >
    {call sp_ing_prfl_cli(#cod_idperfil#,#rut_cliente#,#dv_cliente# ,#cadena_respuesta#,#puntaje# )}
  </procedure>  

  <procedure id="guardarRespuesta" parameterClass="java.util.HashMap" resultClass="java.util.HashMap" >
    {call sp_ing_resp_inversion(#rut_cliente#,#dv_cliente#,#cod_idperfil#,#cod_producto#,#cod_idperfil_prod#)}
  </procedure>  

   <procedure id="consultarViajeInversiones" parameterClass="java.util.HashMap" resultClass="java.util.HashMap" >
    {call sp_cns_cli_existe_enrola_inv(#rut_cliente#)}
  </procedure>
 
    <procedure id="consultaDisclaimerPaas" parameterClass="java.util.HashMap" resultClass="java.util.HashMap" >
    {call sp_cns_dip_disclaimer_inv(#rut_cliente#,#dv#)}
  </procedure> 
 
    <procedure id="insertarDisclaimerPaas" parameterClass="java.util.HashMap" resultClass="java.util.HashMap" >
    {call sp_ins_dip_disclaimer_inv(#rut_cliente#,#dv#,#canal#,#cod_app#)}
  </procedure> 
</sqlMap>

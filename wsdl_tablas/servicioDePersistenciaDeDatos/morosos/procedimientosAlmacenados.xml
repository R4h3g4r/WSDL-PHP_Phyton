<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="morosos.procedimientosAlmacenados">
	<resultMap id="getDeudaMorosa" class="java.util.HashMap">
	    <result property="diasMora" column="dias_mora" jdbcType="NUMERIC" javaType="integer" nullValue="null" />
	    <result property="numeroDeOperacion" column="ope_num_ope" jdbcType="VARCHAR" javaType="string" />
	    <result property="montoPes" column="ope_mto_pes" jdbcType="DECIMAL" javaType="java.math.BigDecimal" />
	    <result property="montoVcd" column="ope_mto_vcd" jdbcType="DECIMAL" javaType="java.math.BigDecimal" />
	    <result property="montoCas" column="ope_mto_cas" jdbcType="DECIMAL" javaType="java.math.BigDecimal" />
	    <result property="fechaCur" column="ope_fec_cur" jdbcType="VARCHAR" javaType="string" />
	    <result property="fechaVto" column="ope_fec_vto" jdbcType="VARCHAR" javaType="string" />
	    <result property="fechaMor" column="ope_fec_mor" jdbcType="VARCHAR" javaType="string" />
	    <result property="fechaVcd" column="ope_fec_vcd" jdbcType="VARCHAR" javaType="string" />
	    <result property="fechaCas" column="ope_fec_cas" jdbcType="VARCHAR" javaType="string" />		
	</resultMap>
	<parameterMap id="setDeudaMorosa" class="java.util.HashMap">
		<parameter property="rut_cli" jdbcType="VARCHAR" javaType="String" />
	</parameterMap>

	<procedure id="consultarDeudaMorosaCliente" parameterMap="setDeudaMorosa" resultMap="getDeudaMorosa">
		{CALL sp_con_deu_mor_cli(?)}
	</procedure>

	<resultMap id="getConsultarSituacionJudicial" class="java.util.HashMap">
	    <result property="cod_mot_rechazo"  javaType="string"	columnIndex="1" 	jdbcType="VARCHAR"  />
	    <result property="sjd_fec_ing"		javaType="string"	columnIndex="2" 	jdbcType="VARCHAR" />
	    <result property="cju_cod_eje" 		javaType="string"	columnIndex="3" 	jdbcType="VARCHAR"  />
	</resultMap>

	<procedure id="consultarSituacionJudicial" resultMap="getConsultarSituacionJudicial">
		{CALL sp_ConsultaSituacionJudicial(#rut#, #dv#)}
	</procedure>

</sqlMap>
<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE sqlMap      
    PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"      
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">
    
<sqlMap namespace="informe_campana.procedimientosAlmacenados">


    <resultMap id="listadoNivel" class="java.util.HashMap">
        <result property="codigo" javaType="String" column="codigo"/>
        <result property="descripcion" javaType="String" column="nivel"/>
    </resultMap>

	<resultMap id="gestionTotal" class="java.util.HashMap">
        <result property="nivelSeleccionado" javaType="String" column="niv_sel"/>
        <result property="nivelSiguiente" javaType="String" column="niv_sgte"/>
        <result property="codigoEjecutivo" javaType="String" column="cod_eje"/>
        <result property="cantidadEjecutivos" column="cant_eje"/>
	<result property="cantidadDiasTrabajados" column="cant_dias_trab"/>
        <result property="rutContactoEfectivo" javaType="String" column="rut_cnt_efect"/>
        <result property="contactoEfectivo" javaType="String" column="cnt_efect"/>
        <result property="totalProductosGestionados" javaType="long" column="gest_total"/>
        <result property="autogeneradas" javaType="long" column="autogenerado"/>
        <result property="campanas" javaType="long" column="campania"/>
        <result property="aceptadas" javaType="long" column="aceptada"/>
        <result property="agendadosAlDia" javaType="long" column="agn_al_dia"/>
        <result property="agendadasAtrasadas" javaType="long" column="agn_atrazado"/>
        <result property="totalAgendados" javaType="long" column="total_agn"/>
        <result property="rechazoCliente" javaType="long" column="rch_cliente"/>
        <result property="rechazoBanco" javaType="long" column="rch_banco"/>
        <result property="noUbicable" javaType="long" column="no_ubicable"/>
        <result property="productosActivados" javaType="long" column="prd_activado"/>
        <result property="porcentajeUsoHerramienta" javaType="long" column="pcj_uso"/>
        <result property="leadPorGestionar" javaType="long" column="lead_no_gest"/>
    </resultMap>
	
	<resultMap id="winRate" class="java.util.HashMap">
        <result property="nivelSeleccionado" javaType="String" column="niv_sel"/>
        <result property="nivelSiguiente" javaType="String" column="niv_sgte"/>
        <result property="ejecutivo" javaType="String" column="cod_eje"/>
        <result property="numeroEjecutivos" javaType="String" column="cant_eje"/>
        <result property="tasaAceptacion" javaType="long" column="tacp"/>
        <result property="tasaActivacion" javaType="long" column="tact"/>
        <result property="productosAceptados" javaType="long" column="acept"/>
        <result property="productosActivados" javaType="long" column="activ"/>
        <result property="contactoEfectivo" javaType="long" column="cont_efect"/>
        <result property="campanasAceptadas" javaType="long" column="camp_acept"/>
    </resultMap>
    
	<resultMap id="evolutivo" class="java.util.HashMap">
        <result property="nivelSeleccionado" javaType="String" column="niv_sel"/>
        <result property="nivelSiguiente" javaType="String" column="niv_sgte"/>
        <result property="ejecutivo" javaType="String" column="cod_eje"/>
        <result property="numeroEjecutivos" column="cant_eje"/>
        <result property="fecha1"  javaType="long" column="fecha1"/>
        <result property="fecha2"  javaType="long" column="fecha2"/>
        <result property="fecha3"  javaType="long" column="fecha3"/>
        <result property="fecha4"  javaType="long" column="fecha4"/>
        <result property="fecha5"  javaType="long" column="fecha5"/>
        <result property="fecha6"  javaType="long" column="fecha6"/>
        <result property="fecha7"  javaType="long" column="fecha7"/>
        <result property="fecha8"  javaType="long" column="fecha8"/>
        <result property="fecha9"  javaType="long" column="fecha9"/>
        <result property="fecha10" javaType="long" column="fecha10"/>
        <result property="fecha11" javaType="long" column="fecha11"/>
        <result property="fecha12" javaType="long" column="fecha12"/>
    </resultMap>
    
    <procedure id="obtenerListadoZonal" parameterClass="java.util.HashMap" resultMap="listadoNivel">
        {CALL sp_inf_cmp_cns_ger(#banca#)}
    </procedure>
	
	<procedure id="obtenerListadoRegional" parameterClass="java.util.HashMap" resultMap="listadoNivel">
        {CALL sp_inf_cmp_cns_reg(#banca#,#nivel#)}
    </procedure>
	
	<procedure id="obtenerListadoOficina" parameterClass="java.util.HashMap" resultMap="listadoNivel">
        {CALL sp_inf_cmp_cns_ofi(#banca#,#nivel#)}
    </procedure>
	
	<procedure id="obtenerListadoEjecutivo" parameterClass="java.util.HashMap" resultMap="listadoNivel">
        {CALL sp_inf_cmp_cns_eje(#banca#,#nivel#)}
    </procedure>
	
	<procedure id="obtenerGestionTotal" parameterClass="java.util.HashMap" resultMap="gestionTotal">
		
        {CALL sp_inf_cmp_ges_tot(
		<isNotNull property="banca">#banca#</isNotNull>
		<isNull property="banca">NULL</isNull>
		,<isNotNull property="nivel_uno">#nivel_uno#</isNotNull>
		<isNull property="nivel_uno">NULL</isNull>
		,<isNotNull property="nivel_dos">#nivel_dos#</isNotNull>
		<isNull property="nivel_dos">NULL</isNull>
		,<isNotNull property="nivel_tres">#nivel_tres#</isNotNull>
		<isNull property="nivel_tres">NULL</isNull>
		,<isNotNull property="ejecutivo">#ejecutivo#</isNotNull>
		<isNull property="ejecutivo">NULL</isNull>
		,#tipo#
		,#fecha_inicio#
		,#fecha_fin#
		,<isNotNull property="producto">#producto#</isNotNull>
		<isNull property="producto">NULL</isNull>
		,<isNotNull property="campana">#campana#</isNotNull>
		<isNull property="campana">NULL</isNull>)} 
		
    </procedure>
	
	<procedure id="obtenerWinRate" parameterClass="java.util.HashMap" resultMap="winRate">
		
        {CALL sp_inf_cmp_win_rte(
		<isNotNull property="banca">#banca#</isNotNull>
		<isNull property="banca">NULL</isNull>
		,<isNotNull property="nivel_uno">#nivel_uno#</isNotNull>
		<isNull property="nivel_uno">NULL</isNull>
		,<isNotNull property="nivel_dos">#nivel_dos#</isNotNull>
		<isNull property="nivel_dos">NULL</isNull>
		,<isNotNull property="nivel_tres">#nivel_tres#</isNotNull>
		<isNull property="nivel_tres">NULL</isNull>
		,<isNotNull property="ejecutivo">#ejecutivo#</isNotNull>
		<isNull property="ejecutivo">NULL</isNull>
		,#tipo#
		,#fecha_inicio#
		,#fecha_fin#
		,<isNotNull property="producto">#producto#</isNotNull>
		<isNull property="producto">NULL</isNull>
		,<isNotNull property="campana">#campana#</isNotNull>
		<isNull property="campana">NULL</isNull>)} 
		
    </procedure>

	<procedure id="obtenerEvolutivoProductosActivados" parameterClass="java.util.HashMap" resultMap="evolutivo">
		
        {CALL sp_inf_cmp_evol_pact(
		<isNotNull property="banca">#banca#</isNotNull>
		<isNull property="banca">NULL</isNull>
		,<isNotNull property="nivel_uno">#nivel_uno#</isNotNull>
		<isNull property="nivel_uno">NULL</isNull>
		,<isNotNull property="nivel_dos">#nivel_dos#</isNotNull>
		<isNull property="nivel_dos">NULL</isNull>
		,<isNotNull property="nivel_tres">#nivel_tres#</isNotNull>
		<isNull property="nivel_tres">NULL</isNull>
		,<isNotNull property="ejecutivo">#ejecutivo#</isNotNull>
		<isNull property="ejecutivo">NULL</isNull>
		,#tipo#
		,#fecha#
		,<isNotNull property="producto">#producto#</isNotNull>
		<isNull property="producto">NULL</isNull>
		,<isNotNull property="campana">#campana#</isNotNull>
		<isNull property="campana">NULL</isNull>)} 
		
    </procedure>

	<procedure id="obtenerEvolutivoPromediosContactos" parameterClass="java.util.HashMap" resultMap="evolutivo">
		
        {CALL sp_inf_cmp_evol_cont(
		<isNotNull property="banca">#banca#</isNotNull>
		<isNull property="banca">NULL</isNull>
		,<isNotNull property="nivel_uno">#nivel_uno#</isNotNull>
		<isNull property="nivel_uno">NULL</isNull>
		,<isNotNull property="nivel_dos">#nivel_dos#</isNotNull>
		<isNull property="nivel_dos">NULL</isNull>
		,<isNotNull property="nivel_tres">#nivel_tres#</isNotNull>
		<isNull property="nivel_tres">NULL</isNull>
		,<isNotNull property="ejecutivo">#ejecutivo#</isNotNull>
		<isNull property="ejecutivo">NULL</isNull>
		,#tipo#
		,#fecha#
		,<isNotNull property="producto">#producto#</isNotNull>
		<isNull property="producto">NULL</isNull>
		,<isNotNull property="campana">#campana#</isNotNull>
		<isNull property="campana">NULL</isNull>)} 
		
    </procedure>

	<procedure id="obtenerEvolutivoPromediosProductosAceptados" parameterClass="java.util.HashMap" resultMap="evolutivo">
		
        {CALL sp_inf_cmp_evol_acp(
		<isNotNull property="banca">#banca#</isNotNull>
		<isNull property="banca">NULL</isNull>
		,<isNotNull property="nivel_uno">#nivel_uno#</isNotNull>
		<isNull property="nivel_uno">NULL</isNull>
		,<isNotNull property="nivel_dos">#nivel_dos#</isNotNull>
		<isNull property="nivel_dos">NULL</isNull>
		,<isNotNull property="nivel_tres">#nivel_tres#</isNotNull>
		<isNull property="nivel_tres">NULL</isNull>
		,<isNotNull property="ejecutivo">#ejecutivo#</isNotNull>
		<isNull property="ejecutivo">NULL</isNull>
		,#tipo#
		,#fecha#
		,<isNotNull property="producto">#producto#</isNotNull>
		<isNull property="producto">NULL</isNull>
		,<isNotNull property="campana">#campana#</isNotNull>
		<isNull property="campana">NULL</isNull>)} 
		
    </procedure>
	
	<procedure id="obtenerEvolutivoTasaDeAceptacion" parameterClass="java.util.HashMap" resultMap="evolutivo">
		
        {CALL sp_inf_cmp_evol_tacp(
		<isNotNull property="banca">#banca#</isNotNull>
		<isNull property="banca">NULL</isNull>
		,<isNotNull property="nivel_uno">#nivel_uno#</isNotNull>
		<isNull property="nivel_uno">NULL</isNull>
		,<isNotNull property="nivel_dos">#nivel_dos#</isNotNull>
		<isNull property="nivel_dos">NULL</isNull>
		,<isNotNull property="nivel_tres">#nivel_tres#</isNotNull>
		<isNull property="nivel_tres">NULL</isNull>
		,<isNotNull property="ejecutivo">#ejecutivo#</isNotNull>
		<isNull property="ejecutivo">NULL</isNull>
		,#tipo#
		,#fecha#
		,<isNotNull property="producto">#producto#</isNotNull>
		<isNull property="producto">NULL</isNull>
		,<isNotNull property="campana">#campana#</isNotNull>
		<isNull property="campana">NULL</isNull>)} 
		
    </procedure>
	
	<procedure id="obtenerEvolutivoTasaDeActivacion" parameterClass="java.util.HashMap" resultMap="evolutivo">
		
        {CALL sp_inf_cmp_evol_tact(
		<isNotNull property="banca">#banca#</isNotNull>
		<isNull property="banca">NULL</isNull>
		,<isNotNull property="nivel_uno">#nivel_uno#</isNotNull>
		<isNull property="nivel_uno">NULL</isNull>
		,<isNotNull property="nivel_dos">#nivel_dos#</isNotNull>
		<isNull property="nivel_dos">NULL</isNull>
		,<isNotNull property="nivel_tres">#nivel_tres#</isNotNull>
		<isNull property="nivel_tres">NULL</isNull>
		,<isNotNull property="ejecutivo">#ejecutivo#</isNotNull>
		<isNull property="ejecutivo">NULL</isNull>
		,#tipo#
		,#fecha#
		,<isNotNull property="producto">#producto#</isNotNull>
		<isNull property="producto">NULL</isNull>
		,<isNotNull property="campana">#campana#</isNotNull>
		<isNull property="campana">NULL</isNull>)} 
		
    </procedure>


    
</sqlMap>

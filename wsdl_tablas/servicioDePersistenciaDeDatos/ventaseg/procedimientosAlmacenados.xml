<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE sqlMap      
    PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"      
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">
	
<sqlMap namespace="ventaseg.procedimientosAlmacenados">	

	<!--
	sp_bypass_ap_ret_pln (@cod_prod char(8))
	-->
	<procedure id="bypass_ap_ret_pln" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
		{CALL sp_bypass_ap_ret_pln(#cod_prod#)}
	</procedure>
	
	<procedure id="obtieneNuevoId" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
		{CALL sp_get_code(#codigoDocumento#)}
	</procedure>

	<procedure id="obtenerRegiones" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
		{CALL sp_rec_reg()}
	</procedure>

	<procedure id="obtenerRegionPorId" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
		{CALL sp_get_reg_by_id(#reg_cod#)}
	</procedure>

	<procedure id="obtenerCiudades" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
		{CALL sp_get_ciu()}
	</procedure>

	<procedure id="obtenerCiudadPorId" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
		{CALL sp_get_ciu_by_id(#ciu_cod#)}
	</procedure>

	<procedure id="obtenerComunas" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
		{CALL sp_rec_cmn_by_ciu_all()}
	</procedure>

	<procedure id="obtenerComunaPorId" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
		{CALL sp_get_cmn_by_id(#cmn_cod#)}
	</procedure>
	
	<procedure id="obtenerComunaPorCiudad" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
		{CALL sp_get_cmn_by_ciu(#ciu_cod#)}
	</procedure>
	
	<procedure id="obtenerDesistimientos" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
		{CALL sp_cns_desistimietos(#rut#,#dv#)}
	</procedure>
	
	<procedure id="generarDesistimiento" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
		{CALL sp_ing_solic_desis(#rut_cli#,#dv_cli#,#nom_cli#,#pat_cli#,#mat_cli#,#nro_doc#,#id_compania#,#nro_ope#,#fec_sol#,#tip_dev#,#cue_abo#,#mto_dev#,#seg_plan#,#nom_seg#,#tip_pro#,#cod_mot#,#des_mot#,#usuario#,#oficina#,#estado#,#arc_ent#,#arc_sal#)}
	</procedure>
	
	<procedure id="actualizarDesistimiento" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
		{CALL sp_act_desistimiento(#rut_cli#,#dv_cli#,#nro_doc#,#id_compania#,#nro_ope#,#seg_plan#,#tip_pro#,#estado#)}
	</procedure>
	
		
</sqlMap>	
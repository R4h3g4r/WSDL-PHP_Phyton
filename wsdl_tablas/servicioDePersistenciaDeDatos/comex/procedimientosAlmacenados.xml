<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE sqlMap      
    PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"      
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">
    
<sqlMap namespace="comex.procedimientosAlmacenados">

    	<parameterMap id="setConsultaMensajesSwiftPorFecha" class="java.util.HashMap">
  		<parameter property="numeroOperacion"		jdbcType="CHAR"		javaType="String" />
		<parameter property="fechaInicio"		jdbcType="DATATIME"	javaType="java.util.Date" />
		<parameter property="fechaTermino"		jdbcType="DATATIME"	javaType="java.util.Date" />
		<parameter property="codigoMensaje"		jdbcType="CHAR"		javaType="String" />
	</parameterMap>
	<resultMap id="getConsultaMensajesSwiftPorFecha" class="java.util.HashMap">
		<result property="numeroCorrelativo"	column="fld_swf_num_cor"	javaType="java.lang.Long" />
		<result property="fechaGenerada"	column="fld_swf_fec_gen"	javaType="String" />
	</resultMap>
	<procedure id="consultaMensajesSwiftPorFecha" parameterMap="setConsultaMensajesSwiftPorFecha" resultMap="getConsultaMensajesSwiftPorFecha">
		{ CALL sp_cns_mje_fec ( ?, ?, ?, ? ) }
	</procedure>
	
	<parameterMap id="setConsultaMensajesSwiftPorNroSecuencia" class="java.util.HashMap">
  		<parameter property="numeroCorrelativo"	jdbcType="INTEGER"	javaType="java.lang.Integer" />
		<parameter property="codigoMensaje"		jdbcType="CHAR"		javaType="String" />
	</parameterMap>
	<resultMap id="getConsultaMensajesSwiftPorNroSecuencia" class="java.util.HashMap">
		<result property="numeroOperacion"		column="fld_swf_num_ope"	javaType="java.lang.Long" />
		<result property="fechaGenerada"		column="fld_swf_fec_gen"	javaType="String" />
	</resultMap>
	<procedure id="consultaMensajesSwiftPorNroSecuencia" parameterMap="setConsultaMensajesSwiftPorNroSecuencia" resultMap="getConsultaMensajesSwiftPorNroSecuencia">
		{ CALL sp_cns_mje_sec ( ?, ?) }
	</procedure>
	
	<parameterMap id="setConsultaDetalleMensajesSwiftEnviados" class="java.util.HashMap">
		<parameter property="numeroCorrelativo"	jdbcType="INTEGER"	javaType="java.lang.Integer" />
  		<parameter property="numeroOperacion"	jdbcType="CHAR"		javaType="String" />
	</parameterMap>
	<resultMap id="getConsultaDetalleMensajesSwiftEnviados" class="java.util.HashMap">
		<result property="mensaje"				column="fld_sms_txt_doc_msg"	javaType="String" />
	</resultMap>
	<procedure id="consultaDetalleMensajesSwiftEnviados" parameterMap="setConsultaDetalleMensajesSwiftEnviados" resultMap="getConsultaDetalleMensajesSwiftEnviados">
		{ CALL sp_cns_det_mje ( ?, ? ) }
	</procedure>
	
        <!-- workstation -->
	<resultMap id="solicitudes" class="java.util.HashMap">
		<result property="numSolicitud" column="fld_sope_num_sol" />
		<result property="fechaIngreso" column="fld_sope_fec_ing" />
		<result property="valuta" column="GLS_VALUTA" />
		<result property="monto" column="fld_sope_mto" />
		<result property="nombreBenef" column="fld_sope_ide_ben_1" />
		<result property="referencia" column="fld_sope_ref_pag" />
		<result property="estado" column="GLS" />
		<result property="indicadorPagina" column="indicadorPagina" />
	</resultMap>
	<procedure id="obtenerSolicitudesSinConvenio" resultMap="solicitudes" parameterClass="java.util.HashMap">
		{CALL CMXweb_sope_cns_sope_wks(#rut#,#fechaInicio#,#fechaFin#,#numSolicitud#,#cantidadOperaciones#,#ultimaSolicitud#)}
	</procedure>
	
    <procedure id="obtenerListaOrdenesDePago" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
        {CALL sp_comex_cns_ope_env(
            <isNull property="rutCliente">NULL</isNull>
            <isNotNull property="rutCliente">#rutCliente#</isNotNull>, 
            <isNull property="numOperacion">NULL</isNull>
            <isNotNull property="numOperacion">#numOperacion#</isNotNull>, 
            <isNull property="fechaDesde">NULL</isNull> 
            <isNotNull property="fechaDesde">#fechaDesde#</isNotNull>,
            <isNull property="fechaHasta">NULL</isNull> 
            <isNotNull property="fechaHasta">#fechaHasta#</isNotNull>,
            <isNull property="estado">NULL</isNull> 
            <isNotNull property="estado">#estado#</isNotNull>,
            <isNull property="pagina">NULL</isNull>
            <isNotNull property="pagina">#pagina#</isNotNull>,
            <isNull property="registros">NULL</isNull>
            <isNotNull property="registros">#registros#</isNotNull>,
            <isNull property="campoOrden">NULL</isNull>
            <isNotNull property="campoOrden">#campoOrden#</isNotNull>,
            <isNull property="orden">NULL</isNull>
            <isNotNull property="orden">#orden#</isNotNull>,
            <isNull property="moneda">NULL</isNull>
            <isNotNull property="moneda">#moneda#</isNotNull>,
			<isNull property="modalidad">NULL</isNull>
            <isNotNull property="modalidad">#modalidad#</isNotNull>
            )}
    </procedure>
	
	<procedure id="obtenerListaCartasCreditoExportacion" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
        {CALL sp_comex_cns_carta_cre_exp(
            <isNull property="tipo">NULL</isNull>
            <isNotNull property="tipo">#tipo#</isNotNull>,
            <isNull property="rutCliente">NULL</isNull>
            <isNotNull property="rutCliente">#rutCliente#</isNotNull>, 
            <isNull property="estado">NULL</isNull> 
            <isNotNull property="estado">#estado#</isNotNull>,
            <isNull property="tipoOrden">NULL</isNull>
            <isNotNull property="tipoOrden">#tipoOrden#</isNotNull>,
            <isNull property="campoOrden">NULL</isNull>
            <isNotNull property="campoOrden">#campoOrden#</isNotNull>,
            <isNull property="moneda">NULL</isNull>
            <isNotNull property="moneda">#moneda#</isNotNull>,
            <isNull property="fechaDesde">NULL</isNull>
            <isNotNull property="fechaDesde">#fechaDesde#</isNotNull>, 
            <isNull property="fechaHasta">NULL</isNull>
            <isNotNull property="fechaHasta">#fechaHasta#</isNotNull>  
            )}
    </procedure>
	
   		<parameterMap id="setConsultarBancosPorPais" class="java.util.HashMap">
			<parameter property="codigoPais" jdbcType="NUMERIC" javaType="java.lang.Integer" />
		</parameterMap>
		<resultMap id="getConsultarBancosPorPais" class="java.util.HashMap">
			<result property="pais"           column="glosa_pai"	jdbcType="CHAR"  	 javaType="String" />        	
			<result property="plaza"          column="codigo_plz"	jdbcType="INT"    	 javaType="java.lang.Integer"/>        	
			<result property="nombre"         column="nombre_bco"	jdbcType="CHAR"   	 javaType="String" />        	
			<result property="direccionSwift" column="dir_swf"    	jdbcType="CHAR" 	 javaType="String" />
			<result property="codigoBanco" 	  column="cod_banco"   	jdbcType="INT" 	 	 javaType="java.lang.Integer" />			
		</resultMap>
		<procedure id="consultarBancosPorPais" parameterMap="setConsultarBancosPorPais" resultMap="getConsultarBancosPorPais">
			{ CALL  sp_bus_bco_cor_por_pais (?) }
		</procedure>


		<resultMap id="getSeleccionarNewsLetter" class="java.util.HashMap">
			<result property="cod_doc"        column="cod_doc"		jdbcType="DECIMAL"	 javaType="java.lang.Double" />
			<result property="nom_doc"        column="nom_doc"		jdbcType="CHAR"   	 javaType="String" />        	
			<result property="fec_upl_doc" 	  column="fec_upl_doc"  jdbcType="DATATIME"		javaType="java.util.Date" />			
		</resultMap>
		<procedure id="seleccionarNewsLetter" parameterClass="java.util.HashMap" resultMap="getSeleccionarNewsLetter">
			{ CALL  sp_sel_new_let() }
		</procedure>

		<parameterMap id="setGrabarNewsLetter" class="java.util.HashMap">
	  		<parameter property="cod_doc"		jdbcType="DECIMAL"		javaType="java.lang.Double" />
			<parameter property="nom_doc"		jdbcType="CHAR"			javaType="String" />
			<parameter property="fec_upl_doc"	jdbcType="DATATIME"		javaType="java.util.Date" />
		</parameterMap>		
		<procedure id="grabarNewsLetter" parameterMap="setGrabarNewsLetter" resultClass="java.util.HashMap">
			{ CALL  sp_ins_new_let(?,?,?) }
		</procedure>
		
		<parameterMap id="setEliminarNewsLetter" class="java.util.HashMap">
			<parameter property="cod_doc" jdbcType="DECIMAL" javaType="java.lang.Double" />
		</parameterMap>
		<procedure id="eliminarNewsLetter" parameterMap="setEliminarNewsLetter" resultClass="java.util.HashMap">
			{ CALL  sp_eli_new_let (?) }
		</procedure>
		
		
		<!-- METODO MIGRADO (VIGENTE):  public ResumenCartaCreditoImport[] ListaCartasCreditoImport(String modalidad, String tipo, String rut) -->
		<parameterMap id="setCartaCreditoImportacion" class="java.util.HashMap">
	  		<parameter property="indicador"		jdbcType="INT"		javaType="java.lang.Integer" />
			<parameter property="rut"			jdbcType="CHAR"		javaType="String" />
			<parameter property="moneda"		jdbcType="CHAR"		javaType="String" />
			<parameter property="fechaDesde"		jdbcType="DATETIME"		javaType="java.util.Date" />
			<parameter property="fechaHasta"		jdbcType="DATETIME"		javaType="java.util.Date" />
		</parameterMap>
		<resultMap id="getCartaCreditoImportacion" class="java.util.HashMap">
			<result property="numOperacion"		column="fld_crd_num_car_cre"	javaType="java.lang.String" />
			<result property="estado"			column="fld_aux_gls_eve"		javaType="java.lang.String" />
			<result property="correlativo"		column="fld_neg_num_cor"		javaType="java.lang.Integer" />
			<result property="glosaMoneda"		column="GLS_MON"				javaType="java.lang.String" />
			<result property="montoOperacion"	column="fld_col_mto_ori"		javaType="java.lang.Double" />
			<result property="montoDolar"		column="fld_aux_mto_usd"		javaType="java.lang.Double" />
			<result property="referencia"		column="fld_aux_ref_cln"		javaType="java.lang.String" />
			<result property="fechaMaterializa"	column="fld_col_fec_otor"		javaType="java.lang.String" />
			<result property="fecVencimiento"	column="fld_col_fec_vto"		javaType="java.lang.String" />
			<result property="intereses"		column="fld_aux_mto_int"		javaType="java.lang.Double" />
			<result property="tasaInteres"		column="fld_col_tas_fin"		javaType="java.lang.Double" />
			<result property="nombreBenef"		column="fld_crd_nom_ben"		javaType="java.lang.String" />
		</resultMap>
		<procedure id="listaCartasCreditoImportacionVigentes" parameterMap="setCartaCreditoImportacion" resultMap="getCartaCreditoImportacion">
			{ CALL CMXweb_crd_bus_crd ( ?, ?, ?, ?, ? ) }
		</procedure>

		<!-- METODO MIGRADO (HISTORICA):  public ResumenCartaCreditoImport[] ListaCartasCreditoImport(String modalidad, String tipo, String rut) -->
		<parameterMap id="setCartaCreditoImportacionHistorica" class="java.util.HashMap">
	  		<parameter property="indicador"	jdbcType="INT"		javaType="java.lang.Integer" />
			<parameter property="rut"		jdbcType="CHAR"		javaType="String" />
			<parameter property="moneda"		jdbcType="CHAR"		javaType="String" />
			<parameter property="fechaDesde"		jdbcType="DATETIME"		javaType="java.util.Date" />
			<parameter property="fechaHasta"		jdbcType="DATETIME"		javaType="java.util.Date" />
		</parameterMap>
		<resultMap id="getCartaCreditoImportacionHistorica" class="java.util.HashMap">
			<result property="numOperacion"	column="fld_crd_num_car_cre"	javaType="java.lang.String" />
			<result property="estado"			column="fld_aux_gls_eve"		javaType="java.lang.String" />
			<result property="correlativo"		column="fld_neg_num_cor"		javaType="java.lang.Integer" />
			<result property="glosaMoneda"		column="GLS_MON"				javaType="java.lang.String" />
			<result property="montoOperacion"	column="fld_col_mto_ori"		javaType="java.lang.Double" />
			<result property="montoDolar"		column="fld_aux_mto_usd"		javaType="java.lang.Double" />
			<result property="referencia"		column="fld_aux_ref_cln"		javaType="java.lang.String" />
			<result property="fechaMaterializa"	column="fld_fec_ini_pag_int"	javaType="java.lang.String" />
			<result property="fecVencimiento"	column="fld_col_fec_vto"		javaType="java.lang.String" />
			<result property="intereses"		column="fld_aux_mto_int"		javaType="java.lang.Double" />
			<result property="tasaInteres"		column="fld_col_tas_fin"		javaType="java.lang.Double" />
			<result property="nombreBenef"		column="fld_crd_nom_ben"		javaType="java.lang.String" />
		</resultMap>	
		<procedure id="listaCartasCreditoImportacionHistoricas" parameterMap="setCartaCreditoImportacionHistorica" resultMap="getCartaCreditoImportacionHistorica">
			{ CALL CMXweb_crd_his_bus_crd ( ?, ?, ?, ?, ? ) }
		</procedure>		

		<!-- METODO MIGRADO (VIGENTE):public ResumenCobranzaImport[] ListaCobranzasImport(String modalidad, String indicador, String rut)
		 -->
		<parameterMap id="setCobranzaImportacion" class="java.util.HashMap">
	  		<parameter property="indicador"	jdbcType="INT"		javaType="java.lang.Integer" />
			<parameter property="rut"		jdbcType="CHAR"		javaType="String" />
			<parameter property="moneda"		jdbcType="CHAR"		javaType="String" />
			<parameter property="fechaDesde"		jdbcType="DATETIME"		javaType="java.util.Date" />
			<parameter property="fechaHasta"		jdbcType="DATETIME"		javaType="java.util.Date" />  
			<!--<parameter property="fechaDesde"		jdbcType="DATE"		javaType="java.util.Calendar" typeHandler="cl.bci.middleware.aplicacion.persistencia.handler.CalendarTypeHandler" />
			<parameter property="fechaHasta"		jdbcType="DATE"		javaType="java.util.Calendar" typeHandler="cl.bci.middleware.aplicacion.persistencia.handler.CalendarTypeHandler" /> -->
		</parameterMap>
		<resultMap id="getCobranzaImportacion" class="java.util.HashMap">
			<result property="numCobranza"			column="fld_cbr_num"			javaType="java.lang.String" />
			<result property="tipo"					column="fld_gls_tip_cbr"		javaType="java.lang.String" />
			<result property="numeroLetras"			column="fld_cbr_can_let"		javaType="java.lang.Long" />
			<result property="glosaMoneda"			column="GLS_MON"				javaType="java.lang.String" />
			<result property="montoCobranza"		column="fld_cbr_mto_cbr"		javaType="java.lang.Double" />
			<result property="interesProveedor"		column="fld_cbr_mto_int_prov"	javaType="java.lang.Double" />
			<result property="gastoCedente"			column="fld_cbr_mto_gto_ced"	javaType="java.lang.Double" />
			<result property="monto"				column="fld_aux_mto_cob_usd"	javaType="java.lang.Double" />
			<result property="referenciaCedente"	column="fld_cbr_ref_gdo"		javaType="java.lang.String" />
			<result property="fechaCartaCedente"	column="fld_cbr_fec_car_ced"	javaType="java.lang.String" />
			<result property="fecVencimiento"		column="fld_cbr_fec_vto"		javaType="java.lang.String" />
			<result property="nombreCedente"		column="fld_cbr_nom_gdr"		javaType="java.lang.String" />
		</resultMap>	
		<procedure id="listaCobranzasImportacion" parameterMap="setCobranzaImportacion" resultMap="getCobranzaImportacion">
			{ CALL CMXweb_icbr_bus_cbr ( ?, ?, ?, ?, ? ) }
		</procedure>



	<!-- METODO MIGRADO (HISTORICA):public ResumenCobranzaImport[] ListaCobranzasImport(String modalidad, String indicador, String rut)		 -->
		<parameterMap id="setCobranzaImportacionHistorica" class="java.util.HashMap">
	  		<parameter property="indicador"	jdbcType="INT"		javaType="java.lang.Integer" />
			<parameter property="rut"		jdbcType="CHAR"		javaType="String" />
			<parameter property="moneda"		jdbcType="CHAR"		javaType="String" />
			<parameter property="fechaDesde"		jdbcType="DATETIME"		javaType="java.util.Date" />
			<parameter property="fechaHasta"		jdbcType="DATETIME"		javaType="java.util.Date" />
		</parameterMap>
		<resultMap id="getCobranzaImportacionHistorica" class="java.util.HashMap">
			<result property="numCobranza"			column="fld_cbr_num"			javaType="java.lang.String" />
			<result property="tipo"					column="fld_gls_tip_cbr"		javaType="java.lang.String" />
			<result property="numeroLetras"			column="fld_cbr_can_let"		javaType="java.lang.Long" />
			<result property="glosaMoneda"			column="GLS_MON"				javaType="java.lang.String" />
			<result property="montoCobranza"		column="fld_cbr_mto_cbr"		javaType="java.lang.Double" />
			<result property="interesProveedor"		column="fld_cbr_mto_int_prov"	javaType="java.lang.Double" />
			<result property="gastoCedente"			column="fld_cbr_mto_gto_ced"	javaType="java.lang.Double" />
			<result property="monto"				column="fld_aux_mto_cob_usd"	javaType="java.lang.Double" />
			<result property="referenciaCedente"	column="fld_cbr_ref_ced"		javaType="java.lang.String" />
			<result property="fechaCartaCedente"	column="fld_cbr_fec_car_ced"	javaType="java.lang.String" />
			<result property="fecVencimiento"		column="fld_cbr_fec_vto"		javaType="java.lang.String" />
			<result property="nombreCedente"		column="fld_cbr_nom_ced"		javaType="java.lang.String" />
		</resultMap>	
		<procedure id="listaCobranzasImportacionHistorica" parameterMap="setCobranzaImportacionHistorica" resultMap="getCobranzaImportacionHistorica">
			{ CALL CMXweb_icbr_his_bus_cbr ( ?, ?, ?, ?, ? ) }
		</procedure>


	<!-- METODO MIGRADO (VIGENTE):  public ResumenCobranzaExport[] ListaCobranzasExport(String modalidad, String rut) -->
		<parameterMap id="setCobranzaExportacion" class="java.util.HashMap">
			<parameter property="rut"		jdbcType="CHAR"		javaType="String" />
			<parameter property="moneda"		jdbcType="CHAR"		javaType="String" />
			<parameter property="fechaDesde"		jdbcType="DATETIME"		javaType="java.util.Date" />
			<parameter property="fechaHasta"		jdbcType="DATETIME"		javaType="java.util.Date" />
		</parameterMap>
		<resultMap id="getCobranzaExportacion" class="java.util.HashMap">
			<result property="numOperacion"			column="fld_cbe_num_cbe"	javaType="java.lang.String" />
			<result property="cuota"				column="fld_cbe_num_ctz"	javaType="java.lang.Long" />
			<result property="moneda"				column="fld_cbe_mon_cbe"	javaType="java.lang.String" />
			<result property="montoOperacion"		column="fld_cbe_mto_orig"	javaType="java.lang.Double" />
			<result property="montoCuota"			column="fld_cbe_mto_ctz"	javaType="java.lang.Double" />
			<result property="referenciaExportador"	column="fld_cbe_ref_exp"	javaType="java.lang.String" />
			<result property="fecApertura"			column="fld_cbe_fec_ing"	javaType="java.lang.String" />
			<result property="fecVencimiento"		column="fld_cbe_fec_vto"	javaType="java.lang.String" />
			<result property="comprador"			column="fld_cbe_nom_grd"	javaType="java.lang.String" />
		</resultMap>
		<procedure id="listaCobranzasExportacion" parameterMap="setCobranzaExportacion" resultMap="getCobranzaExportacion">
			{ CALL CMXweb_cbe_get_cbe ( ?, ?, ?, ? ) }
		</procedure>
	<!-- METODO MIGRADO (HISTORICA):  public ResumenCobranzaExport[] ListaCobranzasExport(String modalidad, String rut) -->
		<parameterMap id="setCobranzaExportacionHistorica" class="java.util.HashMap">
			<parameter property="rut"		jdbcType="CHAR"		javaType="String" />
			<parameter property="moneda"		jdbcType="CHAR"		javaType="String" />
			<parameter property="fechaDesde"		jdbcType="DATETIME"		javaType="java.util.Date" />
			<parameter property="fechaHasta"		jdbcType="DATETIME"		javaType="java.util.Date" />
		</parameterMap>
		<resultMap id="getCobranzaExportacionHistorica" class="java.util.HashMap">
			<result property="numOperacion"			column="fld_cbe_num_cbe"	javaType="java.lang.String" />
			<result property="cuota"				column="fld_cbe_num_ctz"	javaType="java.lang.Long" />
			<result property="moneda"				column="fld_cbe_mon_cbe"	javaType="java.lang.String" />
			<result property="montoOperacion"		column="fld_cbe_mto_orig"	javaType="java.lang.Double" />
			<result property="montoCuota"			column="fld_cbe_mto_ctz"	javaType="java.lang.Double" />
			<result property="referenciaExportador"	column="fld_cbe_ref_exp"	javaType="java.lang.String" />
			<result property="fecApertura"			column="fld_cbe_fec_ing"	javaType="java.lang.String" />
			<result property="fecVencimiento"		column="fld_cbe_fec_vto"	javaType="java.lang.String" />
			<result property="comprador"			column="fld_cbe_nom_grd"	javaType="java.lang.String" />
		</resultMap>	
		<procedure id="listaCobranzasExportacionHistorica" parameterMap="setCobranzaExportacionHistorica" resultMap="getCobranzaExportacionHistorica">
			{ CALL CMXweb_cbe_his_get_cbe ( ?, ?, ?, ? ) }
		</procedure>
    
	<!-- METODO MIGRADO (VIGENTE):  public String[] ListaOrdenesDePagoRecibidas(String modalidad, String rut) -->
		<parameterMap id="setOrdenPagoRecibida" class="java.util.HashMap">
			<parameter property="rut"		 jdbcType="CHAR"		javaType="String" />
			<parameter property="fechaDesde" jdbcType="DATETIME"		javaType="java.util.Date" />
			<parameter property="fechaHasta" jdbcType="DATETIME"		javaType="java.util.Date" />
			<parameter property="moneda"	 jdbcType="CHAR"		javaType="String" />
		</parameterMap>
		<resultMap id="getOrdenPagoRecibida" class="java.util.HashMap">
			<result property="numOperacion"			column="fld_aux_num_ope"	javaType="java.lang.String" />
		</resultMap>
		<procedure id="listaOrdenPagoRecibida" parameterMap="setOrdenPagoRecibida" resultMap="getOrdenPagoRecibida">
			{ CALL BCXweb_oprec_bus_ope ( ?, ?, ?, ? ) }
		</procedure>
	<!-- METODO MIGRADO (HISTORICA):  public String[] ListaOrdenesDePagoRecibidas(String modalidad, String rut)-->
		<parameterMap id="setOrdenPagoRecibidaHistorica" class="java.util.HashMap">
			<parameter property="rut"		jdbcType="CHAR"		javaType="String" />
			<parameter property="fechaDesde" jdbcType="DATETIME"		javaType="java.util.Date" />
			<parameter property="fechaHasta" jdbcType="DATETIME"		javaType="java.util.Date" />
			<parameter property="moneda"	 jdbcType="CHAR"		javaType="String" />				
		</parameterMap>
		<resultMap id="getOrdenPagoRecibidaHistorica" class="java.util.HashMap">
			<result property="numOperacion"			column="fld_aux_num_ope"	javaType="java.lang.String" />
		</resultMap>	
		<procedure id="listaOrdenPagoRecibidaHistorica" parameterMap="setOrdenPagoRecibidaHistorica" resultMap="getOrdenPagoRecibidaHistorica">
			{ CALL BCXweb_oprec_his_bus_ope ( ?, ?, ?, ? ) }
		</procedure>

		<!-- METODO MIGRADO (VIGENTE):public ResumenCobranzaImport[] ListaCobranzasImport(String modalidad, String indicador, String rut)
		 -->
		<parameterMap id="setOrdenPagoEnProceso" class="java.util.HashMap">
	  		<parameter property="rut"					jdbcType="CHAR"		javaType="java.lang.String" />
			<parameter property="idConvenio"			jdbcType="CHAR"		javaType="java.lang.String" />
			<parameter property="fechaInicio"			jdbcType="CHAR"		javaType="java.lang.String" />
			<parameter property="fechaFin"				jdbcType="CHAR"		javaType="java.lang.String" />
			<parameter property="numSolicitud"			jdbcType="CHAR"		javaType="java.lang.String" />
			<parameter property="cantidadOperaciones"	jdbcType="CHAR"		javaType="java.lang.Integer" />
			<parameter property="ultimaSolicitud"		jdbcType="CHAR"		javaType="java.lang.String" />
		</parameterMap>
		<resultMap id="getOrdenPagoEnProceso" class="java.util.HashMap">
			<result property="numSolicitud"		column="fld_sope_num_sol"	javaType="java.lang.String" />
			<result property="fechaIngreso"		column="fld_sope_fec_ing"	javaType="java.lang.String" />
			<result property="valuta"			column="GLS_VALUTA"			javaType="java.lang.String" />
			<result property="monto"			column="fld_sope_mto"		javaType="java.lang.Double" />
			<result property="nombreBenef"		column="fld_sope_ide_ben_1"	javaType="java.lang.String" />
			<result property="referencia"		column="fld_sope_ref_pag"	javaType="java.lang.String" />
			<result property="estado"			column="GLS"				javaType="java.lang.String" />
			<result property="indicadorPagina"	column="numero"				javaType="java.lang.Long" />
		</resultMap>	
		<procedure id="listaOrdenPagoEnProceso" parameterMap="setOrdenPagoEnProceso" resultMap="getOrdenPagoEnProceso">
			{ CALL CMXweb_sope_cns_sope ( ?, ?, ?, ?, ?, ?, ? ) }
		</procedure>

	<!--  METODO MIGRADO: OrdenesPorFirmar[] OrdenesPorFirmar(String rutEmp, String numCnv, String horaTope) -->
<resultMap id="ordenesPorFirmar" class="java.util.HashMap">
		<result property="numSolicitud" column="numSolicitud" />
		<result property="fechaIngreso" column="fechaIngreso" />
		<result property="horaIngreso" column="horaIngreso" />
		<result property="valuta" column="valuta" />
		<result property="monto" column="monto" />
		<result property="nombreBenef" column="nombreBenef" />
		<result property="cuenta" column="cuenta" />
		<result property="tipoCuenta" column="tipoCuenta" />
		<result property="hora" column="hora" />
	</resultMap>
	<procedure id="listaOrdenesPorFirmar" resultMap="ordenesPorFirmar" parameterClass="java.util.HashMap">
		{CALL CMXweb_sope_por_fir( #rut#,
								   #dv#,
								   #horaFin#
								  )
                    }
		</procedure>

<!-- METODO MIGRADO (VIGENTE):  public CreditoInfoYTipos ListaCreditoInfo(String rut, String estado, String tipoBuscado, String moneda, Date fechaDesde, Date fechaHasta, String numOperacion) -->
		<resultMap id="getDesplegarCreditosVigentes" class="java.util.HashMap">
			<result property="numOperacion"  	column="fld_col_num"				javaType="java.lang.String" />
			<result property="tipo"          	column="fld_col_nom_tip_ope"		javaType="java.lang.String" />
			<result property="moneda"        	column="GLS_MON"					javaType="java.lang.String" />
			<result property="saldo"         	column="fld_col_mto_sdo_cuo"		javaType="java.lang.String" />
			<result property="cuotaDolar"    	column="fld_aux_cuo_usd"			javaType="java.lang.String" />
			<result property="totalDolar"    	column="fld_aux_tot_usd"			javaType="java.lang.String" />
			<result property="fecIniInt"     	column="fld_col_fec_ini_pag_int"	javaType="java.lang.String" />
			<result property="tasa"             column="fld_aux_tasa"               javaType="java.lang.String" />
			<result property="tasaDolar"        column="fld_aux_int_usd"            javaType="java.lang.String" />
			<result property="cuota"            column="fld_aux_gls_eve"            javaType="java.lang.String" />
			<result property="montoOriginal"    column="fld_col_mto_ori"            javaType="java.lang.String" />
            <result property="fecOtorgamiento"  column="fld_col_fec_otor"           javaType="java.lang.String" />
			<result property="fecVencimiento"   column="fld_col_fec_vto"            javaType="java.lang.String" />
		</resultMap>
		<procedure id="desplegarCreditosVigentes" parameterClass="java.util.HashMap" resultMap="getDesplegarCreditosVigentes">
			{ CALL CMXweb_col_bus_col_pcomex ( 
			<isNull property="rut">NULL</isNull>
            <isNotNull property="rut">#rut#</isNotNull>,
            <isNull property="modalidad">NULL</isNull>
            <isNotNull property="modalidad">#modalidad#</isNotNull>, 
            <isNull property="tipoMoneda">NULL</isNull> 
            <isNotNull property="tipoMoneda">#tipoMoneda#</isNotNull>,
            <isNull property="fechaDesde">NULL</isNull>
            <isNotNull property="fechaDesde">#fechaDesde#</isNotNull>, 
            <isNull property="fechaHasta">NULL</isNull>
            <isNotNull property="fechaHasta">#fechaHasta#</isNotNull>,
            <isNull property="numOperacion">NULL</isNull>
            <isNotNull property="numOperacion">#numOperacion#</isNotNull>   
			 ) }
		</procedure>
		<!-- METODO MIGRADO (HISTORICO):  public CreditoInfoYTipos ListaCreditoInfo(String rut, String estado, String tipoBuscado, String moneda, Date fechaDesde, Date fechaHasta, String numOperacion) -->
		<resultMap id="getDesplegarCreditosHistoricos" class="java.util.HashMap">
			<result property="numOperacion"  	column="fld_col_num"				javaType="java.lang.String" />
			<result property="tipo"          	column="fld_col_nom_tip_ope"		javaType="java.lang.String" />
			<result property="moneda"        	column="GLS_MON"					javaType="java.lang.String" />
			<result property="saldo"         	column="fld_col_mto_sdo_cuo"		javaType="java.lang.String" />
			<result property="cuotaDolar"    	column="fld_aux_cuo_usd"			javaType="java.lang.String" />
			<result property="totalDolar"    	column="fld_aux_tot_usd"			javaType="java.lang.String" />
			<result property="fecIniInt"     	column="fld_col_fec_ini_pag_int"	javaType="java.lang.String" />
			<result property="tasa"             column="fld_aux_tasa"               javaType="java.lang.String" />
			<result property="tasaDolar"        column="fld_aux_int_usd"            javaType="java.lang.String" />
			<result property="cuota"            column="fld_aux_gls_eve"            javaType="java.lang.String" />
			<result property="montoOriginal"    column="fld_col_mto_ori"            javaType="java.lang.String" />
			<result property="fecOtorgamiento"  column="fld_col_fec_otor"           javaType="java.lang.String" />
			<result property="fecPago"   		column="fld_col_fec_vto_cuo"        javaType="java.lang.String" />	
		</resultMap>
		<procedure id="desplegarCreditosHistoricos" parameterClass="java.util.HashMap" resultMap="getDesplegarCreditosHistoricos">
			{ CALL CMXweb_col_bus_col_pcomex_his ( 
			<isNull property="rut">NULL</isNull>
            <isNotNull property="rut">#rut#</isNotNull>,
            <isNull property="modalidad">NULL</isNull>
            <isNotNull property="modalidad">#modalidad#</isNotNull>, 
            <isNull property="tipoMoneda">NULL</isNull> 
            <isNotNull property="tipoMoneda">#tipoMoneda#</isNotNull>,
            <isNull property="fechaDesde">NULL</isNull>
            <isNotNull property="fechaDesde">#fechaDesde#</isNotNull>, 
            <isNull property="fechaHasta">NULL</isNull>
            <isNotNull property="fechaHasta">#fechaHasta#</isNotNull>,
            <isNull property="numOperacion">NULL</isNull>
            <isNotNull property="numOperacion">#numOperacion#</isNotNull>   
			 ) }
		</procedure>		
	<!-- WORKFLOW :: Ejecucion de Requerimientos en BD COMEX-->
	<parameterMap id="setEjecutarRequerimientoComex" class="java.util.HashMap">
		<parameter property="fld_wfg_trn_nam" jdbcType="CHAR" javaType="String"/>
		<parameter property="fld_wfg_trn_prm" jdbcType="CHAR" javaType="String"/>
	</parameterMap>
	<resultMap id="getEjecutarRequerimientoComex" class="java.util.HashMap">	
		<result property="indicadorResultadoOperacion" column="wss_result_sw" javaType="java.lang.Integer"/>
		<result property="mensajeResultadoOperacion" column="wss_result_msg" javaType="String"/>
		<result property="respuestaRequerimiento" column="fld_wfg_trn_rpy" javaType="String"/>
	</resultMap>
		<procedure id="ejecutarRequerimientoComex" parameterMap="setEjecutarRequerimientoComex" resultMap="getEjecutarRequerimientoComex">
		{ CALL BCX_99_151_MRQT (?,?) }
	</procedure>
	
	<parameterMap id="setObtenerBancosPorPais" class="java.util.HashMap">
		<parameter property="fld_wfg_bnk_ctr" jdbcType="CHAR" javaType="String"/>
	</parameterMap>
	<resultMap id="getObtenerBancosPorPais" class="java.util.HashMap">	
		<result property="indicadorResultadoOperacion" column="wss_result_sw" javaType="java.lang.Integer"/>
		<result property="mensajeResultadoOperacion" column="wss_result_msg" javaType="String"/>
		<result property="biccod" column="fld_crk_bnk_bic" javaType="String"/>
		<result property="rutBanco" column="fld_crk_bnk_rut" javaType="String"/>
		<result property="nombreBanco" column="fld_crk_bnk_nam" javaType="String"/>
	</resultMap>
		<procedure id="obtenerBancosPorPais" parameterMap="setObtenerBancosPorPais" resultMap="getObtenerBancosPorPais">
		{ CALL BCXsrv_shw_bnk_ctr (?) }
	</procedure> 
	<!-- WORKFLOW :: Verificar vigencia del corresponsal-->
	<parameterMap id="setVerificarCorresponsal" class="java.util.HashMap">
		<parameter property="fld_wfg_bnk_bic" jdbcType="CHAR" javaType="String"/>
		<parameter property="fld_wfg_cur_ope" jdbcType="CHAR" javaType="String"/>
	</parameterMap>
	<resultMap id="getVerificarCorresponsal" class="java.util.HashMap">	
		<result property="indicadorResultadoOperacion" column="wss_result_sw" javaType="java.lang.Integer"/>
		<result property="mensajeResultadoOperacion" column="wss_result_msg" javaType="String"/>
		<result property="indicadorCorresponsal" column="fld_flg_bnk_cor" javaType="String"/>
		<result property="nombreBanco" column="fld_bin_nam_fds" javaType="String"/>
	</resultMap>
		<procedure id="verificarCorresponsal" parameterMap="setVerificarCorresponsal" resultMap="getVerificarCorresponsal">
		{ CALL BCXsrv_vrf_vig_bcr (?,?) }
	</procedure> 

        <!-- Obtiene valores de moneda dado su codigo a la fecha dada -->
        <parameterMap id="setValorMonedaFecha" class="java.util.HashMap">
            <parameter property="codigoMoneda"  jdbcType="INTEGER"    javaType="java.lang.Integer" mode="IN" />
            <parameter property="fecha"         jdbcType="DATETIME"   javaType="java.util.Date"    mode="IN" />
            <parameter property="tip_com"       jdbcType="FLOAT"      javaType="java.lang.Double"  mode="INOUT"/>
            <parameter property="tip_ven"       jdbcType="FLOAT"      javaType="java.lang.Double"  mode="INOUT"/>
            <parameter property="tip_sup"       jdbcType="FLOAT"      javaType="java.lang.Double"  mode="INOUT"/>
            <parameter property="val_par"       jdbcType="FLOAT"      javaType="java.lang.Double"  mode="INOUT"/>
            <parameter property="tip_obs"       jdbcType="FLOAT"      javaType="java.lang.Double"  mode="INOUT"/>
            <parameter property="tip_acu"       jdbcType="FLOAT"      javaType="java.lang.Double"  mode="INOUT"/>
            <parameter property="val_pve"       jdbcType="FLOAT"      javaType="java.lang.Double"  mode="INOUT"/>
            <parameter property="val_pco"       jdbcType="FLOAT"      javaType="java.lang.Double"  mode="INOUT"/>            
        </parameterMap>
        <procedure id="consultarValoresMonedaFecha" parameterMap="setValorMonedaFecha" >
            { CALL PrmACMXMONEDAFEC ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) }
        </procedure>

</sqlMap>    

<?xml version = "1.0" encoding = "ISO-8859-1" ?>
<!-- 
**
 * SP para obtener las tarjetas bip asociadas a un cliente
 * <p>
 * Registro de versiones:<ul>
 * <li>1.0 05/12/2006 Felipe Concha. - Versi√≥n inicial
 * <li>1.1 06/01/2014 Samuel Merino(ADA Ltda.) - Se agregan los atributos
 *                       cuentaCargoSMS, aliasTarjetaSMS, estadoAliasSMS.
 * </li>
 * </ul>
 * <p>
 * Notas de la Fuente de Datos
 * Base de datos : transtgo
 
 * @Felipe C.M. <B>Neoris Chile Ltda.</B>
 * @version 1.0
 */
-->

<service name = "sp_obtieneTarjetas">

  <context>

    <boolean_false value="1" />

    <boolean_true value="0" />

    <general_exception_codigo value="ESPECIAL" />

    <have_multi_environment value="no" />

    <outputfield_attr value="no" />

    <req_num_param value="no" />

    <translator value="RORPPTPG" />

    <campo_indica_cantidad value="" />

    <status_throw_exception value="yes" />

    <joltpool_name value="wcorp.serv.transantiago.ServicioTarjetaBIPBean" />

  </context>
<input>

        <field
          java_name = "rut"
          type = "String"
          size = "10"
          middle_name = "rut"
        />
        <field
          java_name = "digitoVerificador"
          type = "char"
          size = "1"
          middle_name = "dv"
        />

  </input>

  <output>
  <struct struct_size="0" class_name="RegistrosDTO" var_name="listaTarjetas"> 
     <field
          java_name = "numeroTarjeta"
          type = "Long"
          size = "10"
          middle_name = "numeroTarjeta"
        />
     <field
          java_name = "fechaCambioEstado"
          type = "String"
          size = "15"
          middle_name = "fechaCambioEstTarjeta"
        />
     <field
          java_name = "estadoTarjeta"
          type = "String"
          size = "3"
          middle_name = "estadoTarjeta"
        />   
     <field
          java_name = "codigoOrigen"
          type = "String"
          size = "5"
          middle_name = "codOrigen"
        />
		
     <field
          java_name = "alias"
          type = "String"
          size = "25"
          middle_name = "alias"
        /> 
     <field
          java_name = "fechaCambioRelacion"
          type = "String"
          size = "15"
          middle_name = "fechaCambioRelacion"
        /> 
     <field
          java_name = "estadoRelacion"
          type = "String"
          size = "3"
          middle_name = "estadoRelacion"
        /> 
     <field
          java_name = "mail"
          type = "String"
          size = "50"
          middle_name = "mail"
        />
	<field
          java_name = "cuentaCargoSMS"
          type = "String"
          size = "20"
          middle_name = "cuentaCargoSMS"
        />
	<field
	  java_name = "aliasTarjetaSMS"
	  type = "String"
	  size = "20"
	  middle_name = "aliasTarjetaSMS"
	/>
	<field
	  java_name = "estadoAliasSMS"
	  type = "String"
	  size = "3"
	  middle_name = "estadoAliasSMS"
	/>

  </struct>
  </output>

</service>



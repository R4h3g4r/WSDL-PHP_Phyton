<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE sqlMap      
    PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"      
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">
	
<sqlMap namespace="banremo.procedimientosAlmacenados">	

    <!-- Declaración parametros de entrada -->
    <parameterMap id="setDatosActualizaInserta" class="java.util.HashMap">
		<parameter property="p_cli_idc"        jdbcType="VARCHAR" javaType="String" />
		<parameter property="p_esi_rta_liq_fja"      jdbcType="FLOAT" javaType="Float" />
		<parameter property="p_esi_rta_liq_var"      jdbcType="FLOAT" javaType="Float" />
		<parameter property="p_esi_rta_liq_mensual"      jdbcType="FLOAT" javaType="Float" />
		<parameter property="p_esi_usr_act_rlm"      jdbcType="VARCHAR" javaType="String" />
    </parameterMap>

    <!-- Declaración parametros de salida -->
  	<resultMap id="getDatosActualizaInserta" class="java.util.HashMap">
	    <result  property="resultado"   jdbcType="Integer"  javaType="int" />
	</resultMap> 

	    <!--Ejecución del procedimiento -->
	<procedure id="actualizaInserta" parameterMap="setDatosActualizaInserta" resultMap="getDatosActualizaInserta">
	   {CALL sp_ingr_act_rta_cli_tbanc( ?, ?,?,?,?)}
	</procedure>

	<!-- Declaración parametros de entrada -->
    <parameterMap id="setDatosRbk" class="java.util.HashMap">
		<parameter property="p_cli_idc"        jdbcType="VARCHAR" javaType="String" />		
    </parameterMap>

    <!-- Declaración parametros de salida -->
  	<resultMap id="getDatosRbk" class="java.util.HashMap">
	    <result  property="resultado"   jdbcType="Integer"  javaType="int" />
	</resultMap> 

	    <!--Ejecución del procedimiento -->
	<procedure id="rollbackActualizaInserta" parameterMap="setDatosRbk" resultMap="getDatosRbk">
	   {CALL sp_rbk_ult_rta( ?)}
	</procedure>
</sqlMap>	


